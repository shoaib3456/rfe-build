(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2266fa"],{e93c:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{staticClass:"d-flex  align-items-center"},[i("b-card",{staticClass:"col-12 mt-1 p-1",staticStyle:{height:"100%","overflow-x":"hidden","min-height":"370px"},attrs:{"no-body":""}},[e.roles.isAdmin?i("div",{staticClass:"d-flex justify-content-end"},[i("b-button",{staticClass:"saj-button mt-1",attrs:{variant:"primary"},on:{click:function(t){return e.$bvModal.show("new-sub-behaviour")}}},[e._v(" "+e._s(e.$t("Add New Sub Behavioural"))+" ")])],1):e._e(),i("div",[i("b-table",{staticClass:"mt-1 mb-1 saj-subtitle",attrs:{"show-empty":"",items:e.behaviourList,fields:e.fields,responsive:"",bordered:""},scopedSlots:e._u([{key:"head()",fn:function(t){return[i("span",{staticClass:"saj-title"},[e._v(e._s(e.$t(t.label)))])]}},{key:"cell(index)",fn:function(t){return[i("div",{staticClass:"saj-text d-flex justify-content-center"},[e._v(" "+e._s(t.index+1)+" ")])]}},{key:"empty",fn:function(){return[i("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[e._v(" "+e._s(e.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(subBehaviour)",fn:function(t){return[e._v(" "+e._s(e.isEnglish?t.item.name_bi:t.item.name_bm)+" ")]}},{key:"cell(action)",fn:function(t){return[i("div",{staticClass:"d-flex justify-content-center"},[e.roles.isAdmin?i("div",[i("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:e.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",staticStyle:{color:"green"},attrs:{icon:"EditIcon",size:"25"},on:{click:function(i){e.$bvModal.show("edit-sub-behaviour"),e.subBehavData=t.item}}}),i("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:e.$t("Delete"),expression:"$t('Delete')",modifiers:{hover:!0,top:!0}}],staticClass:"hoverIcon",staticStyle:{color:"red"},attrs:{icon:"Trash2Icon",size:"25"},on:{click:function(i){e.$bvModal.show("delete-sub-behaviour"),e.SubBehaviourID=t.item.id}}})],1):i("div",[e._v(" "+e._s(e.$t("Not available"))+" ")])])]}}])})],1),i("b-modal",{attrs:{id:"new-sub-behaviour","hide-header":!0,"hide-footer":!0,centered:!0,size:"lg"}},[i("subBehaviouralModal",{attrs:{"is-update":!1,"behaviour-id":e.behaviour_id,"behaviour-data":{}},on:{close:function(t){return e.$bvModal.hide("new-sub-behaviour")},"reload-subbehaviour":function(t){return e.getSubBehaviour()}}})],1),i("b-modal",{attrs:{id:"edit-sub-behaviour","hide-footer":!0,"hide-header":!0,centered:!0,size:"lg"}},[i("subBehaviouralModal",{attrs:{"behaviour-data":e.subBehavData},on:{close:function(t){return e.$bvModal.hide("edit-sub-behaviour")},"reload-subbehaviour":function(t){return e.getSubBehaviour()}}})],1),i("b-modal",{attrs:{id:"delete-sub-behaviour","hide-footer":!0,"hide-header":!0,centered:!0}},[i("deleteSubBehav",{attrs:{"confirm-btn":"Yes"},on:{cancel:function(t){return e.$bvModal.hide("delete-sub-behaviour")},confirm:function(t){return e.deleteSubBehavioural()}}})],1)],1)],1)])},o=[],s=i("205f"),r=i("29a1"),n=i("1947"),u=i("2616"),l=i("76c5"),d=i("16b1"),h=i("206d"),b=i("2f62"),c={components:{BCard:s["a"],BTable:r["a"],BButton:n["a"],subBehaviouralModal:l["a"],deleteSubBehav:d["a"]},directives:{"b-tooltip":u["a"]},props:{},data(){return{behaviour_id:null,fields:[{key:"index",label:"No.",thClass:"text-center"},{key:"subBehaviour",label:"Sub Behavioural",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],behaviourList:[],subBehavData:null,SubBehaviourID:null}},computed:{isEnglish(){return"en"===this.$i18n.locale},...Object(b["c"])(["roles"])},beforeMount(){this.behaviour_id=this.$route.params.id.toString()},mounted(){this.getSubBehaviour()},methods:{getSubBehaviour(){this.$axios.get(`${this.$baseUrl}/competency_behaviour/get_subbehaviour_by_behaviour_id?behaviour_id=${this.behaviour_id}`).then(e=>{this.subBehaviour=e.data.data,this.behaviourList=this.subBehaviour.map(e=>({id:e.id,name_bm:e.name_bm,name_bi:e.name_bi}))})},deleteSubBehavioural(){const e=new FormData;e.append("sub_behaviour_id",this.SubBehaviourID),this.$axios.post(this.$baseUrl+"/competency_behaviour/delete_sub_behaviour_permanently",e).then(()=>{this.getSubBehaviour(),this.$bvModal.hide("delete-sub-behaviour"),this.$toast({component:h["a"],props:{title:this.$t("Successfully deleted")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})})}}},v=c,f=i("2877"),m=Object(f["a"])(v,a,o,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d2266fa.c4787ad0.js.map