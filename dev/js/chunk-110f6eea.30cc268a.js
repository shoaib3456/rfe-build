(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-110f6eea"],{"06d9":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var r=a("2b0e"),n=r["default"].extend({computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(t){this.$refs.input.selectionStart=t}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(t){this.$refs.input.selectionEnd=t}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(t){this.$refs.input.selectionDirection=t}}},methods:{select:function(){var t;(t=this.$refs.input).select.apply(t,arguments)},setSelectionRange:function(){var t;(t=this.$refs.input).setSelectionRange.apply(t,arguments)},setRangeText:function(){var t;(t=this.$refs.input).setRangeText.apply(t,arguments)}}})},"0da4":function(t,e,a){(function(e){
/*!
 * 
 *               jsPDF AutoTable plugin v3.5.29
 *
 *               Copyright (c) 2023 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */
(function(e,r){t.exports=r(function(){try{return a("8baf")}catch(t){}}())})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof this||("undefined"!==typeof window?window:"undefined"!==typeof self&&self),(function(t){return function(){"use strict";var e={662:function(t,e){var a=this&&this.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.CellHookData=e.HookData=void 0;var r=function(){function t(t,e,a){this.table=e,this.pageNumber=e.pageNumber,this.pageCount=this.pageNumber,this.settings=e.settings,this.cursor=a,this.doc=t.getDocument()}return t}();e.HookData=r;var n=function(t){function e(e,a,r,n,i,s){var o=t.call(this,e,a,s)||this;return o.cell=r,o.row=n,o.column=i,o.section=n.section,o}return a(e,t),e}(r);e.CellHookData=n},790:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var r=a(148),n=a(938),i=a(323),s=a(587),o=a(49),l=a(858);function c(t){t.API.autoTable=function(){for(var t,e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];1===e.length?t=e[0]:(console.error("Use of deprecated autoTable initiation"),t=e[2]||{},t.columns=e[0],t.body=e[1]);var r=(0,s.parseInput)(this,t),n=(0,l.createTable)(this,r);return(0,o.drawTable)(this,n),this},t.API.lastAutoTable=!1,t.API.previousAutoTable=!1,t.API.autoTable.previous=!1,t.API.autoTableText=function(t,e,a,r){(0,n.default)(t,e,a,r,this)},t.API.autoTableSetDefaults=function(t){return i.DocHandler.setDefaults(t,this),this},t.autoTableSetDefaults=function(t,e){i.DocHandler.setDefaults(t,e)},t.API.autoTableHtmlToJson=function(t,e){if(void 0===e&&(e=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new i.DocHandler(this),n=(0,r.parseHtml)(a,t,window,e,!1),s=n.head,o=n.body,l=s[0].map((function(t){return t.content}));return{columns:l,rows:o,data:o}},t.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var t=this.lastAutoTable;return t&&t.finalY?t.finalY:0},t.API.autoTableAddPageContent=function(e){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),t.API.autoTable.globalDefaults||(t.API.autoTable.globalDefaults={}),t.API.autoTable.globalDefaults.addPageContent=e,this},t.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}e["default"]=c},938:function(t,e){function a(t,e,a,r,n){r=r||{};var i=1.15,s=n.internal.scaleFactor,o=n.internal.getFontSize()/s,l=/\r\n|\r|\n/g,c="",u=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c="string"===typeof t?t.split(l):t,u=c.length||1),a+=o*(2-i),"middle"===r.valign?a-=u/2*o*i:"bottom"===r.valign&&(a-=u*o*i),"center"===r.halign||"right"===r.halign){var m=o;if("center"===r.halign&&(m*=.5),c&&u>=1){for(var h=0;h<c.length;h++)n.text(c[h],e-n.getStringUnitWidth(c[h])*m,a),a+=o*i;return n}e-=n.getStringUnitWidth(t)*m}return"justify"===r.halign?n.text(t,e,a,{maxWidth:r.maxWidth||100,align:"justify"}):n.text(t,e,a),n}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},200:function(t,e){function a(t,e,a){a.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],n=r.map((function(t){return a.getTextWidth(t)})).reduce((function(t,e){return Math.max(t,e)}),0);return n}function r(t,e,a,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=n(i,!1);o&&t.rect(a.x,a.y,e.getWidth(t.pageSize().width),r.y-a.y,o)}function n(t,e){var a=t>0,r=e||0===e;return a&&r?"DF":a?"S":r?"F":null}function i(t,e){var a,r,n,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(3===t.length)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(2===t.length)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t=1===t.length?t[0]:e}return"object"===typeof t?("number"===typeof t.vertical&&(t.top=t.vertical,t.bottom=t.vertical),"number"===typeof t.horizontal&&(t.right=t.horizontal,t.left=t.horizontal),{left:null!==(a=t.left)&&void 0!==a?a:e,top:null!==(r=t.top)&&void 0!==r?r:e,right:null!==(n=t.right)&&void 0!==n?n:e,bottom:null!==(i=t.bottom)&&void 0!==i?i:e}):("number"!==typeof t&&(t=e),{top:t,right:t,bottom:t,left:t})}Object.defineProperty(e,"__esModule",{value:!0}),e.parseSpacing=e.getFillStyle=e.addTableBorder=e.getStringWidth=void 0,e.getStringWidth=a,e.addTableBorder=r,e.getFillStyle=n,e.parseSpacing=i},913:function(t,e){var a=this&&this.__extends||function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.getTheme=e.defaultStyles=e.HtmlRowInput=e.FONT_ROW_RATIO=void 0,e.FONT_ROW_RATIO=1.15;var r=function(t){function e(e){var a=t.call(this)||this;return a._element=e,a}return a(e,t),e}(Array);function n(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function i(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}e.HtmlRowInput=r,e.defaultStyles=n,e.getTheme=i},259:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCss=void 0;var r=a(200);function n(t,e,a,r,n){var o={},c=96/72,u=s(e,(function(t){return n.getComputedStyle(t)["backgroundColor"]}));null!=u&&(o.fillColor=u);var m=s(e,(function(t){return n.getComputedStyle(t)["color"]}));null!=m&&(o.textColor=m);var h=s(e,(function(t){return n.getComputedStyle(t)["borderTopColor"]}));null!=h&&(o.lineColor=h);var d=l(r,a);d&&(o.cellPadding=d);var p=parseInt(r.borderTopWidth||"");p=p/c/a,p&&(o.lineWidth=p);var g=["left","right","center","justify"];-1!==g.indexOf(r.textAlign)&&(o.halign=r.textAlign),g=["middle","bottom","top"],-1!==g.indexOf(r.verticalAlign)&&(o.valign=r.verticalAlign);var _=parseInt(r.fontSize||"");isNaN(_)||(o.fontSize=_/c);var f=i(r);f&&(o.fontStyle=f);var b=(r.fontFamily||"").toLowerCase();return-1!==t.indexOf(b)&&(o.font=b),o}function i(t){var e="";return("bold"===t.fontWeight||"bolder"===t.fontWeight||parseInt(t.fontWeight)>=700)&&(e="bold"),"italic"!==t.fontStyle&&"oblique"!==t.fontStyle||(e+="italic"),e}function s(t,e){var a=o(t,e);if(!a)return null;var r=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var n=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return 0===i||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function o(t,e){var a=e(t);return"rgba(0, 0, 0, 0)"===a||"transparent"===a||"initial"===a||"inherit"===a?null==t.parentElement?null:o(t.parentElement,e):a}function l(t,e){var a=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=a.map((function(t){return parseInt(t||"0")/n})),o=(0,r.parseSpacing)(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}e.parseCss=n},323:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DocHandler=void 0;var a={},r=function(){function t(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(t,e){void 0===e&&(e=null),e?e.__autoTableDocumentDefaults=t:a=t},t.unifyColor=function(t){return Array.isArray(t)?t:"number"===typeof t?[t,t,t]:"string"===typeof t?[t]:null},t.prototype.applyStyles=function(e,a){var r,n,i;void 0===a&&(a=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!a){var u=t.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=t.unifyColor(e.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=t.unifyColor(e.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),"number"===typeof e.lineWidth&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(t,e,a){return this.jsPDFDocument.splitTextToSize(t,e,a)},t.prototype.rect=function(t,e,a,r,n){return this.jsPDFDocument.rect(t,e,a,r,n)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return a||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return null==t.width&&(t={width:t.getWidth(),height:t.getHeight()}),t},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}();e.DocHandler=r},148:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.parseHtml=void 0;var r=a(259),n=a(913);function i(t,e,a,r,n){var i,o,l;void 0===r&&(r=!1),void 0===n&&(n=!1),l="string"===typeof e?a.document.querySelector(e):e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),m=[],h=[],d=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:m,body:h,foot:d};for(var p=0;p<l.rows.length;p++){var g=l.rows[p],_=null===(o=null===(i=null===g||void 0===g?void 0:g.parentElement)||void 0===i?void 0:i.tagName)||void 0===o?void 0:o.toLowerCase(),f=s(c,u,a,g,r,n);f&&("thead"===_?m.push(f):"tfoot"===_?d.push(f):h.push(f))}return{head:m,body:h,foot:d}}function s(t,e,a,i,s,l){for(var c=new n.HtmlRowInput(i),u=0;u<i.cells.length;u++){var m=i.cells[u],h=a.getComputedStyle(m);if(s||"none"!==h.display){var d=void 0;l&&(d=(0,r.parseCss)(t,m,e,h,a)),c.push({rowSpan:m.rowSpan,colSpan:m.colSpan,styles:d,_element:m,content:o(m)})}}var p=a.getComputedStyle(i);if(c.length>0&&(s||"none"!==p.display))return c}function o(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/\<br.*?\>/).map((function(t){return t.trim()})).join("\n"),e.innerText||e.textContent||""}e.parseHtml=i},587:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.parseInput=void 0;var r=a(148),n=a(360),i=a(200),s=a(323),o=a(291);function l(t,e){var a=new s.DocHandler(t),r=a.getDocumentOptions(),i=a.getGlobalOptions();(0,o.default)(a,i,r,e);var l,h=(0,n.assign)({},i,r,e);"undefined"!==typeof window&&(l=window);var p=c(i,r,e),g=u(i,r,e),_=m(a,h),f=d(a,h,l);return{id:e.tableId,content:f,hooks:g,styles:p,settings:_}}function c(t,e,a){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(i){if("columnStyles"===i){var s=t[i],o=e[i],l=a[i];r.columnStyles=(0,n.assign)({},s,o,l)}else{var c=[t,e,a],u=c.map((function(t){return t[i]||{}}));r[i]=(0,n.assign)({},u[0],u[1],u[2])}},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];i(l)}return r}function u(t,e,a){for(var r=[t,e,a],n={didParseCell:[],willDrawCell:[],didDrawCell:[],didDrawPage:[]},i=0,s=r;i<s.length;i++){var o=s[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function m(t,e){var a,r,n,s,o,l,c,u,m,d,p,g,_,f=(0,i.parseSpacing)(e.margin,40/t.scaleFactor()),b=null!==(a=h(t,e.startY))&&void 0!==a?a:f.top;g=!0===e.showFoot?"everyPage":!1===e.showFoot?"never":null!==(r=e.showFoot)&&void 0!==r?r:"everyPage",_=!0===e.showHead?"everyPage":!1===e.showHead?"never":null!==(n=e.showHead)&&void 0!==n?n:"everyPage";var y=null!==(s=e.useCss)&&void 0!==s&&s,v=e.theme||(y?"plain":"striped"),x=!!e.horizontalPageBreak,k=null!==(o=e.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(l=e.includeHiddenHtml)&&void 0!==l&&l,useCss:y,theme:v,startY:b,margin:f,pageBreak:null!==(c=e.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(u=e.rowPageBreak)&&void 0!==u?u:"auto",tableWidth:null!==(m=e.tableWidth)&&void 0!==m?m:"auto",showHead:_,showFoot:g,tableLineWidth:null!==(d=e.tableLineWidth)&&void 0!==d?d:0,tableLineColor:null!==(p=e.tableLineColor)&&void 0!==p?p:200,horizontalPageBreak:x,horizontalPageBreakRepeat:k}}function h(t,e){var a=t.getLastAutoTable(),r=t.scaleFactor(),n=t.pageNumber(),i=!1;if(a&&a.startPageNumber){var s=a.startPageNumber+a.pageNumber-1;i=s===n}return"number"===typeof e?e:null!=e&&!1!==e||!i||null==(null===a||void 0===a?void 0:a.finalY)?null:a.finalY+20/r}function d(t,e,a){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(a){var l=(0,r.parseHtml)(t,e.html,a,o,e.useCss)||{};n=l.head||n,i=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||p(n,i,s);return{columns:c,head:n,body:i,foot:s}}function p(t,e,a){var r=t[0]||e[0]||a[0]||[],n=[];return Object.keys(r).filter((function(t){return"_element"!==t})).forEach((function(t){var e,a=1;e=Array.isArray(r)?r[parseInt(t)]:r[t],"object"!==typeof e||Array.isArray(e)||(a=(null===e||void 0===e?void 0:e.colSpan)||1);for(var i=0;i<a;i++){var s=void 0;s=Array.isArray(r)?n.length:t+(i>0?"_".concat(i):"");var o={dataKey:s};n.push(o)}})),n}e.parseInput=l},291:function(t,e){function a(t,e,a,n){for(var i=function(e){e&&"object"!==typeof e&&console.error("The options parameter should be of type object, is: "+typeof e),"undefined"!==typeof e.extendWidth&&(e.tableWidth=e.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),"undefined"!==typeof e.margins&&("undefined"===typeof e.margin&&(e.margin=e.margins),console.error("Use of deprecated option: margins, use margin instead.")),e.startY&&"number"!==typeof e.startY&&(console.error("Invalid value for startY option",e.startY),delete e.startY),!e.didDrawPage&&(e.afterPageContent||e.beforePageContent||e.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),e.didDrawPage=function(a){t.applyStyles(t.userStyles),e.beforePageContent&&e.beforePageContent(a),t.applyStyles(t.userStyles),e.afterPageContent&&e.afterPageContent(a),t.applyStyles(t.userStyles),e.afterPageAdd&&a.pageNumber>1&&a.afterPageAdd(a),t.applyStyles(t.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach((function(t){e[t]&&console.error('The "'.concat(t,'" hook has changed in version 3.0, check the changelog for how to migrate.'))})),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach((function(t){var a=t[0],r=t[1];e[r]&&(console.error("Use of deprecated option ".concat(r,". Use ").concat(a," instead")),e[a]=e[r])})),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach((function(t){var a="string"===typeof t?t:t[0],r="string"===typeof t?t:t[1];"undefined"!==typeof e[a]&&("undefined"===typeof e.styles[r]&&(e.styles[r]=e[a]),console.error("Use of deprecated option: "+a+", use the style "+r+" instead."))}));for(var a=0,n=["styles","bodyStyles","headStyles","footStyles"];a<n.length;a++){var i=n[a];r(e[i]||{})}for(var s=e["columnStyles"]||{},o=0,l=Object.keys(s);o<l.length;o++){var c=l[o];r(s[c]||{})}},s=0,o=[e,a,n];s<o.length;s++){var l=o[s];i(l)}}function r(t){t.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),t.minCellHeight||(t.minCellHeight=t.rowHeight)):t.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),t.cellWidth||(t.cellWidth=t.columnWidth))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},287:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.Column=e.Cell=e.Row=e.Table=void 0;var r=a(913),n=a(662),i=a(200),s=function(){function t(t,e){this.pageNumber=1,this.pageCount=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return t.prototype.getHeadHeight=function(t){return this.head.reduce((function(e,a){return e+a.getMaxCellHeight(t)}),0)},t.prototype.getFootHeight=function(t){return this.foot.reduce((function(e,a){return e+a.getMaxCellHeight(t)}),0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(t,e,a,r,i,s){for(var o=0,l=e;o<l.length;o++){var c=l[o],u=new n.CellHookData(t,this,a,r,i,s),m=!1===c(u);if(a.text=Array.isArray(a.text)?a.text:[a.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var a=0,r=this.hooks.didDrawPage;a<r.length;a++){var i=r[a];i(new n.HookData(t,this,e))}},t.prototype.getWidth=function(t){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth){var e=this.columns.reduce((function(t,e){return t+e.wrappedWidth}),0);return e}var a=this.settings.margin;return t-a.left-a.right},t}();e.Table=s;var o=function(){function t(t,e,a,n,i){void 0===i&&(i=!1),this.height=0,this.raw=t,t instanceof r.HtmlRowInput&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=a,this.cells=n,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce((function(t,a){var r;return Math.max(t,(null===(r=e.cells[a.index])||void 0===r?void 0:r.height)||0)}),0)},t.prototype.hasRowSpan=function(t){var e=this;return t.filter((function(t){var a=e.cells[t.index];return!!a&&a.rowSpan>1})).length>0},t.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},t.prototype.getMinimumRowHeight=function(t,e){var a=this;return t.reduce((function(t,n){var i=a.cells[n.index];if(!i)return 0;var s=i.styles.fontSize/e.scaleFactor()*r.FONT_ROW_RATIO,o=i.padding("vertical"),l=o+s;return l>t?l:t}),0)},t}();e.Row=o;var l=function(){function t(t,e,a){var r,n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=a,this.raw=t;var i=t;null==t||"object"!==typeof t||Array.isArray(t)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=null!==(n=null!==(r=t.content)&&void 0!==r?r:t.title)&&void 0!==n?n:t,t._element&&(this.raw=t._element));var s=null!=i?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var t,e;if("top"===this.styles.valign)t=this.y+this.padding("top");else if("bottom"===this.styles.valign)t=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");t=this.y+a/2+this.padding("top")}if("right"===this.styles.halign)e=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");e=this.x+r/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:t}},t.prototype.getContentHeight=function(t){var e=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r.FONT_ROW_RATIO,n=e*a+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},t.prototype.padding=function(t){var e=(0,i.parseSpacing)(this.styles.cellPadding,0);return"vertical"===t?e.top+e.bottom:"horizontal"===t?e.left+e.right:e[t]},t}();e.Cell=l;var c=function(){function t(t,e,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=a}return t.prototype.getMaxCustomCellWidth=function(t){for(var e=0,a=0,r=t.allRows();a<r.length;a++){var n=r[a],i=n.cells[this.index];i&&"number"===typeof i.styles.cellWidth&&(e=Math.max(e,i.styles.cellWidth))}return e},t}();e.Column=c},360:function(t,e){function a(t,e,a,r,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.assign=void 0,e.assign=a},858:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.createTable=void 0;var r=a(323),n=a(287),i=a(189),s=a(913),o=a(360);function l(t,e){var a=new r.DocHandler(t),s=c(e,a.scaleFactor()),o=new n.Table(e,s);return(0,i.calculateWidths)(a,o),a.applyStyles(a.userStyles),o}function c(t,e){var a=t.content,r=d(a.columns);if(0===a.head.length){var n=m(r,"head");n&&a.head.push(n)}if(0===a.foot.length){n=m(r,"foot");n&&a.foot.push(n)}var i=t.settings.theme,s=t.styles;return{columns:r,head:u("head",a.head,r,s,i,e),body:u("body",a.body,r,s,i,e),foot:u("foot",a.foot,r,s,i,e)}}function u(t,e,a,r,i,s){var o={},l=e.map((function(e,l){for(var c=0,u={},m=0,h=0,d=0,g=a;d<g.length;d++){var _=g[d];if(null==o[_.index]||0===o[_.index].left)if(0===h){var f=void 0;f=Array.isArray(e)?e[_.index-m-c]:e[_.dataKey];var b={};"object"!==typeof f||Array.isArray(f)||(b=(null===f||void 0===f?void 0:f.styles)||{});var y=p(t,_,l,i,r,s,b),v=new n.Cell(f,y,t);u[_.dataKey]=v,u[_.index]=v,h=v.colSpan-1,o[_.index]={left:v.rowSpan-1,times:h}}else h--,m++;else o[_.index].left--,h=o[_.index].times,c++}return new n.Row(e,l,t,u)}));return l}function m(t,e){var a={};return t.forEach((function(t){if(null!=t.raw){var r=h(e,t.raw);null!=r&&(a[t.dataKey]=r)}})),Object.keys(a).length>0?a:null}function h(t,e){if("head"===t){if("object"===typeof e)return e.header||e.title||null;if("string"===typeof e||"number"===typeof e)return e}else if("foot"===t&&"object"===typeof e)return e.footer;return null}function d(t){return t.map((function(t,e){var a,r,i;return i="object"===typeof t&&null!==(r=null!==(a=t.dataKey)&&void 0!==a?a:t.key)&&void 0!==r?r:e,new n.Column(i,t,e)}))}function p(t,e,a,r,n,i,l){var c,u=(0,s.getTheme)(r);"head"===t?c=n.headStyles:"body"===t?c=n.bodyStyles:"foot"===t&&(c=n.footStyles);var m=(0,o.assign)({},u.table,u[t],n.styles,c),h=n.columnStyles[e.dataKey]||n.columnStyles[e.index]||{},d="body"===t?h:{},p="body"===t&&a%2===0?(0,o.assign)({},u.alternateRow,n.alternateRowStyles):{},g=(0,s.defaultStyles)(i),_=(0,o.assign)({},g,m,p,d);return(0,o.assign)(_,l)}e.createTable=l},49:function(t,e,a){var r=this&&this.__spreadArray||function(t,e,a){if(a||2===arguments.length)for(var r,n=0,i=e.length;n<i;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.addPage=e.drawTable=void 0;var n=a(913),i=a(200),s=a(287),o=a(323),l=a(360),c=a(938),u=a(435);function m(t,e){var a=e.settings,r=a.startY,n=a.margin,s={x:n.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+n.bottom+c;if("avoid"===a.pageBreak){var m=e.allRows(),d=m.reduce((function(t,e){return t+e.height}),0);u+=d}var p=new o.DocHandler(t);("always"===a.pageBreak||null!=a.startY&&u>p.pageSize().height)&&(P(p),s.y=n.top);var g=(0,l.assign)({},s);e.startPageNumber=p.pageNumber(),!0===a.horizontalPageBreak?h(p,e,g,s):(p.applyStyles(p.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||e.head.forEach((function(t){return v(p,e,t,s,e.columns)})),p.applyStyles(p.userStyles),e.body.forEach((function(t,a){var r=a===e.body.length-1;y(p,e,t,r,g,s,e.columns)})),p.applyStyles(p.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||e.foot.forEach((function(t){return v(p,e,t,s,e.columns)}))),(0,i.addTableBorder)(p,e,g,s),e.callEndPageHooks(p,s),e.finalY=s.y,t.lastAutoTable=e,t.previousAutoTable=e,t.autoTable&&(t.autoTable.previous=e),p.applyStyles(p.userStyles)}function h(t,e,a,r){var n=u.default.calculateAllColumnsCanFitInPage(t,e);n.map((function(n,i){t.applyStyles(t.userStyles),i>0?F(t,e,a,r,n.columns):d(t,e,r,n.columns),p(t,e,a,r,n.columns),g(t,e,r,n.columns)}))}function d(t,e,a,r){var n=e.settings;t.applyStyles(t.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||e.head.forEach((function(n){return v(t,e,n,a,r)}))}function p(t,e,a,r,n){t.applyStyles(t.userStyles),e.body.forEach((function(i,s){var o=s===e.body.length-1;y(t,e,i,o,a,r,n)}))}function g(t,e,a,r){var n=e.settings;t.applyStyles(t.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||e.foot.forEach((function(n){return v(t,e,n,a,r)}))}function _(t,e,a){var r=t.styles.fontSize/a.scaleFactor()*n.FONT_ROW_RATIO,i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function f(t,e,a,r){var n={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,c=a.columns;o<c.length;o++){var u=c[o],m=t.cells[u.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var h=new s.Cell(m.raw,m.styles,m.section);h=(0,l.assign)(h,m),h.text=[];var d=_(m,e,r);m.text.length>d&&(h.text=m.text.splice(d,m.text.length));var p=r.scaleFactor();m.contentHeight=m.getContentHeight(p),m.contentHeight>=e&&(m.contentHeight=e,h.styles.minCellHeight-=e),m.contentHeight>t.height&&(t.height=m.contentHeight),h.contentHeight=h.getContentHeight(p),h.contentHeight>i&&(i=h.contentHeight),n[u.index]=h}}var g=new s.Row(t.raw,-1,t.section,n,!0);g.height=i;for(var f=0,b=a.columns;f<b.length;f++){u=b[f],h=g.cells[u.index];h&&(h.height=g.height);m=t.cells[u.index];m&&(m.height=t.height)}return g}function b(t,e,a,r){var n=t.pageSize().height,i=r.settings.margin,s=i.top+i.bottom,o=n-s;"body"===e.section&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),c=l<a;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>o;return m?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!u&&"avoid"!==r.settings.rowPageBreak}function y(t,e,a,r,n,i,s){var o=S(t,e,r,i);if(a.canEntireRowFit(o,s))v(t,e,a,i,s);else if(b(t,a,o,e)){var l=f(a,o,e,t);v(t,e,a,i,s),F(t,e,n,i,s),y(t,e,l,r,n,i,s)}else F(t,e,n,i,s),y(t,e,a,r,n,i,s)}function v(t,e,a,r,n){r.x=e.settings.margin.left;for(var i=0,s=n;i<s.length;i++){var o=s[i],l=a.cells[o.index];if(l){t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,a,o,r);if(!1!==u){x(t,l,r);var m=l.getTextPos();(0,c.default)(l.text,m.x,m.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,a,o,r),r.x+=o.width}else r.x+=o.width}else r.x+=o.width}r.y+=a.height}function x(t,e,a){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),"number"===typeof r.lineWidth){var n=(0,i.getFillStyle)(r.lineWidth,r.fillColor);n&&t.rect(e.x,a.y,e.width,e.height,n)}else"object"===typeof r.lineWidth&&(k(t,e,a,r.fillColor),C(t,e,a,r.fillColor,r.lineWidth))}function k(t,e,a,r){var n=!1===r?null:"string"!==typeof r?"F":r;t.rect(e.x,a.y,e.width,e.height,n)}function C(t,e,a,n,s){var o,l,c,u;function m(e,a,n){var s;t.getDocument().setLineWidth(a),(s=t.getDocument()).line.apply(s,r(r([],e,!1),[(0,i.getFillStyle)(a,n)],!1))}s.top&&(o=a.x,l=a.y,c=a.x+e.width,u=a.y,s.right&&(c+=.5*s.right),s.left&&(o-=.5*s.left),m([o,l,c,u],s.top,n)),s.bottom&&(o=a.x,l=a.y+e.height,c=a.x+e.width,u=a.y+e.height,s.right&&(c+=.5*s.right),s.left&&(o-=.5*s.left),m([o,l,c,u],s.bottom,n)),s.left&&(o=a.x,l=a.y,c=a.x,u=a.y+e.height,s.top&&(l-=.5*s.top),s.bottom&&(u+=.5*s.bottom),m([o,l,c,u],s.left,n)),s.right&&(o=a.x+e.width,l=a.y,c=a.x+e.width,u=a.y+e.height,s.top&&(l-=.5*s.top),s.bottom&&(u+=.5*s.bottom),m([o,l,c,u],s.right,n))}function S(t,e,a,r){var n=e.settings.margin.bottom,i=e.settings.showFoot;return("everyPage"===i||"lastPage"===i&&a)&&(n+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-n}function F(t,e,a,r,n){void 0===n&&(n=[]),t.applyStyles(t.userStyles),"everyPage"===e.settings.showFoot&&e.foot.forEach((function(a){return v(t,e,a,r,n)})),e.callEndPageHooks(t,r);var s=e.settings.margin;(0,i.addTableBorder)(t,e,a,r),P(t),e.pageNumber++,e.pageCount++,r.x=s.left,r.y=s.top,a.y=s.top,"everyPage"===e.settings.showHead&&(e.head.forEach((function(a){return v(t,e,a,r,n)})),t.applyStyles(t.userStyles))}function P(t){var e=t.pageNumber();t.setPage(e+1);var a=t.pageNumber();a===e&&t.addPage()}e.drawTable=m,e.addPage=F},435:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var r=a(200),n=function(t,e){var a=(0,r.parseSpacing)(e.settings.margin,0),n=t.pageSize().width-(a.left+a.right);return n},i=function(t,e,a){void 0===a&&(a={});var r=n(t,e),i=r,s=e.settings.horizontalPageBreakRepeat,o=null,l=[],c=[],u=e.columns.length,m=a&&a.start?a.start:0;null!=s&&(o=e.columns.find((function(t){return t.dataKey===s||t.index===s})),o&&(l.push(o.index),c.push(e.columns[o.index]),i-=o.wrappedWidth));while(m<u)if((null===o||void 0===o?void 0:o.index)!==m){var h=e.columns[m].wrappedWidth;if(i<h){0!==m&&m!==a.start||(l.push(m),c.push(e.columns[m]));break}l.push(m),c.push(e.columns[m]),i-=h,m++}else m++;return{colIndexes:l,columns:c,lastIndex:m}},s=function(t,e){var a=[],r=0,n=e.columns.length;while(r<n){var s=i(t,e,{start:0===r?0:r});s&&s.columns&&s.columns.length?(r=s.lastIndex,a.push(s)):r++}return a};e["default"]={getColumnsCanFitInPage:i,calculateAllColumnsCanFitInPage:s,getPageAvailableWidth:n}},189:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.ellipsize=e.resizeColumns=e.calculateWidths=void 0;var r=a(200),n=a(435);function i(t,e){s(t,e);var a=[],r=0;e.columns.forEach((function(t){var n=t.getMaxCustomCellWidth(e);n?t.width=n:(t.width=t.wrappedWidth,a.push(t)),r+=t.width}));var n=e.getWidth(t.pageSize().width)-r;n&&(n=o(a,n,(function(t){return Math.max(t.minReadableWidth,t.minWidth)}))),n&&(n=o(a,n,(function(t){return t.minWidth}))),n=Math.abs(n),!e.settings.horizontalPageBreak&&n>.1/t.scaleFactor()&&(n=n<1?n:Math.round(n),console.error("Of the table content, ".concat(n," units width could not fit page"))),c(e),u(e,t),l(e)}function s(t,e){var a=t.scaleFactor(),i=e.settings.horizontalPageBreak,s=n.default.getPageAvailableWidth(t,e);e.allRows().forEach((function(n){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=n.cells[c.index];if(u){var m=e.hooks.didParseCell;e.callCellHooks(t,m,u,n,c,null);var h=u.padding("horizontal");u.contentWidth=(0,r.getStringWidth)(u.text,u.styles,t)+h;var d=(0,r.getStringWidth)(u.text.join(" ").split(/\s+/),u.styles,t);if(u.minReadableWidth=d+u.padding("horizontal"),"number"===typeof u.styles.cellWidth)u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if("wrap"===u.styles.cellWidth||!0===i)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/a;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}})),e.allRows().forEach((function(t){for(var a=0,r=e.columns;a<r.length;a++){var n=r[a],i=t.cells[n.index];if(i&&1===i.colSpan)n.wrappedWidth=Math.max(n.wrappedWidth,i.wrappedWidth),n.minWidth=Math.max(n.minWidth,i.minWidth),n.minReadableWidth=Math.max(n.minReadableWidth,i.minReadableWidth);else{var s=e.styles.columnStyles[n.dataKey]||e.styles.columnStyles[n.index]||{},o=s.cellWidth||s.minCellWidth;o&&"number"===typeof o&&(n.minWidth=o,n.wrappedWidth=o)}i&&(i.colSpan>1&&!n.minWidth&&(n.minWidth=i.minWidth),i.colSpan>1&&!n.wrappedWidth&&(n.wrappedWidth=i.minWidth))}}))}function o(t,e,a){for(var r=e,n=t.reduce((function(t,e){return t+e.wrappedWidth}),0),i=0;i<t.length;i++){var s=t[i],l=s.wrappedWidth/n,c=r*l,u=s.width+c,m=a(s),h=u<m?m:u;e-=h-s.width,s.width=h}if(e=Math.round(1e10*e)/1e10,e){var d=t.filter((function(t){return!(e<0)||t.width>a(t)}));d.length&&(e=o(d,e,a))}return e}function l(t){for(var e={},a=1,r=t.allRows(),n=0;n<r.length;n++)for(var i=r[n],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=e[l.index];if(a>1)a--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,a=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var m=r.length-n,h=u.rowSpan>m?m:u.rowSpan;e[l.index]={cell:u,left:h,row:i}}}}}function c(t){for(var e=t.allRows(),a=0;a<e.length;a++)for(var r=e[a],n=null,i=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])i+=l.width,delete r.cells[l.index];else if(n){var c=n;delete r.cells[l.index],n=null,c.width=l.width+i}else{c=r.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){n=c,i+=l.width;continue}c.width=l.width+i}}}function u(t,e){for(var a={count:0,height:0},r=0,n=t.allRows();r<n.length;r++){for(var i=n[r],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=m(c.text,u,c.styles,e,"...");else if("hidden"===c.styles.overflow)c.text=m(c.text,u,c.styles,e,"");else if("function"===typeof c.styles.overflow){var h=c.styles.overflow(c.text,u);c.text="string"===typeof h?[h]:h}c.contentHeight=c.getContentHeight(e.scaleFactor());var d=c.contentHeight/c.rowSpan;c.rowSpan>1&&a.count*a.height<d*c.rowSpan?a={height:d,count:c.rowSpan}:a&&a.count>0&&a.height>d&&(d=a.height),d>i.height&&(i.height=d)}}a.count--}}function m(t,e,a,r,n){return t.map((function(t){return h(t,e,a,r,n)}))}function h(t,e,a,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=(0,r.getStringWidth)(t,a,n))return t;while(e<(0,r.getStringWidth)(t+i,a,n)){if(t.length<=1)break;t=t.substring(0,t.length-1)}return t.trim()+i}e.calculateWidths=i,e.resizeColumns=o,e.ellipsize=m},84:function(e){if("undefined"===typeof t){var a=new Error("Cannot find module 'undefined'");throw a.code="MODULE_NOT_FOUND",a}e.exports=t}},a={};function r(t){var n=a[t];if(void 0!==n)return n.exports;var i=a[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}var n={};return function(){var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=t.Column=t.Row=t.Table=t.CellHookData=t.__drawTable=t.__createTable=t.applyPlugin=void 0;var e=r(790),a=r(587),i=r(49),s=r(858),o=r(287);Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return o.Table}});var l=r(662);Object.defineProperty(t,"CellHookData",{enumerable:!0,get:function(){return l.CellHookData}});var c=r(287);function u(t){(0,e.default)(t)}function m(t,e){var r=(0,a.parseInput)(t,e),n=(0,s.createTable)(t,r);(0,i.drawTable)(t,n)}function h(t,e){var r=(0,a.parseInput)(t,e);return(0,s.createTable)(t,r)}function d(t,e){(0,i.drawTable)(t,e)}Object.defineProperty(t,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(t,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return c.Row}}),t.applyPlugin=u,t.__createTable=h,t.__drawTable=d;try{var p=r(84);p.jsPDF&&(p=p.jsPDF),u(p)}catch(g){}t["default"]=m}(),n}()}))}).call(this,a("c8ba"))},"12a9":function(t,e,a){"use strict";a("5138")},"1f1e":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var r=a("2b0e"),n=r["default"].extend({computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var t;return(t=this.$refs.input).setCustomValidity.apply(t,arguments)},checkValidity:function(){var t;return(t=this.$refs.input).checkValidity.apply(t,arguments)},reportValidity:function(){var t;return(t=this.$refs.input).reportValidity.apply(t,arguments)}}})},2632:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var r=a("2b0e"),n=a("c637"),i=a("8df8"),s=a("7b1e"),o=a("df44"),l=r["default"].extend({name:n["gb"],extends:o["a"],computed:{templateType:function(){return"popover"}},methods:{renderTemplate:function(t){var e=this.title,a=this.content,r=Object(s["f"])(e)?e({}):e,n=Object(s["f"])(a)?a({}):a,i=this.html&&!Object(s["f"])(e)?{innerHTML:e}:{},o=this.html&&!Object(s["f"])(a)?{innerHTML:a}:{};return t("div",{staticClass:"popover b-popover",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[t("div",{staticClass:"arrow",ref:"arrow"}),Object(s["p"])(r)||""===r?t():t("h3",{staticClass:"popover-header",domProps:i},[r]),Object(s["p"])(n)||""===n?t():t("div",{staticClass:"popover-body",domProps:o},[n])])}}}),c=r["default"].extend({name:n["fb"],extends:i["a"],computed:{templateType:function(){return"popover"}},methods:{getTemplate:function(){return l}}})},"26d2":function(t,e,a){"use strict";a.d(e,"a",(function(){return G}));var r,n=a("2b0e"),i=a("c637"),s=a("0056"),o=a("a723"),l=a("6d40"),c=a("906c"),u=a("7b1e"),m=a("a8c8"),h=a("3a58"),d=a("d82f"),p=a("cf75"),g=a("9bfa"),_=a("9b76"),f=a("2326"),b=a("6b77"),y=a("58f2"),v=a("fa73"),x=a("686b"),k=a("8c18"),C=a("aa59");function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){P(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function P(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var w=Object(y["a"])("value",{type:o["i"],defaultValue:null,validator:function(t){return!(!Object(u["g"])(t)&&Object(h["b"])(t,0)<1)||(Object(x["a"])('"v-model" value must be a number greater than "0"',i["db"]),!1)}}),D=w.mixin,j=w.props,T=w.prop,O=w.event,$=3,I=5,A=function(t,e){return Object(f["c"])(e,(function(e,a){return{number:t+a,classes:null}}))},E=function(t){var e=Object(h["b"])(t)||1;return e<1?I:e},L=function(t,e){var a=Object(h["b"])(t)||1;return a>e?e:a<1?1:a},R=function(t){if(t.keyCode===g["j"])return Object(b["f"])(t,{immediatePropagation:!0}),t.currentTarget.click(),!1},B=Object(p["d"])(Object(d["m"])(F(F({},j),{},{align:Object(p["c"])(o["t"],"left"),ariaLabel:Object(p["c"])(o["t"],"Pagination"),disabled:Object(p["c"])(o["g"],!1),ellipsisClass:Object(p["c"])(o["e"]),ellipsisText:Object(p["c"])(o["t"],"…"),firstClass:Object(p["c"])(o["e"]),firstNumber:Object(p["c"])(o["g"],!1),firstText:Object(p["c"])(o["t"],"«"),hideEllipsis:Object(p["c"])(o["g"],!1),hideGotoEndButtons:Object(p["c"])(o["g"],!1),labelFirstPage:Object(p["c"])(o["t"],"Go to first page"),labelLastPage:Object(p["c"])(o["t"],"Go to last page"),labelNextPage:Object(p["c"])(o["t"],"Go to next page"),labelPage:Object(p["c"])(o["l"],"Go to page"),labelPrevPage:Object(p["c"])(o["t"],"Go to previous page"),lastClass:Object(p["c"])(o["e"]),lastNumber:Object(p["c"])(o["g"],!1),lastText:Object(p["c"])(o["t"],"»"),limit:Object(p["c"])(o["o"],I,(function(t){return!(Object(h["b"])(t,0)<1)||(Object(x["a"])('Prop "limit" must be a number greater than "0"',i["db"]),!1)})),nextClass:Object(p["c"])(o["e"]),nextText:Object(p["c"])(o["t"],"›"),pageClass:Object(p["c"])(o["e"]),pills:Object(p["c"])(o["g"],!1),prevClass:Object(p["c"])(o["e"]),prevText:Object(p["c"])(o["t"],"‹"),size:Object(p["c"])(o["t"])})),"pagination"),N=n["default"].extend({mixins:[D,k["a"]],props:B,data:function(){var t=Object(h["b"])(this[T],0);return t=t>0?t:-1,{currentPage:t,localNumberOfPages:1,localLimit:I}},computed:{btnSize:function(){var t=this.size;return t?"pagination-".concat(t):""},alignment:function(){var t=this.align;return"center"===t?"justify-content-center":"end"===t||"right"===t?"justify-content-end":"fill"===t?"text-center":""},styleClass:function(){return this.pills?"b-pagination-pills":""},computedCurrentPage:function(){return L(this.currentPage,this.localNumberOfPages)},paginationParams:function(){var t=this.localLimit,e=this.localNumberOfPages,a=this.computedCurrentPage,r=this.hideEllipsis,n=this.firstNumber,i=this.lastNumber,s=!1,o=!1,l=t,c=1;e<=t?l=e:a<t-1&&t>$?(r&&!i||(o=!0,l=t-(n?0:1)),l=Object(m["d"])(l,t)):e-a+2<t&&t>$?(r&&!n||(s=!0,l=t-(i?0:1)),c=e-l+1):(t>$&&(l=t-(r?0:2),s=!(r&&!n),o=!(r&&!i)),c=a-Object(m["b"])(l/2)),c<1?(c=1,s=!1):c>e-l&&(c=e-l+1,o=!1),s&&n&&c<4&&(l+=2,c=1,s=!1);var u=c+l-1;return o&&i&&u>e-3&&(l+=u===e-2?2:3,o=!1),t<=$&&(n&&1===c?l=Object(m["d"])(l+1,e,t+1):i&&e===c+l-1&&(c=Object(m["c"])(c-1,1),l=Object(m["d"])(e-c+1,e,t+1))),l=Object(m["d"])(l,e-c+1),{showFirstDots:s,showLastDots:o,numberOfLinks:l,startNumber:c}},pageList:function(){var t=this.paginationParams,e=t.numberOfLinks,a=t.startNumber,r=this.computedCurrentPage,n=A(a,e);if(n.length>3){var i=r-a,s="bv-d-xs-down-none";if(0===i)for(var o=3;o<n.length;o++)n[o].classes=s;else if(i===n.length-1)for(var l=0;l<n.length-3;l++)n[l].classes=s;else{for(var c=0;c<i-1;c++)n[c].classes=s;for(var u=n.length-1;u>i+1;u--)n[u].classes=s}}return n}},watch:(r={},P(r,T,(function(t,e){t!==e&&(this.currentPage=L(t,this.localNumberOfPages))})),P(r,"currentPage",(function(t,e){t!==e&&this.$emit(O,t>0?t:null)})),P(r,"limit",(function(t,e){t!==e&&(this.localLimit=E(t))})),r),created:function(){var t=this;this.localLimit=E(this.limit),this.$nextTick((function(){t.currentPage=t.currentPage>t.localNumberOfPages?t.localNumberOfPages:t.currentPage}))},methods:{handleKeyNav:function(t){var e=t.keyCode,a=t.shiftKey;this.isNav||(e===g["f"]||e===g["k"]?(Object(b["f"])(t,{propagation:!1}),a?this.focusFirst():this.focusPrev()):e!==g["i"]&&e!==g["a"]||(Object(b["f"])(t,{propagation:!1}),a?this.focusLast():this.focusNext()))},getButtons:function(){return Object(c["D"])("button.page-link, a.page-link",this.$el).filter((function(t){return Object(c["u"])(t)}))},focusCurrent:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().find((function(e){return Object(h["b"])(Object(c["h"])(e,"aria-posinset"),0)===t.computedCurrentPage}));Object(c["d"])(e)||t.focusFirst()}))},focusFirst:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().find((function(t){return!Object(c["r"])(t)}));Object(c["d"])(e)}))},focusLast:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().reverse().find((function(t){return!Object(c["r"])(t)}));Object(c["d"])(e)}))},focusPrev:function(){var t=this;this.$nextTick((function(){var e=t.getButtons(),a=e.indexOf(Object(c["g"])());a>0&&!Object(c["r"])(e[a-1])&&Object(c["d"])(e[a-1])}))},focusNext:function(){var t=this;this.$nextTick((function(){var e=t.getButtons(),a=e.indexOf(Object(c["g"])());a<e.length-1&&!Object(c["r"])(e[a+1])&&Object(c["d"])(e[a+1])}))}},render:function(t){var e=this,a=this.disabled,r=this.labelPage,n=this.ariaLabel,i=this.isNav,s=this.localNumberOfPages,o=this.computedCurrentPage,l=this.pageList.map((function(t){return t.number})),c=this.paginationParams,m=c.showFirstDots,h=c.showLastDots,d="fill"===this.align,g=[],f=function(t){return t===o},b=this.currentPage<1,y=function(r,n,o,l,c,u,m){var h=a||f(u)||b||r<1||r>s,p=r<1?1:r>s?s:r,g={disabled:h,page:p,index:p-1},_=e.normalizeSlot(o,g)||Object(v["g"])(l)||t(),y=t(h?"span":i?C["a"]:"button",{staticClass:"page-link",class:{"flex-grow-1":!i&&!h&&d},props:h||!i?{}:e.linkProps(r),attrs:{role:i?null:"menuitem",type:i||h?null:"button",tabindex:h||i?null:"-1","aria-label":n,"aria-controls":e.ariaControls||null,"aria-disabled":h?"true":null},on:h?{}:{"!click":function(t){e.onClick(t,r)},keydown:R}},[_]);return t("li",{key:m,staticClass:"page-item",class:[{disabled:h,"flex-fill":d,"d-flex":d&&!i&&!h},c],attrs:{role:i?null:"presentation","aria-hidden":h?"true":null}},[y])},x=function(a){return t("li",{staticClass:"page-item",class:["disabled","bv-d-xs-down-none",d?"flex-fill":"",e.ellipsisClass],attrs:{role:"separator"},key:"ellipsis-".concat(a?"last":"first")},[t("span",{staticClass:"page-link"},[e.normalizeSlot(_["j"])||Object(v["g"])(e.ellipsisText)||t()])])},k=function(n,o){var l=n.number,c=f(l)&&!b,m=a?null:c||b&&0===o?"0":"-1",h={role:i?null:"menuitemradio",type:i||a?null:"button","aria-disabled":a?"true":null,"aria-controls":e.ariaControls||null,"aria-label":Object(p["b"])(r)?r(l):"".concat(Object(u["f"])(r)?r():r," ").concat(l),"aria-checked":i?null:c?"true":"false","aria-current":i&&c?"page":null,"aria-posinset":i?null:l,"aria-setsize":i?null:s,tabindex:i?null:m},g=Object(v["g"])(e.makePage(l)),y={page:l,index:l-1,content:g,active:c,disabled:a},x=t(a?"span":i?C["a"]:"button",{props:a||!i?{}:e.linkProps(l),staticClass:"page-link",class:{"flex-grow-1":!i&&!a&&d},attrs:h,on:a?{}:{"!click":function(t){e.onClick(t,l)},keydown:R}},[e.normalizeSlot(_["I"],y)||g]);return t("li",{staticClass:"page-item",class:[{disabled:a,active:c,"flex-fill":d,"d-flex":d&&!i&&!a},n.classes,e.pageClass],attrs:{role:i?null:"presentation"},key:"page-".concat(l)},[x])},S=t();this.firstNumber||this.hideGotoEndButtons||(S=y(1,this.labelFirstPage,_["o"],this.firstText,this.firstClass,1,"pagination-goto-first")),g.push(S),g.push(y(o-1,this.labelPrevPage,_["L"],this.prevText,this.prevClass,1,"pagination-goto-prev")),g.push(this.firstNumber&&1!==l[0]?k({number:1},0):t()),g.push(m?x(!1):t()),this.pageList.forEach((function(t,a){var r=m&&e.firstNumber&&1!==l[0]?1:0;g.push(k(t,a+r))})),g.push(h?x(!0):t()),g.push(this.lastNumber&&l[l.length-1]!==s?k({number:s},-1):t()),g.push(y(o+1,this.labelNextPage,_["G"],this.nextText,this.nextClass,s,"pagination-goto-next"));var F=t();this.lastNumber||this.hideGotoEndButtons||(F=y(s,this.labelLastPage,_["y"],this.lastText,this.lastClass,s,"pagination-goto-last")),g.push(F);var P=t("ul",{staticClass:"pagination",class:["b-pagination",this.btnSize,this.alignment,this.styleClass],attrs:{role:i?null:"menubar","aria-disabled":a?"true":"false","aria-label":i?null:n||null},on:i?{}:{keydown:this.handleKeyNav},ref:"ul"},g);return i?t("nav",{attrs:{"aria-disabled":a?"true":null,"aria-hidden":a?"true":"false","aria-label":i&&n||null}},[P]):P}});function W(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?W(Object(a),!0).forEach((function(e){U(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function U(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Y=20,z=0,H=function(t){return Object(m["c"])(Object(h["b"])(t)||Y,1)},K=function(t){return Object(m["c"])(Object(h["b"])(t)||z,0)},V=Object(p["d"])(Object(d["m"])(M(M({},B),{},{ariaControls:Object(p["c"])(o["t"]),perPage:Object(p["c"])(o["o"],Y),totalRows:Object(p["c"])(o["o"],z)})),i["db"]),G=n["default"].extend({name:i["db"],mixins:[N],props:V,computed:{numberOfPages:function(){var t=Object(m["a"])(K(this.totalRows)/H(this.perPage));return t<1?1:t},pageSizeNumberOfPages:function(){return{perPage:H(this.perPage),totalRows:K(this.totalRows),numberOfPages:this.numberOfPages}}},watch:{pageSizeNumberOfPages:function(t,e){Object(u["p"])(e)||(t.perPage!==e.perPage&&t.totalRows===e.totalRows||t.numberOfPages!==e.numberOfPages&&this.currentPage>t.numberOfPages)&&(this.currentPage=1),this.localNumberOfPages=t.numberOfPages}},created:function(){var t=this;this.localNumberOfPages=this.numberOfPages;var e=Object(h["b"])(this[T],0);e>0?this.currentPage=e:this.$nextTick((function(){t.currentPage=0}))},methods:{onClick:function(t,e){var a=this;if(e!==this.currentPage){var r=t.target,n=new l["a"](s["C"],{cancelable:!0,vueTarget:this,target:r});this.$emit(n.type,n,e),n.defaultPrevented||(this.currentPage=e,this.$emit(s["d"],this.currentPage),this.$nextTick((function(){Object(c["u"])(r)&&a.$el.contains(r)?Object(c["d"])(r):a.focusCurrent()})))}},makePage:function(t){return t},linkProps:function(){return{}}}})},3828:function(t,e,a){"use strict";a.d(e,"a",(function(){return O}));var r,n,i=a("2b0e"),s=a("c637"),o=a("0056"),l=a("a723"),c=a("9b76"),u=a("cf75"),m=a("ca88"),h=a("be29"),d=a("7b1e"),p=a("d82f"),g=a("8c18"),_=a("8df8");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){y(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function y(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v="disabled",x=o["X"]+v,k="show",C=o["X"]+k,S=Object(u["d"])((r={boundary:Object(u["c"])([m["c"],l["p"],l["t"]],"scrollParent"),boundaryPadding:Object(u["c"])(l["o"],50),container:Object(u["c"])([m["c"],l["p"],l["t"]]),customClass:Object(u["c"])(l["t"]),delay:Object(u["c"])(l["n"],50)},y(r,v,Object(u["c"])(l["g"],!1)),y(r,"fallbackPlacement",Object(u["c"])(l["f"],"flip")),y(r,"id",Object(u["c"])(l["t"])),y(r,"noFade",Object(u["c"])(l["g"],!1)),y(r,"noninteractive",Object(u["c"])(l["g"],!1)),y(r,"offset",Object(u["c"])(l["o"],0)),y(r,"placement",Object(u["c"])(l["t"],"top")),y(r,k,Object(u["c"])(l["g"],!1)),y(r,"target",Object(u["c"])([m["c"],m["d"],l["k"],l["p"],l["t"]],void 0,!0)),y(r,"title",Object(u["c"])(l["t"])),y(r,"triggers",Object(u["c"])(l["f"],"hover focus")),y(r,"variant",Object(u["c"])(l["t"])),r),s["wb"]),F=i["default"].extend({name:s["wb"],mixins:[g["a"]],inheritAttrs:!1,props:S,data:function(){return{localShow:this[k],localTitle:"",localContent:""}},computed:{templateData:function(){return b({title:this.localTitle,content:this.localContent,interactive:!this.noninteractive},Object(p["k"])(this.$props,["boundary","boundaryPadding","container","customClass","delay","fallbackPlacement","id","noFade","offset","placement","target","target","triggers","variant",v]))},templateTitleContent:function(){var t=this.title,e=this.content;return{title:t,content:e}}},watch:(n={},y(n,k,(function(t,e){t!==e&&t!==this.localShow&&this.$_toolpop&&(t?this.$_toolpop.show():this.$_toolpop.forceHide())})),y(n,v,(function(t){t?this.doDisable():this.doEnable()})),y(n,"localShow",(function(t){this.$emit(C,t)})),y(n,"templateData",(function(){var t=this;this.$nextTick((function(){t.$_toolpop&&t.$_toolpop.updateData(t.templateData)}))})),y(n,"templateTitleContent",(function(){this.$nextTick(this.updateContent)})),n),created:function(){this.$_toolpop=null},updated:function(){this.$nextTick(this.updateContent)},beforeDestroy:function(){this.$off(o["B"],this.doOpen),this.$off(o["g"],this.doClose),this.$off(o["j"],this.doDisable),this.$off(o["l"],this.doEnable),this.$_toolpop&&(this.$_toolpop.$destroy(),this.$_toolpop=null)},mounted:function(){var t=this;this.$nextTick((function(){var e=t.getComponent();t.updateContent();var a=Object(h["a"])(t)||Object(h["a"])(t.$parent),r=t.$_toolpop=new e({parent:t,_scopeId:a||void 0});r.updateData(t.templateData),r.$on(o["O"],t.onShow),r.$on(o["P"],t.onShown),r.$on(o["t"],t.onHide),r.$on(o["s"],t.onHidden),r.$on(o["k"],t.onDisabled),r.$on(o["m"],t.onEnabled),t[v]&&t.doDisable(),t.$on(o["B"],t.doOpen),t.$on(o["g"],t.doClose),t.$on(o["j"],t.doDisable),t.$on(o["l"],t.doEnable),t.localShow&&r.show()}))},methods:{getComponent:function(){return _["a"]},updateContent:function(){this.setTitle(this.normalizeSlot()||this.title)},setTitle:function(t){t=Object(d["p"])(t)?"":t,this.localTitle!==t&&(this.localTitle=t)},setContent:function(t){t=Object(d["p"])(t)?"":t,this.localContent!==t&&(this.localContent=t)},onShow:function(t){this.$emit(o["O"],t),t&&(this.localShow=!t.defaultPrevented)},onShown:function(t){this.localShow=!0,this.$emit(o["P"],t)},onHide:function(t){this.$emit(o["t"],t)},onHidden:function(t){this.$emit(o["s"],t),this.localShow=!1},onDisabled:function(t){t&&t.type===o["k"]&&(this.$emit(x,!0),this.$emit(o["k"],t))},onEnabled:function(t){t&&t.type===o["m"]&&(this.$emit(x,!1),this.$emit(o["m"],t))},doOpen:function(){!this.localShow&&this.$_toolpop&&this.$_toolpop.show()},doClose:function(){this.localShow&&this.$_toolpop&&this.$_toolpop.hide()},doDisable:function(){this.$_toolpop&&this.$_toolpop.disable()},doEnable:function(){this.$_toolpop&&this.$_toolpop.enable()}},render:function(t){return t()}}),P=a("2632");function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){j(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function j(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var T=Object(u["d"])(Object(p["m"])(D(D({},S),{},{content:Object(u["c"])(l["t"]),placement:Object(u["c"])(l["t"],"right"),triggers:Object(u["c"])(l["f"],o["f"])})),s["eb"]),O=i["default"].extend({name:s["eb"],extends:F,inheritAttrs:!1,props:T,methods:{getComponent:function(){return P["a"]},updateContent:function(){this.setContent(this.normalizeSlot()||this.content),this.setTitle(this.normalizeSlot(c["U"])||this.title)}}})},4060:function(t,e,a){},"40fc":function(t,e,a){"use strict";a.d(e,"b",(function(){return k})),a.d(e,"a",(function(){return C}));var r=a("2b0e"),n=a("0056"),i=a("a723"),s=a("906c"),o=a("6b77"),l=a("a8c8"),c=a("58f2"),u=a("3a58"),m=a("d82f"),h=a("cf75"),d=a("fa73");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){_(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f=Object(c["a"])("value",{type:i["o"],defaultValue:"",event:n["S"]}),b=f.mixin,y=f.props,v=f.prop,x=f.event,k=Object(h["d"])(Object(m["m"])(g(g({},y),{},{ariaInvalid:Object(h["c"])(i["j"],!1),autocomplete:Object(h["c"])(i["t"]),debounce:Object(h["c"])(i["o"],0),formatter:Object(h["c"])(i["k"]),lazy:Object(h["c"])(i["g"],!1),lazyFormatter:Object(h["c"])(i["g"],!1),number:Object(h["c"])(i["g"],!1),placeholder:Object(h["c"])(i["t"]),plaintext:Object(h["c"])(i["g"],!1),readonly:Object(h["c"])(i["g"],!1),trim:Object(h["c"])(i["g"],!1)})),"formTextControls"),C=r["default"].extend({mixins:[b],props:k,data:function(){var t=this[v];return{localValue:Object(d["g"])(t),vModelValue:this.modifyValue(t)}},computed:{computedClass:function(){var t=this.plaintext,e=this.type,a="range"===e,r="color"===e;return[{"custom-range":a,"form-control-plaintext":t&&!a&&!r,"form-control":r||!t&&!a},this.sizeFormClass,this.stateClass]},computedDebounce:function(){return Object(l["c"])(Object(u["b"])(this.debounce,0),0)},hasFormatter:function(){return Object(h["b"])(this.formatter)}},watch:_({},v,(function(t){var e=Object(d["g"])(t),a=this.modifyValue(t);e===this.localValue&&a===this.vModelValue||(this.clearDebounce(),this.localValue=e,this.vModelValue=a)})),created:function(){this.$_inputDebounceTimer=null},mounted:function(){this.$on(n["V"],this.clearDebounce)},beforeDestroy:function(){this.clearDebounce()},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=Object(d["g"])(t),!this.hasFormatter||this.lazyFormatter&&!a||(t=this.formatter(t,e)),t},modifyValue:function(t){return t=Object(d["g"])(t),this.trim&&(t=t.trim()),this.number&&(t=Object(u["a"])(t,t)),t},updateValue:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.lazy;if(!r||a){this.clearDebounce();var n=function(){if(t=e.modifyValue(t),t!==e.vModelValue)e.vModelValue=t,e.$emit(x,t);else if(e.hasFormatter){var a=e.$refs.input;a&&t!==a.value&&(a.value=t)}},i=this.computedDebounce;i>0&&!r&&!a?this.$_inputDebounceTimer=setTimeout(n,i):n()}},onInput:function(t){if(!t.target.composing){var e=t.target.value,a=this.formatValue(e,t);!1===a||t.defaultPrevented?Object(o["f"])(t,{propagation:!1}):(this.localValue=a,this.updateValue(a),this.$emit(n["v"],a))}},onChange:function(t){var e=t.target.value,a=this.formatValue(e,t);!1===a||t.defaultPrevented?Object(o["f"])(t,{propagation:!1}):(this.localValue=a,this.updateValue(a,!0),this.$emit(n["d"],a))},onBlur:function(t){var e=t.target.value,a=this.formatValue(e,t,!0);!1!==a&&(this.localValue=Object(d["g"])(this.modifyValue(a)),this.updateValue(a,!0)),this.$emit(n["b"],t)},focus:function(){this.disabled||Object(s["d"])(this.$el)},blur:function(){this.disabled||Object(s["c"])(this.$el)}}})},4797:function(t,e,a){"use strict";a.d(e,"a",(function(){return S}));var r=a("2b0e"),n=a("c637"),i=a("a723"),s=a("2326"),o=a("906c"),l=a("6b77"),c=a("d82f"),u=a("cf75"),m=a("dde7"),h=a("06d9"),d=a("ad47"),p=a("d520"),g=a("40fc"),_=a("1f1e"),f=a("90ef"),b=a("bc9a");function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach((function(e){x(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function x(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var k=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],C=Object(u["d"])(Object(c["m"])(v(v(v(v(v(v({},f["b"]),m["b"]),d["b"]),p["b"]),g["b"]),{},{list:Object(u["c"])(i["t"]),max:Object(u["c"])(i["o"]),min:Object(u["c"])(i["o"]),noWheel:Object(u["c"])(i["g"],!1),step:Object(u["c"])(i["o"]),type:Object(u["c"])(i["t"],"text",(function(t){return Object(s["a"])(k,t)}))})),n["B"]),S=r["default"].extend({name:n["B"],mixins:[b["a"],f["a"],m["a"],d["a"],p["a"],g["a"],h["a"],_["a"]],props:C,computed:{localType:function(){var t=this.type;return Object(s["a"])(k,t)?t:"text"},computedAttrs:function(){var t=this.localType,e=this.name,a=this.form,r=this.disabled,n=this.placeholder,i=this.required,s=this.min,o=this.max,l=this.step;return{id:this.safeId(),name:e,form:a,type:t,disabled:r,placeholder:n,required:i,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:s,max:o,step:l,list:"password"!==t?this.list:null,"aria-required":i?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return v(v({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{noWheel:function(t){this.setWheelStopper(t)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(t){var e=this.$el;Object(l["c"])(t,e,"focus",this.onWheelFocus),Object(l["c"])(t,e,"blur",this.onWheelBlur),t||Object(l["a"])(document,"wheel",this.stopWheel)},onWheelFocus:function(){Object(l["b"])(document,"wheel",this.stopWheel)},onWheelBlur:function(){Object(l["a"])(document,"wheel",this.stopWheel)},stopWheel:function(t){Object(l["f"])(t,{propagation:!1}),Object(o["c"])(this.$el)}},render:function(t){return t("input",{class:this.computedClass,attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners,ref:"input"})}})},5138:function(t,e,a){},"598c":function(t,e,a){},"66d4":function(t,e,a){"use strict";a("4060")},"6dea":function(t,e,a){"use strict";a("f4fa")},7192:function(t,e,a){"use strict";a("598c")},"7ab0":function(t,e,a){},"7ab8":function(t,e,a){},"8c29":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[1===t.userDetails.grade_set_id||2===t.userDetails.grade_set_id?a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("topManagement")],1):t._e(),3===t.userDetails.grade_set_id?a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("middleManagement")],1):t._e(),4===t.userDetails.grade_set_id?a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("executive")],1):t._e(),5===t.userDetails.grade_set_id?a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("nonExecSupport")],1):t._e(),6===t.userDetails.grade_set_id?a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("nonExecSupervisory")],1):t._e()],1)},n=[],i=a("e009"),s=a("205f"),o=a("3828"),l=a("b9b9"),c=a("2616"),u=a("2f62"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1"},[a("h5",{staticClass:"saj-title"},[t._v(" "+t._s(t.$t("Performance List"))+" ")])]),a("b-card-body",[a("b-row",{staticClass:"justify-content-end"},[a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Status"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.iniStatus,value:t.iniStatus.value},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Year"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.YearList,value:t.YearList},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Search"))+":")]),a("b-form-input",{attrs:{placeholder:t.$t("Search")+"..."},model:{value:t.searchname,callback:function(e){t.searchname=e},expression:"searchname"}})],1),a("b-row",{staticClass:"flex-row flex-column mr-1",attrs:{cols:"8"}},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"d-flex justify-content-center saj-button",attrs:{md:"4",variant:"primary",block:""},on:{click:function(e){return t.getDetails()}}},[a("span",{staticClass:"d-md-none d-lg-block"},[t._v(" "+t._s(t.$t("Search"))+" ")])])],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"mr-1 saj-buttom",attrs:{variant:"primary"},on:{click:function(e){return t.clearButton()}}},[t._v(" "+t._s(t.$t("Clear"))+" ")])],1)],1)],1)],1),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("div",{staticClass:"px-1"},[a("b-table",{staticClass:"saj-subtitle mt-1 mb-1",attrs:{"sticky-header":"500px",responsive:"",items:t.cycleList,fields:t.fields,filter:t.searchInput,"per-page":t.perPage,bordered:"","show-empty":""},on:{filtered:t.afterFilter},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-subtitle "},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+"... ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(year)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(t._s(t.$t("REVIEW CYCLE"))+" "),a("span",[t._v(" ")]),t._v(t._s(t.$t(e.item.year))+" ")]),a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(" "+t._s(t.$t(e.item.user_position))+" ")])]}},{key:"cell(date_complete)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.date_complete?t.DateChanged(e.item.date_complete):"-")+" ")])]}},{key:"cell(self_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.self_score?e.item.self_score:"-")+" ")])]}},{key:"cell(manager_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.manager_score?e.item.manager_score:"-")+" ")])]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[a("b-badge",{staticStyle:{"border-radius":"20vh"},attrs:{variant:""+e.item.status==="Completed"?"success":"warning"}},[t._v(" "+t._s(t.$t(e.item.status))+" ")])],1)]}},{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center",staticStyle:{color:"#464e5f"}},[[a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("See Details"),expression:"$t('See Details')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon mr-1",attrs:{icon:"EyeIcon",size:"25"},on:{click:function(a){return t.nextPage(e.item.performance_id,e.item.status)}}}),a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("Download"),expression:"$t('Download')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon",attrs:{icon:"DownloadIcon",size:"25"},on:{click:function(a){t.downloadPerformancePDF(e.item),t.clear(),t.getUserSet(e.item.performance_id)}}})]],2)]}}])}),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.rows>t.perPage*t.currentPage?t.perPage*t.currentPage:t.rows)+" "+t._s(t.$t("from"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:""},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])],1)],1)},h=[],d=a("a15b"),p=a("b28b"),g=a("b885"),_=a("6197"),f=a("1947"),b=a("4797"),y=a("8361"),v=a("29a1"),x=a("26d2"),k=a("e98b"),C=a("9b03"),S=a("01e3"),F=a("c1df"),P=a.n(F),w=a("206d"),D=a("8baf"),j=a("0da4"),T=a.n(j),O={components:{BRow:d["a"],BCol:p["a"],BCard:s["a"],BCardHeader:g["a"],BCardBody:_["a"],BButton:f["a"],BFormInput:b["a"],BFormSelect:y["a"],BTable:v["a"],BPagination:x["a"],BBadge:k["a"],BPopover:o["a"],BOverlay:C["a"],BSpinner:S["a"]},directives:{"b-popover":l["a"],"b-tooltip":c["a"],Ripple:i["a"]},data(){return{show:!0,filteredItemLengthBTable:[],status:null,currentPage:1,perPage:5,rows:null,showEdit:null,approveList:[],isModalEVisible:!1,isModalAVisible:!1,performanceId:"",userId:null,cycleList:[],role:"",filter:"",searchname:"",searchInput:"",selectedStatus:null,selectedYear:"",empCategory:null,StatusJdKra:null,allStatus:[],statusList:[],YearList:[],selected:"",iniStatus:[],options:[{name:"View"},{name:"Print"}],items:[],fields:[{key:"year",label:"Review Cycle",thClass:"text-center"},{key:"date_complete",label:"Date Complete",thClass:"text-center"},{key:"self_score",label:"Self Score",thClass:"text-center"},{key:"manager_score",label:"Manager Score",thClass:"text-center"},{key:"status",label:"Status",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],myPerformance:null,training_development:[],other_contribution:[],active_competency_core_performance:[],active_competency_behaviour_performance:[],main_task:[],side_task:[],user_kra_jd_status:null,kra:[],kraList:[],allUserData:null,kra_id:null,contribution:null,contributionPercent:0,contributionPercentTeam:0,scoreYearSelected:"a",scoreYearoptions:[{value:"a",text:"2022"},{value:"b",text:"2021"},{value:"c",text:"2020"}],overall_total2:"",overall_total_manager:"",table:{p1_kra:0,p1_job_description:0,p2_competency_core:0,p2_competency_behaviour:0,p3_training_development:0,p3_contribution:0,accumulative1:0,accumulative2:0,accumulative3:0,accumulative4:0,overall_total:0,p1_kra_manager:0,p1_job_description_manager:0,p2_competency_core_manager:0,p2_competency_behaviour_manager:0,p3_training_development_manager:0,p3_contribution_manager:0,accumulative1_manager:0,accumulative2_manager:0,accumulative3_manager:0,accumulative4_manager:0,overall_total_manager:0,bordered:!0,scoreList:[{keputusan:"Key Result Area",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Core Competencies",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Behavioural Competencies",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Training and Development",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Internal / Industrial Involvement",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Summary Score (%)",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""}],fields:[{key:"keputusansss",label:""+this.$t("Result"),thClass:"text-center"},{key:"pemberattt",label:""+this.$t("Weightage"),thClass:"text-center",tdClass:"text-center"},{key:"markah",label:""+this.$t("Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul",label:""+this.$t("Cumulative Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_manager",label:""+this.$t("Manager Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul_manager",label:""+this.$t("Manager Cumulative Score"),thClass:"text-center",tdClass:"text-center"}]},scaleList:[],scale1_eng:[],scale2_eng:[],scale3_eng:[],scale4_eng:[],scale5_eng:[],scale6_eng:[],internal_industry_status:null,hod_data:null,appraiser_hod_name:null,appraiser_hod_position:null,appraiser_hr_name:null,appraiser_hr_position:null,pemberat:null}},computed:{...Object(u["c"])(["roles","userDetails"]),isEnglish(){return"en"===this.$i18n.locale}},watch:{"$i18n.locale":function(){this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})}),this.YearList=this.YearList.map(t=>""===t.value?{...t,text:this.$t("Choose Year")}:t)}},mounted(){this.getDetails(),this.getStatus(),this.getYear(),this.getCurrentUser(),this.scoreRating()},methods:{clear(){this.kraList=[]},nextPage(t,e){const a=t;this.$router.push({name:"my-performance",params:{id:a,status:e}})},clearButton(){this.selectedStatus=null,this.selectedYear="",this.searchname="",this.searchInput="",this.getDetails()},DateChanged(t){const e=P()(t,"").format("D-MM-yyyy");return e},apiFilter(){this.getDetails()},getCurrentUser(){this.$axios.get(this.$baseUrl+"/users/current_user").then(t=>{this.allUserData=t.data.data})},getStatus(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceStatus").then(t=>{this.allStatus=t.data.data,this.allStatus.forEach(t=>{this.statusList.push(t.status)});const e=[{text:"Choose Status",value:null,disabled:!0}];"ma"===this.$i18n.locale?(this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})})):this.iniStatus=e.concat(this.statusList)})},getYear(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceYear").then(t=>{this.allYear=t.data.data,this.YearList=[{text:""+this.$t("Choose Year"),value:"",disabled:!0}],this.allYear.forEach(t=>{this.YearList.push(t.year)})})},getDetails(){this.show=!0,this.filteredItemLengthBTable=[];const t=new FormData;t.append("status",this.selectedStatus),t.append("year",this.selectedYear),this.searchInput=this.searchname,this.$axios.post(this.$baseUrl+"/myperformances/getUserPerformances",t).then(t=>{if(this.show=!1,0!==t.data.data.length){this.cycleList=t.data.data;for(let e=0;e<t.data.data.length;e+=1)this.performanceId=t.data.data[e].performance_id,this.userId=t.data.data[e].user_id,this.position=t.data.data[e].user_position,this.status=t.data.data[e].status}else this.$toast({component:w["a"],props:{title:this.$t("No record retrieved")+".",icon:"InfoIcon",variant:"success",titleColor:"#000",iconBg:"#53b7db"}},{position:"top-right",type:"info"}),this.cycleList=[];this.rows=""===this.searchInput?this.cycleList.length:this.filteredItemLengthBTable.length}).catch(t=>{this.show=!1,console.log("err",t)})},scoreRating(){this.$axios.get(this.$baseUrl+"/rating/getAll").then(t=>{this.scaleList=t.data.data,this.scale1_eng=this.scaleList[5].definition_en,this.scale2_eng=this.scaleList[4].definition_en,this.scale3_eng=this.scaleList[3].definition_en,this.scale4_eng=this.scaleList[2].definition_en,this.scale5_eng=this.scaleList[1].definition_en,this.scale6_eng=this.scaleList[0].definition_en})},downloadPerformancePDF(t){this.$axios.get(`${this.$baseUrl}/download_pdf_data?user_id=${t.user_id}&performance_id=${t.performance_id}`).then(t=>{this.myPerformance=t.data.data,this.kra=this.myPerformance.kra,this.active_competency_core_performance=this.myPerformance.active_competency_core_performance,this.active_competency_behaviour_performance=this.myPerformance.active_competency_behaviour_performance,this.training_development=this.myPerformance.training_development,this.other_contribution=this.myPerformance.other_contribution,this.internal_industry_status=this.myPerformance.internal_industry_status,this.hod_data=t.data.data.appraiser_sv_hod,null!==this.hod_data&&(this.appraiser_hod_name=this.hod_data.full_name,this.appraiser_hod_position=this.hod_data.position),this.appraiser_hr_name=t.data.data.appraiser_hod_hr.full_name,this.appraiser_hr_position=t.data.data.appraiser_hod_hr.position})},triggerGenerateReport(){this.showPerformance()},getImage(t){return new Promise(e=>{const a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){const t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight;const a=t.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height),t.getContext("2d").drawImage(this,0,0),e(t.toDataURL("image/jpeg"))},a.src=t})},getKra(){return null!==this.kra?(this.kra.forEach(t=>{t.key_result_area.forEach(e=>{this.kraList.push({objective_name:null===t.objective_name?"-":t.objective_name.toString(),kra_name:null===e.kra_name?"-":e.kra_name.toString(),measurement:null===e.measurement?"-":e.measurement.toString(),deadline:null===e.deadline?"-":e.deadline.toString(),self_score:null===e.rating?"-":e.rating.toString(),manager_score:null===e.manager_rating?"-":e.manager_rating.toString()})})}),this.kraList):null},getCoreData(){if(null!==this.active_competency_core_performance){const t=this.active_competency_core_performance.map(t=>({subcore:t.subcore.name_bi.toString(),description:t.subcore.description_bi.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getBehavData(){if(null!==this.active_competency_behaviour_performance){const t=this.active_competency_behaviour_performance.map(t=>({behavioural_competency:t.behaviour.name_bi.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getTrainingData(){if(null!==this.training_development){const t=this.training_development.map(t=>({program_title:t.program_name.toString(),start_date:t.start_date.toString(),end_date:t.end_date.toString(),hours:t.hour.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getOtherContrData(){if(null!==this.other_contribution){const t=this.other_contribution.map(t=>({involvement_activities:t.involvement.toString(),position:t.position_english.toString(),date:t.date.toString(),self_score:t.self_score.toString()}));return t}return null},async showPerformance(){const t=new D["default"]("landscape","mm","a4"),e=await this.getImage("https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Ranhill_Utilities_Berhad_Logo_%28Original%29.png/922px-Ranhill_Utilities_Berhad_Logo_%28Original%29.png?20211125033701");t.addImage(e,"png",20,10,18.8125,27.5,"a","FAST");const a=t.internal.pageSize.width||t.internal.pageSize.getWidth();t.setFont("helvetica","bold"),t.setFontSize(14),t.text(""+this.allUserData.subsidiary.toUpperCase(),150,12,null,null,"center"),t.setFontSize(12),t.text("PERFORMANCE APPRAISAL FORM",150,19,null,null,"center"),t.setFontSize(11),t.text("Middle Management : AM / Mgr / SM",150,25,null,null,"center"),t.text("DEPARTMENT                :______________________________________",200,33,null,null,"right"),t.text("REVIEW PERIOD FOR  :____________________(mm/yy) to ____________________(mm/yy)",224,40,null,null,"right"),t.setFillColor(168,168,168),t.rect(10,50,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("EMPLOYEE INFORMATION",150,55.5,"center"),t.setFillColor(168,168,168),t.rect(10,58,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Employee No.",60,64,"center"),t.setFillColor(255,255,255),t.rect(110,58,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,66,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Employee Name",60,72,"center"),t.setFillColor(255,255,255),t.rect(110,66,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,74,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Position",60,79.5,"center"),t.setFillColor(255,255,255),t.rect(110,74,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,82,100,8,"FD"),t.setFillColor(255,255,255),t.rect(110,82,a-120,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Job Grade",60,87,"center"),t.setFillColor(168,168,168),t.rect(10,90,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("District",60,95.5,"center"),t.setFillColor(255,255,255),t.rect(110,90,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,103,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("GENERAL INSTRUCTIONS",14,108.5,"left"),t.setTextColor("#000000"),t.text("Objectives:",12,116,"left"),t.setFont("helvetica","normal"),t.text("The objective of the Employee Performance Appraisal is to measure the employee's performance with regards to the job requirements and the specific knowledge, skills and behaviours that is required for their job.  It is also an avenue to provide clear feedback to the employee on their performance in achieving specific objectives as set by the Company in order to fulfill the company vision, mission and balanced scorecard.   ",12,122,{align:"left",maxWidth:a-20}),t.setFont("helvetica","bold"),t.text("Instruction:",12,138,"left"),t.setFont("helvetica","normal"),t.text("        Please use the following rating scale to evaluate the employee's performance",12,143.5,"left"),t.setTextColor("#FFFFFF"),t.setFont("helvetica","bold"),t.setFillColor(168,168,168),t.rect(12,146,68,8,"FD"),t.text("RATING SCALE",15,151.5,"left"),t.setFillColor(168,168,168),t.rect(80,146,a-90,8,"FD"),t.text("PERFORMANCE RATING SCALE DEFINITION",a-110,151.5,"center"),t.setFont("helvetica","normal"),t.setTextColor("#000"),t.setFillColor(168,168,168),t.rect(12,154,68,8,"FD"),t.text("6",45,159.5,"center"),t.setFillColor(255,255,255),t.rect(80,154,(a-90)/2,8,"FD"),t.text(""+this.scale6_eng,130,159.5,"center"),t.setFillColor(255,255,255),t.rect(183.5,154,(a-90)/2,16,"FD"),t.text("EXCEPTIONAL",235,164,"center"),t.setFillColor(168,168,168),t.rect(12,162,68,8,"FD"),t.text("5",45,167.5,"center"),t.setFillColor(255,255,255),t.rect(80,162,(a-90)/2,8,"FD"),t.text(""+this.scale5_eng,130,167.5,"center"),t.setFillColor(168,168,168),t.rect(12,170,68,8,"FD"),t.text("4",45,176,"center"),t.setFillColor(255,255,255),t.rect(80,170,(a-90)/2,8,"FD"),t.text(""+this.scale4_eng,130,176,"center"),t.setFillColor(255,255,255),t.rect(183.5,170,(a-90)/2,16,"FD"),t.text("COMPETENT",235,180,"center"),t.setFillColor(168,168,168),t.rect(12,178,68,8,"FD"),t.text("3",45,184,"center"),t.setFillColor(255,255,255),t.rect(80,178,(a-90)/2,8,"FD"),t.text(""+this.scale3_eng,130,184,"center"),t.setFillColor(168,168,168),t.rect(12,186,68,8,"FD"),t.text("2",45,192,"center"),t.setFillColor(255,255,255),t.rect(80,186,(a-90)/2,8,"FD"),t.text(""+this.scale2_eng,130,192,"center"),t.setFillColor(255,255,255),t.rect(183.5,186,(a-90)/2,16,"FD"),t.text("BELOW AVERAGE",235,196,"center"),t.setFillColor(168,168,168),t.rect(12,194,68,8,"FD"),t.text("1",45,199.5,"center"),t.setFillColor(255,255,255),t.rect(80,194,(a-90)/2,8,"FD"),t.text(""+this.scale1_eng,130,199.5,"center"),t.setTextColor("#000");try{t.text(123,32,""+this.allUserData.department)}catch{t.text(123,32,"-")}try{t.text(113,39,""+(this.isEnglish?this.myPerformance.start_period:this.myPerformance.start_period_my))}catch{t.text(113,39,"-")}try{t.text(175,39,""+(this.isEnglish?this.myPerformance.end_period:this.myPerformance.end_period_my))}catch{t.text(175,39,"-")}try{t.text(130,63,""+this.userDetails.employee_number)}catch{t.text(130,63,"-")}try{t.text(130,71,""+this.userDetails.full_name)}catch{t.text(130,71,"-")}try{t.text(130,79,""+this.userDetails.position)}catch{t.text(130,79,"-")}try{t.text(130,87,""+this.allUserData.employee.grade)}catch{t.text(130,87,"-")}try{t.text(130,95,""+this.allUserData.branch)}catch{t.text(130,95,"-")}t.addPage("a4"),t.text("This Appraisal Form is applicable to all Middle Management. This form is divided into five (5) parts.",12,15,"left"),t.text("Part 1 : Key Result Area (KRA's) - Planning Phase: This part is to be completed by the employee and discussed with supervisor.",12,25,{align:"left",maxWidth:a-20}),t.text("Part 2 : A. Key Result Area (KRA's) - Performance Review",12,35,"left"),t.text("           : B. Key Result Area (KRA's) - Performance Result (Year End) ",12,40,{align:"left",maxWidth:a-20}),t.text("Part 3 : Competencies Assessment (Divided into two (2) competencies)",12,45,"left"),t.text("A. Core Competencies - Please Evaluate all three (3) competencies. Select only two (2) most important items of each Core Competencies. These are company's universal competencies which  are applicable to all positions and also direct / indirect to company mission.",16,50,{align:"left",maxWidth:a-20}),t.text("B. Behavioural Competencies - These are underlying characteristics to empower superior performance on the  job. Each employee must identify the Behavioural Competencies as specified in the Position Competency Matrix for the appraisor to evaluate.",16,60,{align:"left",maxWidth:a-20}),t.text("Note : All competencies for A and B must follow the Competency Position Matrix.",12,70,"left"),t.text("Part 4 : A. Training and Development",12,75,"left"),t.text("           : B. Internal / Industrial Involvement",12,80,"left"),t.text("Part 5 : Overall Performance Comments - To be completed at the end of performance appraisal period.",12,85,"left"),t.setFillColor(168,168,168),t.rect(10,90,110,8,"FD"),t.setTextColor("#FFFFFF"),t.text("For Human Resources Department Use Only",15,95,"left"),t.setFillColor(168,168,168),t.rect(10,98,60,8,"FD"),t.setTextColor("#000"),t.text("Date Received",15,103.5,"left"),t.setFillColor(255,255,255),t.rect(70,98,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,106,60,8,"FD"),t.setTextColor("#000"),t.text("Recorded By",15,111.5,"left"),t.setFillColor(255,255,255),t.rect(70,106,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,114,60,8,"FD"),t.setTextColor("#000"),t.text("Date",15,119.5,"left"),t.setFillColor(255,255,255),t.rect(70,114,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,122,60,8,"FD"),t.setTextColor("#000"),t.text("Remarks",15,127.5,"left"),t.setFillColor(255,255,255),t.rect(70,122,50,8,"FD"),t.setFillColor(168,168,168),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST");const r=this.table.fields.map(t=>t.label),n=this.table.scoreList.map(t=>[t.keputusan,t.pemberat,t.markah,t.markah_terkumpul,t.markah_manager,t.markah_terkumpul_manager]);T()(t,{startY:134,headStyles:{halign:"center",fillColor:[168,168,168]},columnStyles:{1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"}},head:[r],body:n}),t.addPage("a4","l"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Key Result Area Details",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("Part 1: This part has three sections which are Performance Planning, Performance Review, and Year End Result.",20,30);try{const a=this.getKra();function i(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=i(["objective_name","kra_name","measurement","deadline","self_score","manager_score"]),n=[50];t.table(20,41,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,41,"*No Key Result Area"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Part 2: Competency Assessment (divided into two (2) competencies).",20,20),t.setFont("helvetica","regular"),t.text("Part 2a: Core Competencies",20,30);try{const a=this.getCoreData();function s(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:85,align:"center",padding:0});return e}const r=s(["subcore","description","self_score","manager_score"]),n=[100];t.table(20,40,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,40,"*No Core Competencies"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.text("Part 2b: Behavioral Competencies",20,20);try{const a=this.getBehavData();function o(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:114,align:"center",padding:0});return e}const r=o(["behavioural_competency","self_score","manager_score"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*No Behavioral Competencies"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Part 3a: Training and Development",20,20),t.setFont("helvetica","regular");try{const a=this.getTrainingData();function l(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=l(["program_title","start_date","end_date","hours","self_score","manager_score"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*No Training and Development"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}if("enable"===this.internal_industry_status){t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Part 3b: Internal / Industrial Involvement",20,20),t.setFont("helvetica","regular");try{const a=this.getOtherContrData();function c(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:65,align:"center",padding:0});return e}const r=c(["involvement_activities","position","date","self_score"]),n=[100];0!==this.other_contribution.length?(t.table(7,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")):(t.text(25,30,"*No Internal / Industrial Involvement"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"))}catch{t.text(25,30,"*No Internal / Industrial Involvement"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")}}t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Part 4: Overall Performance Comments - Please complete at the end of the",20,20),t.text("Performance Appraisal.",20,27),t.setFont("helvetica","regular");const u=[["COMMENTS BY APPRAISEE"],[{content:""+(null===this.myPerformance.comment_performance||null===this.myPerformance.comment_performance.comment?"-":this.myPerformance.comment_performance.comment),styles:{lineWidth:.5}}],[`Full Name: ${void 0===this.myPerformance.appraisee.full_name?"-":this.myPerformance.appraisee.full_name}  |  Position: ${void 0===this.myPerformance.appraisee.position?"-":this.myPerformance.appraisee.position}  |  Date: ${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[0]}`],["COMMENTS BY APPRAISER"],[{content:""+(null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.comment),styles:{lineWidth:.5}}],[`Full Name: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.full_name}  |  Position: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.position}  |  Date: ${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[0]}`],["COMMENTS BY APPRAISER'S SUPERVISOR/ HEAD OF DEPARTMENT/ HEAD OF DIVISION/ CEO/ COO/ CHAIRMAN"],[{content:""+(null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.comment),styles:{lineWidth:.5}}],[`Full Name: ${null===this.hod_data?this.appraiser_hr_name:this.appraiser_hod_name}  |  Position: ${null===this.hod_data?this.appraiser_hr_position:this.appraiser_hod_position}  |  Date: ${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[0]}`]];t.autoTable({startY:35,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:3},body:u,theme:"plain",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Proposed Individual Training and Development Needs",20,20),t.setFont("helvetica","regular");try{t.text(20,30,"Supervisor Name: "+(void 0===this.myPerformance.supervisor.full_name?"-":this.myPerformance.supervisor.full_name))}catch{t.text(20,30,"Supervisor Name: -")}try{t.text(20,35,"Position: "+(void 0===this.myPerformance.supervisor.position?"-":this.myPerformance.supervisor.position))}catch{t.text(20,35,"Position: -")}const m=[[""+(0===this.myPerformance.suggestions.length?"-":this.myPerformance.suggestions[0].suggestion)]];t.autoTable({startY:40,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:m,theme:"grid",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.save("My Performance.pdf")},afterFilter(t){this.filteredItemLengthBTable=t},getUserSet(t){const e=new URLSearchParams;null!==this.performanceID&&e.append("user_id",this.userDetails.user_id),this.$axios.get(this.$baseUrl+"/myperformances/getUserPerformanceSet",{params:e}).then(e=>{this.kra_id=e.data.data.jd_kra,this.getWeightage(this.kra_id,t)})},getWeightage(t,e){const a=new URLSearchParams;a.append("subsidiary_id",this.userDetails.business_unit),a.append("role_id",this.userDetails.grade_set_id);const r=1===this.userDetails.grade_set_id||2===this.userDetails.grade_set_id;this.$axios.get(this.$baseUrl+"/weightage/get_role_percentage",{params:a}).then(a=>{const n=a.data.data;this.pemberat={KRA:0===t?n.overall_assesment+"%":n.key_result_area+"%",CoreCompetencies:n.core_competency+"%",BehaviouralCompetencies:n.behavioural_competency+"%",TrainingAndDevelopment:r?n.training+n.self_learning+"%":n.training+"%",OtherContributions:n.internal_industry_involement+"%",SummaryScore:"100%"},this.getScore(this.kra_id,e)})},getScore(t,e){this.$axios.get(`${this.$baseUrl}/myperformances/overall_performance?cycle_id=${e}`).then(e=>{this.overall_total2=e.data.data.overall_total,this.overall_total_manager=e.data.data.overall_total_manager,this.contributionPercent=e.data.data.hasContribution;const a="enable"===e.data.data.internal_industry_status;let r="",n="";0===t?(r=e.data.data.p1_job_description,n=e.data.data.p1_job_description_manager):(r=e.data.data.p1_kra,n=e.data.data.p1_kra_manager);const{p2_competency_core:i}=e.data.data,{p2_competency_behaviour:s}=e.data.data,{p3_training_development:o}=e.data.data,{p3_contribution:l}=e.data.data,{accumulative1:c}=e.data.data,{accumulative2:u}=e.data.data,{accumulative3:m}=e.data.data,{accumulative4:h}=e.data.data,{overall_total:d}=e.data.data,{p2_competency_core_manager:p}=e.data.data,{p2_competency_behaviour_manager:g}=e.data.data,{p3_training_development_manager:_}=e.data.data,{p3_contribution_manager:f}=e.data.data,{accumulative1_manager:b}=e.data.data,{accumulative2_manager:y}=e.data.data,{accumulative3_manager:v}=e.data.data,{accumulative4_manager:x}=e.data.data,{overall_total_manager:k}=e.data.data,C=[{keputusan:0===this.kra?""+this.$t("Overall Assessment"):""+this.$t("Key Result Area"),pemberat:this.pemberat.KRA,markah:r.toString(),markah_terkumpul:c.toString(),markah_manager:n.toString(),markah_terkumpul_manager:b.toString()},{keputusan:""+this.$t("Core Competencies"),pemberat:this.pemberat.CoreCompetencies,markah:i.toString(),markah_terkumpul:u.toString(),markah_manager:p.toString(),markah_terkumpul_manager:y.toString()},{keputusan:""+this.$t("Behavioural Competencies"),pemberat:this.pemberat.BehaviouralCompetencies,markah:s.toString(),markah_terkumpul:m.toString(),markah_manager:g.toString(),markah_terkumpul_manager:v.toString()},{keputusan:""+this.$t("Training and Development"),pemberat:this.pemberat.TrainingAndDevelopment,markah:o.toString(),markah_terkumpul:h.toString(),markah_manager:_.toString(),markah_terkumpul_manager:x.toString()},{keputusan:""+this.$t("Summary Score (%)"),pemberat:this.pemberat.SummaryScore,markah:d.toString(),markah_terkumpul:"",markah_manager:k.toString(),markah_terkumpul_manager:""}],S={keputusan:"Internal / Industrial Involvement",pemberat:this.pemberat.OtherContributions,markah:l,markah_terkumpul:d,markah_manager:f,markah_terkumpul_manager:x};this.table.scoreList=a?C.slice(0,4).concat(S).concat(C.slice(4)):C,this.contribution=l,this.show=!1,this.triggerGenerateReport()}).catch(()=>{this.show=!1})}}},$=O,I=(a("8d38"),a("2877")),A=Object(I["a"])($,m,h,!1,null,"57f4c041",null),E=A.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1"},[a("h5",{staticClass:"saj-title"},[t._v(" "+t._s(t.$t("Performance List"))+" ")])]),a("b-card-body",[a("b-row",{staticClass:"justify-content-end"},[a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Status"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.iniStatus,value:t.iniStatus.value},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Year"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.YearList,value:t.YearList},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Search"))+":")]),a("b-form-input",{attrs:{placeholder:t.$t("Search")+"..."},model:{value:t.searchname,callback:function(e){t.searchname=e},expression:"searchname"}})],1),a("b-row",{staticClass:"flex-row flex-column mr-1",attrs:{cols:"8"}},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"d-flex justify-content-center saj-button",attrs:{md:"4",variant:"primary",block:""},on:{click:function(e){return t.getDetails()}}},[a("span",{staticClass:"d-md-none d-lg-block"},[t._v(" "+t._s(t.$t("Search"))+" ")])])],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"mr-1 saj-buttom",attrs:{variant:"primary"},on:{click:function(e){return t.clearButton()}}},[t._v(" "+t._s(t.$t("Clear"))+" ")])],1)],1)],1)],1),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("div",{staticClass:"px-1"},[a("b-table",{staticClass:"saj-subtitle mt-1 mb-1",attrs:{"sticky-header":"500px",responsive:"",items:t.cycleList,fields:t.fields,filter:t.searchInput,"per-page":t.perPage,bordered:"","show-empty":""},on:{filtered:t.afterFilter},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-subtitle "},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+"... ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(year)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(t._s(t.$t("REVIEW CYCLE"))+" "),a("span",[t._v(" ")]),t._v(t._s(t.$t(e.item.year))+" ")]),a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(" "+t._s(t.$t(e.item.user_position))+" ")])]}},{key:"cell(date_complete)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.date_complete?t.DateChanged(e.item.date_complete):"-")+" ")])]}},{key:"cell(self_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.self_score?e.item.self_score:"-")+" ")])]}},{key:"cell(manager_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.manager_score?e.item.manager_score:"-")+" ")])]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[a("b-badge",{staticStyle:{"border-radius":"20vh"},attrs:{variant:""+e.item.status==="Completed"?"success":"warning"}},[t._v(" "+t._s(t.$t(e.item.status))+" ")])],1)]}},{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center",staticStyle:{color:"#464e5f"}},[[a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("See Details"),expression:"$t('See Details')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon mr-1",attrs:{icon:"EyeIcon",size:"25"},on:{click:function(a){return t.nextPage(e.item.performance_id,e.item.status)}}}),a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("Download"),expression:"$t('Download')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon",attrs:{icon:"DownloadIcon",size:"25"},on:{click:function(a){t.downloadPerformancePDF(e.item),t.clear(),t.getUserSet(e.item.performance_id)}}})]],2)]}}])}),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.rows>t.perPage*t.currentPage?t.perPage*t.currentPage:t.rows)+" "+t._s(t.$t("from"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:""},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])],1)],1)},R=[],B={components:{BRow:d["a"],BCol:p["a"],BCard:s["a"],BCardHeader:g["a"],BCardBody:_["a"],BButton:f["a"],BFormInput:b["a"],BFormSelect:y["a"],BTable:v["a"],BPagination:x["a"],BBadge:k["a"],BPopover:o["a"],BOverlay:C["a"],BSpinner:S["a"]},directives:{"b-popover":l["a"],"b-tooltip":c["a"],Ripple:i["a"]},data(){return{show:!0,filteredItemLengthBTable:[],status:null,currentPage:1,perPage:5,rows:null,showEdit:null,approveList:[],isModalEVisible:!1,isModalAVisible:!1,performanceId:"",userId:null,cycleList:[],role:"",filter:"",searchname:"",searchInput:"",selectedStatus:null,selectedYear:"",empCategory:null,StatusJdKra:null,allStatus:[],statusList:[],YearList:[],selected:"",iniStatus:[],options:[{name:"View"},{name:"Print"}],items:[],fields:[{key:"year",label:"Review Cycle",thClass:"text-center"},{key:"date_complete",label:"Date Complete",thClass:"text-center"},{key:"self_score",label:"Self Score",thClass:"text-center"},{key:"manager_score",label:"Manager Score",thClass:"text-center"},{key:"status",label:"Status",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],myPerformance:null,training_development:[],other_contribution:[],active_competency_core_performance:[],active_competency_behaviour_performance:[],main_task:[],side_task:[],user_kra_jd_status:null,kra:[],kraList:[],allUserData:null,kra_id:null,contribution:null,contributionPercent:0,contributionPercentTeam:0,scoreYearSelected:"a",scoreYearoptions:[{value:"a",text:"2022"},{value:"b",text:"2021"},{value:"c",text:"2020"}],overall_total2:"",overall_total_manager:"",table:{p1_kra:0,p1_job_description:0,p2_competency_core:0,p2_competency_behaviour:0,p3_training_development:0,p3_contribution:0,accumulative1:0,accumulative2:0,accumulative3:0,accumulative4:0,overall_total:0,p1_kra_manager:0,p1_job_description_manager:0,p2_competency_core_manager:0,p2_competency_behaviour_manager:0,p3_training_development_manager:0,p3_contribution_manager:0,accumulative1_manager:0,accumulative2_manager:0,accumulative3_manager:0,accumulative4_manager:0,overall_total_manager:0,bordered:!0,scoreList:[{keputusan:"Key Result Area",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Core Competencies",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Behavioural Competencies",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Training and Development",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Internal / Industrial Involvement",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Summary Score (%)",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""}],fields:[{key:"keputusansss",label:""+this.$t("Result"),thClass:"text-center"},{key:"pemberattt",label:""+this.$t("Weightage"),thClass:"text-center",tdClass:"text-center"},{key:"markah",label:""+this.$t("Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul",label:""+this.$t("Cumulative Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_manager",label:""+this.$t("Manager Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul_manager",label:""+this.$t("Manager Cumulative Score"),thClass:"text-center",tdClass:"text-center"}]},scaleList:[],scale1_eng:[],scale2_eng:[],scale3_eng:[],scale4_eng:[],scale5_eng:[],scale6_eng:[],internal_industry_status:null,hod_data:null,appraiser_hod_name:null,appraiser_hod_position:null,appraiser_hr_name:null,appraiser_hr_position:null,pemberat:null}},computed:{...Object(u["c"])(["roles","userDetails"]),isEnglish(){return"en"===this.$i18n.locale}},watch:{"$i18n.locale":function(){this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})}),this.YearList=this.YearList.map(t=>""===t.value?{...t,text:this.$t("Choose Year")}:t)}},mounted(){this.getDetails(),this.getStatus(),this.getYear(),this.getCurrentUser(),this.scoreRating()},methods:{clear(){this.kraList=[]},nextPage(t,e){const a=t;this.$router.push({name:"my-performance",params:{id:a,status:e}})},clearButton(){this.selectedStatus=null,this.selectedYear="",this.searchname="",this.searchInput="",this.getDetails()},DateChanged(t){const e=P()(t,"").format("D-MM-yyyy");return e},apiFilter(){this.getDetails()},getCurrentUser(){this.$axios.get(this.$baseUrl+"/users/current_user").then(t=>{this.allUserData=t.data.data})},getStatus(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceStatus").then(t=>{this.allStatus=t.data.data,this.allStatus.forEach(t=>{this.statusList.push(t.status)});const e=[{text:"Choose Status",value:null,disabled:!0}];"ma"===this.$i18n.locale?(this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})})):this.iniStatus=e.concat(this.statusList)})},getYear(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceYear").then(t=>{this.allYear=t.data.data,this.YearList=[{text:""+this.$t("Choose Year"),value:"",disabled:!0}],this.allYear.forEach(t=>{this.YearList.push(t.year)})})},getDetails(){this.show=!0,this.filteredItemLengthBTable=[];const t=new FormData;t.append("status",this.selectedStatus),t.append("year",this.selectedYear),this.searchInput=this.searchname,this.$axios.post(this.$baseUrl+"/myperformances/getUserPerformances",t).then(t=>{if(this.show=!1,0!==t.data.data.length){this.cycleList=t.data.data;for(let e=0;e<t.data.data.length;e+=1)this.performanceId=t.data.data[e].performance_id,this.userId=t.data.data[e].user_id,this.position=t.data.data[e].user_position,this.status=t.data.data[e].status}else this.$toast({component:w["a"],props:{title:this.$t("No record retrieved")+".",icon:"InfoIcon",variant:"success",titleColor:"#000",iconBg:"#53b7db"}},{position:"top-right",type:"info"}),this.cycleList=[];this.rows=""===this.searchInput?this.cycleList.length:this.filteredItemLengthBTable.length}).catch(t=>{this.show=!1,console.log("err",t)})},scoreRating(){this.$axios.get(this.$baseUrl+"/rating/getAll").then(t=>{this.scaleList=t.data.data,this.scale1_eng=this.scaleList[5].definition_en,this.scale2_eng=this.scaleList[4].definition_en,this.scale3_eng=this.scaleList[3].definition_en,this.scale4_eng=this.scaleList[2].definition_en,this.scale5_eng=this.scaleList[1].definition_en,this.scale6_eng=this.scaleList[0].definition_en})},downloadPerformancePDF(t){this.$axios.get(`${this.$baseUrl}/download_pdf_data?user_id=${t.user_id}&performance_id=${t.performance_id}`).then(t=>{this.myPerformance=t.data.data,this.kra=this.myPerformance.kra,this.active_competency_core_performance=this.myPerformance.active_competency_core_performance,this.active_competency_behaviour_performance=this.myPerformance.active_competency_behaviour_performance,this.training_development=this.myPerformance.training_development,this.other_contribution=this.myPerformance.other_contribution,this.internal_industry_status=this.myPerformance.internal_industry_status,this.hod_data=t.data.data.appraiser_sv_hod,null!==this.hod_data&&(this.appraiser_hod_name=this.hod_data.full_name,this.appraiser_hod_position=this.hod_data.position),this.appraiser_hr_name=t.data.data.appraiser_hod_hr.full_name,this.appraiser_hr_position=t.data.data.appraiser_hod_hr.position})},triggerGenerateReport(){this.showPerformance()},getImage(t){return new Promise(e=>{const a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){const t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight;const a=t.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height),t.getContext("2d").drawImage(this,0,0),e(t.toDataURL("image/jpeg"))},a.src=t})},getKra(){return null!==this.kra?(this.kra.forEach(t=>{t.key_result_area.forEach(e=>{this.kraList.push({objective_name:null===t.objective_name?"-":t.objective_name.toString(),kra_name:null===e.kra_name?"-":e.kra_name.toString(),measurement:null===e.measurement?"-":e.measurement.toString(),deadline:null===e.deadline?"-":e.deadline.toString(),self_score:null===e.rating?"-":e.rating.toString(),manager_score:null===e.manager_rating?"-":e.manager_rating.toString()})})}),this.kraList):null},getCoreData(){if(null!==this.active_competency_core_performance){const t=this.active_competency_core_performance.map(t=>({subcore:t.subcore.name_bi.toString(),description:t.subcore.description_bi.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getBehavData(){if(null!==this.active_competency_behaviour_performance){const t=this.active_competency_behaviour_performance.map(t=>({behavioural_competency:t.behaviour.name_bi.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getTrainingData(){if(null!==this.training_development){const t=this.training_development.map(t=>({program_title:t.program_name.toString(),start_date:t.start_date.toString(),end_date:t.end_date.toString(),hours:t.hour.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getOtherContrData(){if(null!==this.other_contribution){const t=this.other_contribution.map(t=>({involvement_activities:t.involvement.toString(),position:t.position_english.toString(),date:t.date.toString(),self_score:t.self_score.toString()}));return t}return null},async showPerformance(){const t=new D["default"]("landscape","mm","a4"),e=await this.getImage("https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Ranhill_Utilities_Berhad_Logo_%28Original%29.png/922px-Ranhill_Utilities_Berhad_Logo_%28Original%29.png?20211125033701");t.addImage(e,"png",20,10,18.8125,27.5,"a","FAST"),console.log(">> hereee");const a=t.internal.pageSize.width||t.internal.pageSize.getWidth();t.setFont("helvetica","bold"),t.setFontSize(14),t.text(""+this.allUserData.subsidiary.toUpperCase(),150,12,null,null,"center"),t.setFontSize(12),t.text("PERFORMANCE APPRAISAL FORM",150,19,null,null,"center"),t.setFontSize(11),t.text("Executive : Jr. Exe / Exe / Sr. Exe",150,25,null,null,"center"),t.text("DEPARTMENT                :______________________________________",200,33,null,null,"right"),t.text("REVIEW PERIOD FOR  :____________________(mm/yy) to ____________________(mm/yy)",224,40,null,null,"right"),t.setFillColor(168,168,168),t.rect(10,50,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("EMPLOYEE INFORMATION",150,55.5,"center"),t.setFillColor(168,168,168),t.rect(10,58,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Employee No.",60,64,"center"),t.setFillColor(255,255,255),t.rect(110,58,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,66,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Employee Name",60,72,"center"),t.setFillColor(255,255,255),t.rect(110,66,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,74,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Position",60,79.5,"center"),t.setFillColor(255,255,255),t.rect(110,74,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,82,100,8,"FD"),t.setFillColor(255,255,255),t.rect(110,82,a-120,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Job Grade",60,87,"center"),t.setFillColor(168,168,168),t.rect(10,90,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("District",60,95.5,"center"),t.setFillColor(255,255,255),t.rect(110,90,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,103,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("GENERAL INSTRUCTIONS",14,108.5,"left"),t.setTextColor("#000000"),t.text("Objectives:",12,116,"left"),t.setFont("helvetica","normal"),t.text("The objective of the Employee Performance Appraisal is to measure the employee's performance with regards to the job requirements and the specific knowledge, skills and behaviours that is required for their job.  It is also an avenue to provide clear feedback to the employee on their performance in achieving specific objectives as set by the Company in order to fulfill the company vision, mission and balanced scorecard.   ",12,122,{align:"left",maxWidth:a-20}),t.setFont("helvetica","bold"),t.text("Instruction:",12,138,"left"),t.setFont("helvetica","normal"),t.text("        Please use the following rating scale to evaluate the employee's performance",12,143.5,"left"),t.setTextColor("#FFFFFF"),t.setFont("helvetica","bold"),t.setFillColor(168,168,168),t.rect(12,146,68,8,"FD"),t.text("RATING SCALE",15,151.5,"left"),t.setFillColor(168,168,168),t.rect(80,146,a-90,8,"FD"),t.text("PERFORMANCE RATING SCALE DEFINITION",a-110,151.5,"center"),t.setFont("helvetica","normal"),t.setTextColor("#000"),t.setFillColor(168,168,168),t.rect(12,154,68,8,"FD"),t.text("6",45,159.5,"center"),t.setFillColor(255,255,255),t.rect(80,154,(a-90)/2,8,"FD"),t.text(""+this.scale6_eng,130,159.5,"center"),t.setFillColor(255,255,255),t.rect(183.5,154,(a-90)/2,16,"FD"),t.text("EXCEPTIONAL",235,164,"center"),t.setFillColor(168,168,168),t.rect(12,162,68,8,"FD"),t.text("5",45,167.5,"center"),t.setFillColor(255,255,255),t.rect(80,162,(a-90)/2,8,"FD"),t.text(""+this.scale5_eng,130,167.5,"center"),t.setFillColor(168,168,168),t.rect(12,170,68,8,"FD"),t.text("4",45,176,"center"),t.setFillColor(255,255,255),t.rect(80,170,(a-90)/2,8,"FD"),t.text(""+this.scale4_eng,130,176,"center"),t.setFillColor(255,255,255),t.rect(183.5,170,(a-90)/2,16,"FD"),t.text("COMPETENT",235,180,"center"),t.setFillColor(168,168,168),t.rect(12,178,68,8,"FD"),t.text("3",45,184,"center"),t.setFillColor(255,255,255),t.rect(80,178,(a-90)/2,8,"FD"),t.text(""+this.scale3_eng,130,184,"center"),t.setFillColor(168,168,168),t.rect(12,186,68,8,"FD"),t.text("2",45,192,"center"),t.setFillColor(255,255,255),t.rect(80,186,(a-90)/2,8,"FD"),t.text(""+this.scale2_eng,130,192,"center"),t.setFillColor(255,255,255),t.rect(183.5,186,(a-90)/2,16,"FD"),t.text("BELOW AVERAGE",235,196,"center"),t.setFillColor(168,168,168),t.rect(12,194,68,8,"FD"),t.text("1",45,199.5,"center"),t.setFillColor(255,255,255),t.rect(80,194,(a-90)/2,8,"FD"),t.text(""+this.scale1_eng,130,199.5,"center"),t.setTextColor("#000");try{t.text(123,32,""+this.allUserData.department)}catch{t.text(123,32,"-")}try{t.text(113,39,""+(this.isEnglish?this.myPerformance.start_period:this.myPerformance.start_period_my))}catch{t.text(113,39,"-")}try{t.text(175,39,""+(this.isEnglish?this.myPerformance.end_period:this.myPerformance.end_period_my))}catch{t.text(175,39,"-")}try{t.text(130,63,""+this.userDetails.employee_number)}catch{t.text(130,63,"-")}try{t.text(130,71,""+this.userDetails.full_name)}catch{t.text(130,71,"-")}try{t.text(130,79,""+this.userDetails.position)}catch{t.text(130,79,"-")}try{t.text(130,87,""+this.allUserData.employee.grade)}catch{t.text(130,87,"-")}try{t.text(130,95,""+this.allUserData.branch)}catch{t.text(130,95,"-")}t.addPage("a4"),t.text("This Appraisal Form is applicable to all Executive. This form is divided into five (5) parts.",12,15,"left"),t.text("Part 1 : Key Result Area (KRA's) - Planning Phase: This part is to be completed by the employee and discussed with supervisor.",12,25,{align:"left",maxWidth:a-20}),t.text("Part 2 : Key Result Area (KRA's) - Performance Review",12,35,"left"),t.text("           : B.  Key Result Area (KRA's) - Performance Result (Year End) ",12,40,{align:"left",maxWidth:a-20}),t.text("Part 3 : Competencies Assessment (Divided into two (2) competencies)",12,45,"left"),t.text("A. Core Competencies - Please Evaluate all three (3) competencies. Select only two (2) most important items of each Core Competencies. These are company's universal competencies which  are applicable to all positions and also direct / indirect to company mission.",16,50,{align:"left",maxWidth:a-20}),t.text("B. Behavioural Competencies - These are underlying characteristics to empower superior performance on the  job. Each employee must identify the Behavioural Competencies as specified in the Position Competency Matrix for the appraisor to evaluate.",16,60,{align:"left",maxWidth:a-20}),t.text("Note : All competencies for A and B must follow the Competency Position Matrix.",12,70,"left"),t.text("Part 4 : A. Training and Development",12,75,"left"),t.text("           : B. Internal / Industrial Involvement",12,80,"left"),t.text("Part 5 : Overall Performance Comments - To be completed at the end of performance appraisal period.",12,85,"left"),t.setFillColor(168,168,168),t.rect(10,90,110,8,"FD"),t.setTextColor("#FFFFFF"),t.text("For Human Resources Department Use Only",15,95,"left"),t.setFillColor(168,168,168),t.rect(10,98,60,8,"FD"),t.setTextColor("#000"),t.text("Date Received",15,103.5,"left"),t.setFillColor(255,255,255),t.rect(70,98,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,106,60,8,"FD"),t.setTextColor("#000"),t.text("Recorded By",15,111.5,"left"),t.setFillColor(255,255,255),t.rect(70,106,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,114,60,8,"FD"),t.setTextColor("#000"),t.text("Date",15,119.5,"left"),t.setFillColor(255,255,255),t.rect(70,114,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,122,60,8,"FD"),t.setTextColor("#000"),t.text("Remarks",15,127.5,"left"),t.setFillColor(255,255,255),t.rect(70,122,50,8,"FD"),t.setFillColor(168,168,168);const r=this.table.fields.map(t=>t.label),n=this.table.scoreList.map(t=>[t.keputusan,t.pemberat,t.markah,t.markah_terkumpul,t.markah_manager,t.markah_terkumpul_manager]);T()(t,{startY:134,headStyles:{halign:"center",fillColor:[168,168,168]},columnStyles:{1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"}},head:[r],body:n}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST"),t.addPage("a4","l"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Key Result Area Details",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("Part 1: This part has three sections which are Performance Planning, Performance Review, and Year End Result.",20,30);try{const a=this.getKra();function i(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=i(["objective_name","kra_name","measurement","deadline","self_score","manager_score"]),n=[50];t.table(20,41,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,41,"*No Key Result Area"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Part 2: Competency Assessment (divided into two (2) competencies).",20,20),t.setFont("helvetica","regular"),t.text("Part 2a: Core Competencies",20,30);try{const a=this.getCoreData();function s(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:85,align:"center",padding:0});return e}const r=s(["subcore","description","self_score","manager_score"]),n=[100];t.table(20,40,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,40,"*No Core Competencies"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.text("Part 2b: Behavioral Competencies",20,20);try{const a=this.getBehavData();function o(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:114,align:"center",padding:0});return e}const r=o(["behavioural_competency","self_score","manager_score"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*No Behavioral Competencies"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Part 3a: Training and Development",20,20),t.setFont("helvetica","regular");try{const a=this.getTrainingData();function l(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=l(["program_title","start_date","end_date","hours","self_score","manager_score"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*No Training and Development"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}if("enable"===this.internal_industry_status){t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Part 3b: Internal / Industrial Involvement",20,20),t.setFont("helvetica","regular");try{const a=this.getOtherContrData();function c(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:65,align:"center",padding:0});return e}const r=c(["involvement_activities","position","date","self_score"]),n=[100];0!==this.other_contribution.length?(t.table(7,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")):(t.text(25,30,"*No Internal / Industrial Involvement"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"))}catch{t.text(25,30,"*No Internal / Industrial Involvement"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")}}t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Part 4: Overall Performance Comments - Please complete at the end of the",20,20),t.text("Performance Appraisal.",20,27),t.setFont("helvetica","regular");const u=[["COMMENTS BY APPRAISEE"],[{content:""+(null===this.myPerformance.comment_performance||null===this.myPerformance.comment_performance.comment?"-":this.myPerformance.comment_performance.comment),styles:{lineWidth:.5}}],[`Full Name: ${void 0===this.myPerformance.appraisee.full_name?"-":this.myPerformance.appraisee.full_name}  |  Position: ${void 0===this.myPerformance.appraisee.position?"-":this.myPerformance.appraisee.position}  |  Date: ${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[0]}`],["COMMENTS BY APPRAISER"],[{content:""+(null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.comment),styles:{lineWidth:.5}}],[`Full Name: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.full_name}  |  Position: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.position}  |  Date: ${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[0]}`],["COMMENTS BY APPRAISER'S SUPERVISOR/ HEAD OF DEPARTMENT/ HEAD OF DIVISION/ CEO/ COO/ CHAIRMAN"],[{content:""+(null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.comment),styles:{lineWidth:.5}}],[`Full Name: ${null===this.hod_data?this.appraiser_hr_name:this.appraiser_hod_name}  |  Position: ${null===this.hod_data?this.appraiser_hr_position:this.appraiser_hod_position}  |  Date: ${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[0]}`]];t.autoTable({startY:35,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:3},body:u,theme:"plain",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Proposed Individual Training and Development Needs",20,20),t.setFont("helvetica","regular");try{t.text(20,30,"Supervisor Name: "+(void 0===this.myPerformance.supervisor.full_name?"-":this.myPerformance.supervisor.full_name))}catch{t.text(20,30,"Supervisor Name: -")}try{t.text(20,35,"Position: "+(void 0===this.myPerformance.supervisor.position?"-":this.myPerformance.supervisor.position))}catch{t.text(20,35,"Position: -")}const m=[[""+(0===this.myPerformance.suggestions.length?"-":this.myPerformance.suggestions[0].suggestion)]];t.autoTable({startY:40,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:m,theme:"grid",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.save("My Performance.pdf")},afterFilter(t){this.filteredItemLengthBTable=t},getUserSet(t){const e=new URLSearchParams;null!==this.performanceID&&e.append("user_id",this.userDetails.user_id),this.$axios.get(this.$baseUrl+"/myperformances/getUserPerformanceSet",{params:e}).then(e=>{this.kra_id=e.data.data.jd_kra,this.getWeightage(this.kra_id,t)})},getWeightage(t,e){const a=new URLSearchParams;a.append("subsidiary_id",this.userDetails.business_unit),a.append("role_id",this.userDetails.grade_set_id);const r=1===this.userDetails.grade_set_id||2===this.userDetails.grade_set_id;this.$axios.get(this.$baseUrl+"/weightage/get_role_percentage",{params:a}).then(a=>{const n=a.data.data;this.pemberat={KRA:0===t?n.overall_assesment+"%":n.key_result_area+"%",CoreCompetencies:n.core_competency+"%",BehaviouralCompetencies:n.behavioural_competency+"%",TrainingAndDevelopment:r?n.training+n.self_learning+"%":n.training+"%",OtherContributions:n.internal_industry_involement+"%",SummaryScore:"100%"},this.getScore(this.kra_id,e)})},getScore(t,e){this.$axios.get(`${this.$baseUrl}/myperformances/overall_performance?cycle_id=${e}`).then(e=>{this.overall_total2=e.data.data.overall_total,this.overall_total_manager=e.data.data.overall_total_manager,this.contributionPercent=e.data.data.hasContribution;const a="enable"===e.data.data.internal_industry_status;let r="",n="";0===t?(r=e.data.data.p1_job_description,n=e.data.data.p1_job_description_manager):(r=e.data.data.p1_kra,n=e.data.data.p1_kra_manager);const{p2_competency_core:i}=e.data.data,{p2_competency_behaviour:s}=e.data.data,{p3_training_development:o}=e.data.data,{p3_contribution:l}=e.data.data,{accumulative1:c}=e.data.data,{accumulative2:u}=e.data.data,{accumulative3:m}=e.data.data,{accumulative4:h}=e.data.data,{overall_total:d}=e.data.data,{p2_competency_core_manager:p}=e.data.data,{p2_competency_behaviour_manager:g}=e.data.data,{p3_training_development_manager:_}=e.data.data,{p3_contribution_manager:f}=e.data.data,{accumulative1_manager:b}=e.data.data,{accumulative2_manager:y}=e.data.data,{accumulative3_manager:v}=e.data.data,{accumulative4_manager:x}=e.data.data,{overall_total_manager:k}=e.data.data,C=[{keputusan:0===this.kra?""+this.$t("Overall Assessment"):""+this.$t("Key Result Area"),pemberat:this.pemberat.KRA,markah:r.toString(),markah_terkumpul:c.toString(),markah_manager:n.toString(),markah_terkumpul_manager:b.toString()},{keputusan:""+this.$t("Core Competencies"),pemberat:this.pemberat.CoreCompetencies,markah:i.toString(),markah_terkumpul:u.toString(),markah_manager:p.toString(),markah_terkumpul_manager:y.toString()},{keputusan:""+this.$t("Behavioural Competencies"),pemberat:this.pemberat.BehaviouralCompetencies,markah:s.toString(),markah_terkumpul:m.toString(),markah_manager:g.toString(),markah_terkumpul_manager:v.toString()},{keputusan:""+this.$t("Training and Development"),pemberat:this.pemberat.TrainingAndDevelopment,markah:o.toString(),markah_terkumpul:h.toString(),markah_manager:_.toString(),markah_terkumpul_manager:x.toString()},{keputusan:""+this.$t("Summary Score (%)"),pemberat:this.pemberat.SummaryScore,markah:d.toString(),markah_terkumpul:"",markah_manager:k.toString(),markah_terkumpul_manager:""}],S={keputusan:"Internal / Industrial Involvement",pemberat:this.pemberat.OtherContributions,markah:l,markah_terkumpul:d,markah_manager:f,markah_terkumpul_manager:x};this.table.scoreList=a?C.slice(0,4).concat(S).concat(C.slice(4)):C,this.contribution=l,this.show=!1,console.log("tak masuk ke"),this.triggerGenerateReport()}).catch(()=>{this.show=!1})}}},N=B,W=(a("6dea"),Object(I["a"])(N,L,R,!1,null,"3252dd38",null)),M=W.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1"},[a("h5",{staticClass:"saj-title"},[t._v(" "+t._s(t.$t("Performance List"))+" ")])]),a("b-card-body",[a("b-row",{staticClass:"justify-content-end"},[a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Status"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.iniStatus,value:t.iniStatus.value},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Year"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.YearList,value:t.YearList},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Search"))+":")]),a("b-form-input",{attrs:{placeholder:t.$t("Search")+"..."},model:{value:t.searchname,callback:function(e){t.searchname=e},expression:"searchname"}})],1),a("b-row",{staticClass:"flex-row flex-column mr-1",attrs:{cols:"8"}},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"d-flex justify-content-center saj-button",attrs:{md:"4",variant:"primary",block:""},on:{click:function(e){return t.getDetails()}}},[a("span",{staticClass:"d-md-none d-lg-block"},[t._v(" "+t._s(t.$t("Search"))+" ")])])],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"mr-1 saj-buttom",attrs:{variant:"primary"},on:{click:function(e){return t.clearButton()}}},[t._v(" "+t._s(t.$t("Clear"))+" ")])],1)],1)],1)],1),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("div",{staticClass:"px-1"},[a("b-table",{staticClass:"saj-subtitle mt-1 mb-1",attrs:{"sticky-header":"500px",responsive:"",items:t.cycleList,fields:t.fields,filter:t.searchInput,"per-page":t.perPage,bordered:"","show-empty":""},on:{filtered:t.afterFilter},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-subtitle "},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+"... ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(year)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(t._s(t.$t("REVIEW CYCLE"))+" "),a("span",[t._v(" ")]),t._v(t._s(t.$t(e.item.year))+" ")]),a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(" "+t._s(t.$t(e.item.user_position))+" ")])]}},{key:"cell(date_complete)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.date_complete?t.DateChanged(e.item.date_complete):"-")+" ")])]}},{key:"cell(self_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.self_score?e.item.self_score:"-")+" ")])]}},{key:"cell(manager_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.manager_score?e.item.manager_score:"-")+" ")])]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[a("b-badge",{staticStyle:{"border-radius":"20vh"},attrs:{variant:""+e.item.status==="Completed"?"success":"warning"}},[t._v(" "+t._s(t.$t(e.item.status))+" ")])],1)]}},{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center",staticStyle:{color:"#464e5f"}},[[a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("See Details"),expression:"$t('See Details')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon mr-1",attrs:{icon:"EyeIcon",size:"25"},on:{click:function(a){return t.nextPage(e.item.performance_id,e.item.status)}}}),a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("Download"),expression:"$t('Download')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon",attrs:{icon:"DownloadIcon",size:"25"},on:{click:function(a){t.downloadPerformancePDF(e.item),t.getUserSet(e.item.performance_id)}}})]],2)]}}])}),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.rows>t.perPage*t.currentPage?t.perPage*t.currentPage:t.rows)+" "+t._s(t.$t("from"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:""},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])],1)],1)},Y=[],z={components:{BRow:d["a"],BCol:p["a"],BCard:s["a"],BCardHeader:g["a"],BCardBody:_["a"],BButton:f["a"],BFormInput:b["a"],BFormSelect:y["a"],BTable:v["a"],BPagination:x["a"],BBadge:k["a"],BPopover:o["a"],BOverlay:C["a"],BSpinner:S["a"]},directives:{"b-popover":l["a"],"b-tooltip":c["a"],Ripple:i["a"]},data(){return{show:!0,filteredItemLengthBTable:[],status:null,currentPage:1,perPage:5,rows:null,showEdit:null,approveList:[],isModalEVisible:!1,isModalAVisible:!1,performanceId:"",userId:null,cycleList:[],role:"",filter:"",searchname:"",searchInput:"",selectedStatus:null,selectedYear:"",empCategory:null,StatusJdKra:null,allStatus:[],statusList:[],YearList:[],selected:"",iniStatus:[],options:[{name:"View"},{name:"Print"}],items:[],fields:[{key:"year",label:"Review Cycle",thClass:"text-center"},{key:"date_complete",label:"Date Complete",thClass:"text-center"},{key:"self_score",label:"Self Score",thClass:"text-center"},{key:"manager_score",label:"Manager Score",thClass:"text-center"},{key:"status",label:"Status",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],myPerformance:null,training_development:[],other_contribution:[],active_competency_core_performance:[],active_competency_behaviour_performance:[],main_task:[],side_task:[],user_kra_jd_status:null,allUserData:null,kra_id:null,contribution:null,contributionPercent:0,contributionPercentTeam:0,scoreYearSelected:"a",scoreYearoptions:[{value:"a",text:"2022"},{value:"b",text:"2021"},{value:"c",text:"2020"}],overall_total2:"",overall_total_manager:"",table:{p1_kra:0,p1_job_description:0,p2_competency_core:0,p2_competency_behaviour:0,p3_training_development:0,p3_contribution:0,accumulative1:0,accumulative2:0,accumulative3:0,accumulative4:0,overall_total:0,p1_kra_manager:0,p1_job_description_manager:0,p2_competency_core_manager:0,p2_competency_behaviour_manager:0,p3_training_development_manager:0,p3_contribution_manager:0,accumulative1_manager:0,accumulative2_manager:0,accumulative3_manager:0,accumulative4_manager:0,overall_total_manager:0,bordered:!0,scoreList:[{keputusan:"Key Result Area",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Core Competencies",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Behavioural Competencies",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Training and Development",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Penglibatan Dalaman / Industri",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Summary Score (%)",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""}],fields:[{key:"keputusansss",label:""+this.$t("Result"),thClass:"text-center"},{key:"pemberattt",label:""+this.$t("Weightage"),thClass:"text-center",tdClass:"text-center"},{key:"markah",label:""+this.$t("Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul",label:""+this.$t("Cumulative Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_manager",label:""+this.$t("Manager Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul_manager",label:""+this.$t("Manager Cumulative Score"),thClass:"text-center",tdClass:"text-center"}]},scaleList:[],scale1_bm:[],scale2_bm:[],scale3_bm:[],scale4_bm:[],scale5_bm:[],scale6_bm:[],internal_industry_status:null,hod_data:null,appraiser_hod_name:null,appraiser_hod_position:null,appraiser_hr_name:null,appraiser_hr_position:null,pemberat:null}},computed:{...Object(u["c"])(["roles","userDetails"]),isEnglish(){return"en"===this.$i18n.locale}},watch:{"$i18n.locale":function(){this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})}),this.YearList=this.YearList.map(t=>""===t.value?{...t,text:this.$t("Choose Year")}:t)}},mounted(){this.getDetails(),this.getStatus(),this.getYear(),this.getCurrentUser(),this.scoreRating()},methods:{nextPage(t,e){const a=t;this.$router.push({name:"my-performance",params:{id:a,status:e}})},clearButton(){this.selectedStatus=null,this.selectedYear="",this.searchname="",this.searchInput="",this.getDetails()},DateChanged(t){const e=P()(t,"").format("D-MM-yyyy");return e},apiFilter(){this.getDetails()},getCurrentUser(){this.$axios.get(this.$baseUrl+"/users/current_user").then(t=>{this.allUserData=t.data.data})},getStatus(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceStatus").then(t=>{this.allStatus=t.data.data,this.allStatus.forEach(t=>{this.statusList.push(t.status)});const e=[{text:"Choose Status",value:null,disabled:!0}];"ma"===this.$i18n.locale?(this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})})):this.iniStatus=e.concat(this.statusList)})},getYear(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceYear").then(t=>{this.allYear=t.data.data,this.YearList=[{text:""+this.$t("Choose Year"),value:"",disabled:!0}],this.allYear.forEach(t=>{this.YearList.push(t.year)})})},getDetails(){this.show=!0,this.filteredItemLengthBTable=[];const t=new FormData;t.append("status",this.selectedStatus),t.append("year",this.selectedYear),this.searchInput=this.searchname,this.$axios.post(this.$baseUrl+"/myperformances/getUserPerformances",t).then(t=>{if(this.show=!1,0!==t.data.data.length){this.cycleList=t.data.data;for(let e=0;e<t.data.data.length;e+=1)this.performanceId=t.data.data[e].performance_id,this.userId=t.data.data[e].user_id,this.position=t.data.data[e].user_position,this.status=t.data.data[e].status}else this.$toast({component:w["a"],props:{title:this.$t("No record retrieved")+".",icon:"InfoIcon",variant:"success",titleColor:"#000",iconBg:"#53b7db"}},{position:"top-right",type:"info"}),this.cycleList=[];this.rows=""===this.searchInput?this.cycleList.length:this.filteredItemLengthBTable.length}).catch(t=>{this.show=!1,console.log("err",t)})},scoreRating(){this.$axios.get(this.$baseUrl+"/rating/getAll").then(t=>{this.scaleList=t.data.data,this.scale1_bm=this.scaleList[5].definition_my,this.scale2_bm=this.scaleList[4].definition_my,this.scale3_bm=this.scaleList[3].definition_my,this.scale4_bm=this.scaleList[2].definition_my,this.scale5_bm=this.scaleList[1].definition_my,this.scale6_bm=this.scaleList[0].definition_my})},downloadPerformancePDF(t){this.$axios.get(`${this.$baseUrl}/download_pdf_data?user_id=${t.user_id}&performance_id=${t.performance_id}`).then(t=>{this.myPerformance=t.data.data,this.user_kra_jd_status=this.myPerformance.user_kra_jd_status,this.main_task=this.myPerformance.main_task,this.side_task=this.myPerformance.side_task,this.active_competency_core_performance=this.myPerformance.active_competency_core_performance,this.active_competency_behaviour_performance=this.myPerformance.active_competency_behaviour_performance,this.training_development=this.myPerformance.training_development,this.other_contribution=this.myPerformance.other_contribution,this.internal_industry_status=this.myPerformance.internal_industry_status,this.hod_data=t.data.data.appraiser_sv_hod,null!==this.hod_data&&(this.appraiser_hod_name=this.hod_data.full_name,this.appraiser_hod_position=this.hod_data.position),this.appraiser_hr_name=t.data.data.appraiser_hod_hr.full_name,this.appraiser_hr_position=t.data.data.appraiser_hod_hr.position})},triggerGenerateReport(){this.showPerformance()},getImage(t){return new Promise(e=>{const a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){const t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight;const a=t.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height),t.getContext("2d").drawImage(this,0,0),e(t.toDataURL("image/jpeg"))},a.src=t})},getMainTask(){if(null!==this.main_task){const t=this.main_task.map(t=>({tugas_utama:null===t.main_task_field?"-":t.main_task_field,sasaran:null===t.target.toString()?"-":t.target.toString(),pencapaian_tahunan:null===t.yearly_achievement.toString()?"-":t.yearly_achievement.toString(),skor_sendiri:null===t.marks.toString()?"-":t.marks.toString(),skor_pengurus:null===t.manager_marks?"-":t.manager_marks.toString()}));return t}return null},getSideTask(){if(null!==this.side_task){const t=this.side_task.map(t=>({tugas_tambahan:null===t.side_task_summary.toString()?"-":t.side_task_summary.toString(),sasaran:null===t.target?"-":t.target,pencapaian_tahunan:null===t.yearly_achievement.toString()?"-":t.yearly_achievement.toString(),skor_sendiri:null===t.marks.toString()?"-":t.marks.toString(),skor_pengurus:null===t.manager_marks?"-":t.manager_marks.toString()}));return t}return null},getCoreData(){if(null!==this.active_competency_core_performance){const t=this.active_competency_core_performance.map(t=>({subteras:t.subcore.name.toString(),penerangan:t.subcore.description.toString(),skor_sendiri:t.self_score.toString(),skor_pengurus:t.manager_score.toString()}));return t}return null},getBehavData(){if(null!==this.active_competency_behaviour_performance){const t=this.active_competency_behaviour_performance.map(t=>({tingkah_laku:t.behaviour.name.toString(),skor_sendiri:t.self_score.toString(),skor_pengurus:t.manager_score.toString()}));return t}return null},getTrainingData(){if(null!==this.training_development){const t=this.training_development.map(t=>({tajuk_program:t.program_name.toString(),tarikh_mula:t.start_date.toString(),tarikh_tamat:t.end_date.toString(),jumlah_jam:t.hour.toString(),skor_sendiri:t.self_score.toString(),skor_pengurus:t.manager_score.toString()}));return t}return null},getOtherContrData(){if(null!==this.other_contribution){const t=this.other_contribution.map(t=>({penglibatan_aktiviti:t.involvement.toString(),jawatan:t.position_bahasa.toString(),tarikh:t.date.toString(),skor_sendiri:t.self_score.toString()}));return t}return null},async showPerformance(){const t=new D["default"]("landscape","mm","a4"),e=await this.getImage("https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Ranhill_Utilities_Berhad_Logo_%28Original%29.png/922px-Ranhill_Utilities_Berhad_Logo_%28Original%29.png?20211125033701");t.addImage(e,"png",20,10,18.8125,27.5,"a","FAST");const a=t.internal.pageSize.width||t.internal.pageSize.getWidth();t.setFont("helvetica","bold"),t.setFontSize(14),t.text(""+this.allUserData.subsidiary.toUpperCase(),150,12,null,null,"center"),t.setFontSize(12),t.text("BORANG PENILAIAN PRESTASI",150,19,null,null,"center"),t.setFontSize(11),t.text("Perkeranian / Pembantu / Pegawai Khidmat Pelanggan / Operator Loji / Krew / Pembantu Lapangan",150,25,null,null,"center"),t.text("JABATAN                :______________________________________",200,33,null,null,"right"),t.text("TEMPOH PENILAIAN  :____________________(bln/thn) hingga ____________________(bln/thn)",236,40,null,null,"right"),t.setFillColor(168,168,168),t.rect(10,50,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("MAKLUMAT ANGGOTA",150,55.5,"center"),t.setFillColor(168,168,168),t.rect(10,58,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Nombor Anggota",60,64,"center"),t.setFillColor(255,255,255),t.rect(110,58,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,66,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Nama Anggota",60,72,"center"),t.setFillColor(255,255,255),t.rect(110,66,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,74,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Jawatan",60,79.5,"center"),t.setFillColor(255,255,255),t.rect(110,74,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,82,100,8,"FD"),t.setFillColor(255,255,255),t.rect(110,82,a-120,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Gred Jawatan",60,87,"center"),t.setFillColor(168,168,168),t.rect(10,90,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Daerah",60,95.5,"center"),t.setFillColor(255,255,255),t.rect(110,90,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,103,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("ARAHAN AM",14,108.5,"left"),t.setTextColor("#000000"),t.text("Objektif:",12,116,"left"),t.setFont("helvetica","normal"),t.text("Objektif utama Penilaian Prestasi ini adalah mengukur prestasi anggota yang berkaitan dengan keperluan-keperluan tugas dan kemahiran-kemahiran dan pengetahuan yang khusus dan juga kelakuan yang berkaitan dengan tugas. Ia juga satu cara untuk menyediakan maklumbalas yang jelas kepada anggota mengenai prestasi mereka di dalam mencapai objektif-objektif khusus yang telah ditetapkan oleh Syarikat di dalam mencapai visi, misi dan balanced scorecard.   ",12,122,{align:"left",maxWidth:a-20}),t.setFont("helvetica","bold"),t.text("Arahan:",12,138,"left"),t.setFont("helvetica","normal"),t.text("       Sila gunakan Skala Penilaian di bawah untuk menilai Prestasi Anggota",12,143.5,"left"),t.setTextColor("#FFFFFF"),t.setFont("helvetica","bold"),t.setFillColor(168,168,168),t.rect(12,146,68,8,"FD"),t.text("SKALA",15,151.5,"left"),t.setFillColor(168,168,168),t.rect(80,146,a-90,8,"FD"),t.text("TAKRIFAN SKALA PENILAIAN PRESTASI",a-110,151.5,"center"),t.setFont("helvetica","normal"),t.setTextColor("#000"),t.setFillColor(168,168,168),t.rect(12,154,68,8,"FD"),t.text("6",45,159.5,"center"),t.setFillColor(255,255,255),t.rect(80,154,(a-90)/2,8,"FD"),t.text(""+this.scale6_bm,130,159.5,"center"),t.setFillColor(255,255,255),t.rect(183.5,154,(a-90)/2,16,"FD"),t.text("Melebihi Sasaran",235,164,"center"),t.setFillColor(168,168,168),t.rect(12,162,68,8,"FD"),t.text("5",45,167.5,"center"),t.setFillColor(255,255,255),t.rect(80,162,(a-90)/2,8,"FD"),t.text(""+this.scale5_bm,130,167.5,"center"),t.setFillColor(168,168,168),t.rect(12,170,68,8,"FD"),t.text("4",45,176,"center"),t.setFillColor(255,255,255),t.rect(80,170,(a-90)/2,8,"FD"),t.text(""+this.scale4_bm,130,176,"center"),t.setFillColor(255,255,255),t.rect(183.5,170,(a-90)/2,16,"FD"),t.text("Mencapai Sasaran",235,180,"center"),t.setFillColor(168,168,168),t.rect(12,178,68,8,"FD"),t.text("3",45,184,"center"),t.setFillColor(255,255,255),t.rect(80,178,(a-90)/2,8,"FD"),t.text(""+this.scale3_bm,130,184,"center"),t.setFillColor(168,168,168),t.rect(12,186,68,8,"FD"),t.text("2",45,192,"center"),t.setFillColor(255,255,255),t.rect(80,186,(a-90)/2,8,"FD"),t.text(""+this.scale2_bm,130,192,"center"),t.setFillColor(255,255,255),t.rect(183.5,186,(a-90)/2,16,"FD"),t.text("Bawah Sasaran",235,196,"center"),t.setFillColor(168,168,168),t.rect(12,194,68,8,"FD"),t.text("1",45,199.5,"center"),t.setFillColor(255,255,255),t.rect(80,194,(a-90)/2,8,"FD"),t.text(""+this.scale1_bm,130,199.5,"center"),t.setTextColor("#000");try{t.text(123,32,""+this.allUserData.department)}catch{t.text(123,32,"-")}try{t.text(115,39,""+(this.isEnglish?this.myPerformance.start_period:this.myPerformance.start_period_my))}catch{t.text(115,39,"-")}try{t.text(186,39,""+(this.isEnglish?this.myPerformance.end_period:this.myPerformance.end_period_my))}catch{t.text(186,39,"-")}try{t.text(130,63,""+this.userDetails.employee_number)}catch{t.text(130,63,"-")}try{t.text(130,71,""+this.userDetails.full_name)}catch{t.text(130,71,"-")}try{t.text(130,79,""+this.userDetails.position)}catch{t.text(130,79,"-")}try{t.text(130,87,""+this.allUserData.employee.grade)}catch{t.text(130,87,"-")}try{t.text(130,95,""+this.allUserData.branch)}catch{t.text(130,95,"-")}t.addPage("a4"),t.text("Borang ini terpakai kepada semua anggota Bukan Eksekutif. Borang ini terbahagi kepada empat (4) bahagian.",12,15,"left"),t.text("Bahagian 1 : Penilaian Tugas Keseluruhan. Dilengkapkan oleh anggota dan berbincang dengan Penilai.",12,25,{align:"left",maxWidth:a-20}),t.text("Bahagian 2 : A : Kompetensi Teras - Sila nilai ketiga-tiga kompetensi dan pilih dua (2) item utama bagi setiap kompetensi tersebut. Kompetensi ini adalah asas / nilai syarikat yang perlu dimiliki oleh semua anggota dalam semua jawatan.",12,35,{align:"left",maxWidth:a-20}),t.text("           : B : Kompetensi Tingkahlaku  - Sila nilai Kompetensi Tingkahlaku ini seperti yang dinyatakan di dalam Matriks Kompetensi Jawatan. Ia merupakan sifat / ciri yang diperlukan untuk menghasilkan prestasi kerja yang lebih baik.",12,45,{align:"left",maxWidth:a-20}),t.text("Bahagian 3A : Latihan dan Pembangunan",12,60,{align:"left",maxWidth:a-20}),t.text("             3B : Penglibatan Dalaman / Industri",16,65,{align:"left",maxWidth:a-20}),t.text("Nota : Sila nilai A dan B berdasarkan Matriks Kompetensi Jawatan.",12,70,"left"),t.text("Bahagian 4 : Komen Kesuluruhan Prestasi - Sila lengkapkan pada penghujung Penilaian Prestasi.",12,75,"left"),t.setFillColor(168,168,168),t.rect(10,85,110,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Untuk Kegunaan Sumber Manusia Sahaja",15,90,"left"),t.setFillColor(168,168,168),t.rect(10,93,60,8,"FD"),t.setTextColor("#000"),t.text("Tarikh Terima",15,98.5,"left"),t.setFillColor(255,255,255),t.rect(70,93,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,101,60,8,"FD"),t.setTextColor("#000"),t.text("Direkod Oleh",15,106.5,"left"),t.setFillColor(255,255,255),t.rect(70,101,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,109,60,8,"FD"),t.setTextColor("#000"),t.text("Tarikh Rekod",15,114.5,"left"),t.setFillColor(255,255,255),t.rect(70,109,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,117,60,8,"FD"),t.setTextColor("#000"),t.text("Komen",15,122.5,"left"),t.setFillColor(255,255,255),t.rect(70,117,50,8,"FD"),t.setFillColor(168,168,168);const r=this.table.fields.map(t=>t.label),n=this.table.scoreList.map(t=>[t.keputusan,t.pemberat,t.markah,t.markah_terkumpul,t.markah_manager,t.markah_terkumpul_manager]);if(T()(t,{startY:134,headStyles:{halign:"center",fillColor:[168,168,168]},columnStyles:{1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"}},head:[r],body:n}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST"),1===this.user_kra_jd_status){t.addPage("a4","l"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Butiran Bidang Kerja Utama",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("Bahagian 1: Bahagian ini mengandungi dua seksyen iaitu Tugas Utama dan Tugas Tambahan.",20,30),t.text("Tugas Utama:",20,45);try{const a=this.getMainTask();function i(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:68,align:"center",padding:0});return e}const r=i(["tugas_utama","sasaran","pencapaian_tahunan","skor_sendiri","skor_pengurus"]),n=[70];t.table(20,55,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,55,"*Tiada Tugas Utama"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.text("Ringkasan tugas tambahan yang dijalankan sepanjang tahun:",20,20);try{const a=this.getSideTask();function s(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:68,align:"center",padding:0});return e}const r=s(["tugas_tambahan","sasaran","pencapaian_tahunan","skor_sendiri","skor_pengurus"]),n=[70];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*Tiada Tugas Tambahan"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}}else{if(null!==this.myPerformance.job_description){t.addPage("a4","p"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Butiran Senarai Tugas",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("Bahagian 1: Penilaian Tugas Keseluruhan. Dilengkapkan oleh anggota dan berbincang",20,30),t.text("dengan Penilai.",20,35),t.text("Ringkasan tugasan yang dilaksanakan sepanjang tahun:",20,45),t.text("Skor Sendiri:",20,55);try{t.text(45,55,""+this.myPerformance.job_description.task_score)}catch{t.text(45,55,"-")}t.text("Skor Pengurus:",20,60);try{t.text(49,60,""+this.myPerformance.job_description.manager_score)}catch{t.text(49,60,"-")}const a=[[""+(null===this.myPerformance.job_description?"-":this.myPerformance.job_description.job_task)]];t.autoTable({startY:65,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:a,theme:"grid",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.addPage("a4","p"),t.text("Ringkasan tugasan tambahan yang dilaksanakan sepanjang tahun / tugas-tugas lain",20,30),t.text("yang diarahkan dari masa ke semasa:",20,35),t.text("Skor Sendiri:",20,45);try{t.text(45,45,""+this.myPerformance.job_description.subtask_score)}catch{t.text(45,45,"-")}t.text("Skor Pengurus:",20,50);try{t.text(49,50,""+this.myPerformance.job_description.manager_subscore)}catch{t.text(49,50,"-")}const r=[[""+(null===this.myPerformance.job_description?"-":this.myPerformance.job_description.job_subtask)]];t.autoTable({startY:55,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:r,theme:"grid",margin:{left:20,right:20}})}else t.addPage("a4","p"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Bahagian 1: Butiran Senarai Tugas",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("*Tiada Butiran Senarai Tugas",20,30);t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Bahagian 2: Penilaian Kompetensi (terbahagi kepada dua (2) kompetensi).",20,20),t.setFont("helvetica","regular"),t.text("Bahagian 2a: Kompetensi Teras",20,30);try{const a=this.getCoreData();function o(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:85,align:"center",padding:0});return e}const r=o(["subteras","penerangan","skor_sendiri","skor_pengurus"]),n=[100];t.table(20,40,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,40,"*Tiada Kompetensi Teras"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.text("Bahagian 2b: Kompetensi Tingkahlaku",20,20);try{const a=this.getBehavData();function l(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:114,align:"center",padding:0});return e}const r=l(["tingkah_laku","skor_sendiri","skor_pengurus"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*Tiada Kompetensi Tingkahlaku"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Bahagian 3a: Latihan dan Pembangunan",20,20),t.setFont("helvetica","regular");try{const a=this.getTrainingData();function c(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=c(["tajuk_program","tarikh_mula","tarikh_tamat","jumlah_jam","skor_sendiri","skor_pengurus"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*Tiada Latihan dan Pembangunan"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}if("enable"===this.internal_industry_status){t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Bahagian 3b: Penglibatan Dalaman / Industri",20,20),t.setFont("helvetica","regular");try{const a=this.getOtherContrData();function u(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:65,align:"center",padding:0});return e}const r=u(["penglibatan_aktiviti","jawatan","tarikh","skor_sendiri"]),n=[100];0!==this.other_contribution.length?(t.table(7,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")):(t.text(25,30,"*Tiada Penglibatan Dalaman / Industri"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"))}catch{t.text(25,30,"*Tiada Penglibatan Dalaman / Industri"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")}}t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Bahagian 4: Komen Keseluruhan Prestasi - Sila lengkapkan pada akhir",20,20),t.text("Penilaian Prestasi.",20,27),t.setFont("helvetica","regular");const m=[["KOMEN ANGGOTA"],[{content:""+(null===this.myPerformance.comment_performance||null===this.myPerformance.comment_performance.comment?"-":this.myPerformance.comment_performance.comment),styles:{lineWidth:.5}}],[`Nama Anggota: ${void 0===this.myPerformance.appraisee.full_name?"-":this.myPerformance.appraisee.full_name}  |  Jawatan: ${void 0===this.myPerformance.appraisee.position?"-":this.myPerformance.appraisee.position}  |  Tarikh: ${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[0]}`],["KOMEN PENILAI"],[{content:""+(null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.comment),styles:{lineWidth:.5}}],[`Nama Penilai: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.full_name}  |  Jawatan: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.position}  |  Tarikh: ${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[0]}`],["KOMEN OLEH PENILAI PENYELIA/ KETUA JABATAN/ KETUA BAHAGIAN/ CEO/ COO/ PENGERUSI"],[{content:""+(null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.comment),styles:{lineWidth:.5}}],[`Nama Penyelia Penilai: ${null===this.hod_data?this.appraiser_hr_name:this.appraiser_hod_name}  |  Jawatan: ${null===this.hod_data?this.appraiser_hr_position:this.appraiser_hod_position}  |  Tarikh: ${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[0]}`]];t.autoTable({startY:35,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:3},body:m,theme:"plain",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Cadangan Keperluan Latihan Dan Pembangunan Individu",20,20),t.setFont("helvetica","regular");try{t.text(20,30,"Nama Penilai: "+(void 0===this.myPerformance.supervisor.full_name?"-":this.myPerformance.supervisor.full_name))}catch{t.text(20,30,"Nama Penilai: -")}try{t.text(20,35,"Jawatan: "+(void 0===this.myPerformance.supervisor.position?"-":this.myPerformance.supervisor.position))}catch{t.text(20,35,"Jawatan: -")}const h=[[""+(0===this.myPerformance.suggestions.length?"-":this.myPerformance.suggestions[0].suggestion)]];t.autoTable({startY:40,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:h,theme:"grid",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.save("My Performance.pdf")},afterFilter(t){this.filteredItemLengthBTable=t},getUserSet(t){const e=new URLSearchParams;null!==this.performanceID&&e.append("user_id",this.userDetails.user_id),this.$axios.get(this.$baseUrl+"/myperformances/getUserPerformanceSet",{params:e}).then(e=>{this.kra_id=e.data.data.jd_kra,this.getWeightage(t)})},getWeightage(t){const e=new URLSearchParams;e.append("subsidiary_id",this.userDetails.business_unit),e.append("role_id",this.userDetails.grade_set_id);const a=1===this.userDetails.grade_set_id||2===this.userDetails.grade_set_id,r=5===this.userDetails.grade_set_id||6===this.userDetails.grade_set_id;this.$axios.get(this.$baseUrl+"/weightage/get_role_percentage",{params:e}).then(e=>{const n=e.data.data;this.pemberat={KRA:r?n.overall_assesment+"%":n.key_result_area+"%",CoreCompetencies:n.core_competency+"%",BehaviouralCompetencies:n.behavioural_competency+"%",TrainingAndDevelopment:a?n.training+n.self_learning+"%":n.training+"%",OtherContributions:n.internal_industry_involement+"%",SummaryScore:"100%"},this.getScore(this.kra_id,t)})},getScore(t,e){this.$axios.get(`${this.$baseUrl}/myperformances/overall_performance?cycle_id=${e}`).then(e=>{this.overall_total2=e.data.data.overall_total,this.overall_total_manager=e.data.data.overall_total_manager,this.contributionPercent=e.data.data.hasContribution;const a="enable"===e.data.data.internal_industry_status;let r="",n="";0===t?(r=e.data.data.p1_job_description,n=e.data.data.p1_job_description_manager):(r=e.data.data.p1_kra,n=e.data.data.p1_kra_manager);const{p2_competency_core:i}=e.data.data,{p2_competency_behaviour:s}=e.data.data,{p3_training_development:o}=e.data.data,{p3_contribution:l}=e.data.data,{accumulative1:c}=e.data.data,{accumulative2:u}=e.data.data,{accumulative3:m}=e.data.data,{accumulative4:h}=e.data.data,{overall_total:d}=e.data.data,{p2_competency_core_manager:p}=e.data.data,{p2_competency_behaviour_manager:g}=e.data.data,{p3_training_development_manager:_}=e.data.data,{p3_contribution_manager:f}=e.data.data,{accumulative1_manager:b}=e.data.data,{accumulative2_manager:y}=e.data.data,{accumulative3_manager:v}=e.data.data,{accumulative4_manager:x}=e.data.data,{overall_total_manager:k}=e.data.data,C=[{keputusan:0===this.kra?""+this.$t("Overall Assessment"):""+this.$t("Key Result Area"),pemberat:this.pemberat.KRA,markah:r.toString(),markah_terkumpul:c.toString(),markah_manager:n.toString(),markah_terkumpul_manager:b.toString()},{keputusan:""+this.$t("Core Competencies"),pemberat:this.pemberat.CoreCompetencies,markah:i.toString(),markah_terkumpul:u.toString(),markah_manager:p.toString(),markah_terkumpul_manager:y.toString()},{keputusan:""+this.$t("Behavioural Competencies"),pemberat:this.pemberat.BehaviouralCompetencies,markah:s.toString(),markah_terkumpul:m.toString(),markah_manager:g.toString(),markah_terkumpul_manager:v.toString()},{keputusan:""+this.$t("Training and Development"),pemberat:this.pemberat.TrainingAndDevelopment,markah:o.toString(),markah_terkumpul:h.toString(),markah_manager:_.toString(),markah_terkumpul_manager:x.toString()},{keputusan:""+this.$t("Summary Score (%)"),pemberat:this.pemberat.SummaryScore,markah:d.toString(),markah_terkumpul:"",markah_manager:k.toString(),markah_terkumpul_manager:""}],S={keputusan:"Internal / Industrial Involvement",pemberat:this.pemberat.OtherContributions,markah:l,markah_terkumpul:d,markah_manager:f,markah_terkumpul_manager:x};this.table.scoreList=a?C.slice(0,4).concat(S).concat(C.slice(4)):C,this.contribution=l,this.show=!1,this.triggerGenerateReport()}).catch(()=>{this.show=!1})}}},H=z,K=(a("7192"),Object(I["a"])(H,U,Y,!1,null,"1dce270a",null)),V=K.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1"},[a("h5",{staticClass:"saj-title"},[t._v(" "+t._s(t.$t("Performance List"))+" ")])]),a("b-card-body",[a("b-row",{staticClass:"justify-content-end"},[a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Status"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.iniStatus,value:t.iniStatus.value},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Year"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.YearList,value:t.YearList},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Search"))+":")]),a("b-form-input",{attrs:{placeholder:t.$t("Search")+"..."},model:{value:t.searchname,callback:function(e){t.searchname=e},expression:"searchname"}})],1),a("b-row",{staticClass:"flex-row flex-column mr-1",attrs:{cols:"8"}},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"d-flex justify-content-center saj-button",attrs:{md:"4",variant:"primary",block:""},on:{click:function(e){return t.getDetails()}}},[a("span",{staticClass:"d-md-none d-lg-block"},[t._v(" "+t._s(t.$t("Search"))+" ")])])],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"mr-1 saj-buttom",attrs:{variant:"primary"},on:{click:function(e){return t.clearButton()}}},[t._v(" "+t._s(t.$t("Clear"))+" ")])],1)],1)],1)],1),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("div",{staticClass:"px-1"},[t._v(" aaaaaa "),a("b-table",{staticClass:"saj-subtitle mt-1 mb-1",attrs:{"sticky-header":"500px",responsive:"",items:t.cycleList,fields:t.fields,filter:t.searchInput,"per-page":t.perPage,bordered:"","show-empty":""},on:{filtered:t.afterFilter},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-subtitle "},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+"... ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(year)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(t._s(t.$t("REVIEW CYCLE"))+" "),a("span",[t._v(" ")]),t._v(t._s(t.$t(e.item.year))+" ")]),a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(" "+t._s(t.$t(e.item.user_position))+" ")])]}},{key:"cell(date_complete)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.date_complete?t.DateChanged(e.item.date_complete):"-")+" ")])]}},{key:"cell(self_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.self_score?e.item.self_score:"-")+" ")])]}},{key:"cell(manager_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.manager_score?e.item.manager_score:"-")+" ")])]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[a("b-badge",{staticStyle:{"border-radius":"20vh"},attrs:{variant:""+e.item.status==="Completed"?"success":"warning"}},[t._v(" "+t._s(t.$t(e.item.status))+" ")])],1)]}},{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center",staticStyle:{color:"#464e5f"}},[[a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("See Details"),expression:"$t('See Details')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon mr-1",attrs:{icon:"EyeIcon",size:"25"},on:{click:function(a){return t.nextPage(e.item.performance_id,e.item.status)}}}),a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("Download"),expression:"$t('Download')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon",attrs:{icon:"DownloadIcon",size:"25"},on:{click:function(a){t.downloadPerformancePDF(e.item),t.getUserSet(e.item.performance_id)}}})]],2)]}}])}),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.rows>t.perPage*t.currentPage?t.perPage*t.currentPage:t.rows)+" "+t._s(t.$t("from"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:""},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])],1)],1)},J=[],q={components:{BRow:d["a"],BCol:p["a"],BCard:s["a"],BCardHeader:g["a"],BCardBody:_["a"],BButton:f["a"],BFormInput:b["a"],BFormSelect:y["a"],BTable:v["a"],BPagination:x["a"],BBadge:k["a"],BPopover:o["a"],BOverlay:C["a"],BSpinner:S["a"]},directives:{"b-popover":l["a"],"b-tooltip":c["a"],Ripple:i["a"]},data(){return{show:!0,filteredItemLengthBTable:[],status:null,currentPage:1,perPage:5,rows:null,showEdit:null,approveList:[],isModalEVisible:!1,isModalAVisible:!1,performanceId:"",userId:null,cycleList:[],role:"",filter:"",searchname:"",searchInput:"",selectedStatus:null,selectedYear:"",empCategory:null,StatusJdKra:null,allStatus:[],statusList:[],YearList:[],selected:"",iniStatus:[],options:[{name:"View"},{name:"Print"}],items:[],fields:[{key:"year",label:"Review Cycle",thClass:"text-center"},{key:"date_complete",label:"Date Complete",thClass:"text-center"},{key:"self_score",label:"Self Score",thClass:"text-center"},{key:"manager_score",label:"Manager Score",thClass:"text-center"},{key:"status",label:"Status",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],myPerformance:null,training_development:[],other_contribution:[],active_competency_core_performance:[],active_competency_behaviour_performance:[],main_task:[],side_task:[],user_kra_jd_status:null,allUserData:null,kra_id:null,contribution:null,contributionPercent:0,contributionPercentTeam:0,scoreYearSelected:"a",scoreYearoptions:[{value:"a",text:"2022"},{value:"b",text:"2021"},{value:"c",text:"2020"}],overall_total2:"",overall_total_manager:"",table:{p1_kra:0,p1_job_description:0,p2_competency_core:0,p2_competency_behaviour:0,p3_training_development:0,p3_contribution:0,accumulative1:0,accumulative2:0,accumulative3:0,accumulative4:0,overall_total:0,p1_kra_manager:0,p1_job_description_manager:0,p2_competency_core_manager:0,p2_competency_behaviour_manager:0,p3_training_development_manager:0,p3_contribution_manager:0,accumulative1_manager:0,accumulative2_manager:0,accumulative3_manager:0,accumulative4_manager:0,overall_total_manager:0,bordered:!0,scoreList:[{keputusan:"Key Result Area",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Core Competencies",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Behavioural Competencies",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Training and Development",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Penglibatan Dalaman / Industri",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Summary Score (%)",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""}],fields:[{key:"keputusansss",label:""+this.$t("Result"),thClass:"text-center"},{key:"pemberattt",label:""+this.$t("Weightage"),thClass:"text-center",tdClass:"text-center"},{key:"markah",label:""+this.$t("Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul",label:""+this.$t("Cumulative Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_manager",label:""+this.$t("Manager Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul_manager",label:""+this.$t("Manager Cumulative Score"),thClass:"text-center",tdClass:"text-center"}]},scaleList:[],scale1_bm:[],scale2_bm:[],scale3_bm:[],scale4_bm:[],scale5_bm:[],scale6_bm:[],internal_industry_status:null,hod_data:null,appraiser_hod_name:null,appraiser_hod_position:null,appraiser_hr_name:null,appraiser_hr_position:null,pemberat:null}},computed:{...Object(u["c"])(["roles","userDetails"]),isEnglish(){return"en"===this.$i18n.locale}},watch:{"$i18n.locale":function(){this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})}),this.YearList=this.YearList.map(t=>""===t.value?{...t,text:this.$t("Choose Year")}:t)}},mounted(){this.getDetails(),this.getStatus(),this.getYear(),this.getCurrentUser(),this.scoreRating()},methods:{nextPage(t,e){const a=t;this.$router.push({name:"my-performance",params:{id:a,status:e}})},clearButton(){this.selectedStatus=null,this.selectedYear="",this.searchname="",this.searchInput="",this.getDetails()},DateChanged(t){const e=P()(t,"").format("D-MM-yyyy");return e},apiFilter(){this.getDetails()},getCurrentUser(){this.$axios.get(this.$baseUrl+"/users/current_user").then(t=>{this.allUserData=t.data.data})},getStatus(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceStatus").then(t=>{this.allStatus=t.data.data,this.allStatus.forEach(t=>{this.statusList.push(t.status)});const e=[{text:"Choose Status",value:null,disabled:!0}];"ma"===this.$i18n.locale?(this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})})):this.iniStatus=e.concat(this.statusList)})},getYear(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceYear").then(t=>{this.allYear=t.data.data,this.YearList=[{text:""+this.$t("Choose Year"),value:"",disabled:!0}],this.allYear.forEach(t=>{this.YearList.push(t.year)})})},getDetails(){this.show=!0,this.filteredItemLengthBTable=[];const t=new FormData;t.append("status",this.selectedStatus),t.append("year",this.selectedYear),this.searchInput=this.searchname,this.$axios.post(this.$baseUrl+"/myperformances/getUserPerformances",t).then(t=>{if(this.show=!1,0!==t.data.data.length){this.cycleList=t.data.data;for(let e=0;e<t.data.data.length;e+=1)this.performanceId=t.data.data[e].performance_id,this.userId=t.data.data[e].user_id,this.position=t.data.data[e].user_position,this.status=t.data.data[e].status}else this.$toast({component:w["a"],props:{title:this.$t("No record retrieved")+".",icon:"InfoIcon",variant:"success",titleColor:"#000",iconBg:"#53b7db"}},{position:"top-right",type:"info"}),this.cycleList=[];this.rows=""===this.searchInput?this.cycleList.length:this.filteredItemLengthBTable.length}).catch(t=>{this.show=!1,console.log("err",t)})},scoreRating(){this.$axios.get(this.$baseUrl+"/rating/getAll").then(t=>{this.scaleList=t.data.data,this.scale1_bm=this.scaleList[5].definition_my,this.scale2_bm=this.scaleList[4].definition_my,this.scale3_bm=this.scaleList[3].definition_my,this.scale4_bm=this.scaleList[2].definition_my,this.scale5_bm=this.scaleList[1].definition_my,this.scale6_bm=this.scaleList[0].definition_my})},downloadPerformancePDF(t){this.$axios.get(`${this.$baseUrl}/download_pdf_data?user_id=${t.user_id}&performance_id=${t.performance_id}`).then(t=>{this.myPerformance=t.data.data,this.user_kra_jd_status=this.myPerformance.user_kra_jd_status,this.main_task=this.myPerformance.main_task,this.side_task=this.myPerformance.side_task,this.active_competency_core_performance=this.myPerformance.active_competency_core_performance,this.active_competency_behaviour_performance=this.myPerformance.active_competency_behaviour_performance,this.training_development=this.myPerformance.training_development,this.other_contribution=this.myPerformance.other_contribution,this.internal_industry_status=this.myPerformance.internal_industry_status,this.hod_data=t.data.data.appraiser_sv_hod,null!==this.hod_data&&(this.appraiser_hod_name=this.hod_data.full_name,this.appraiser_hod_position=this.hod_data.position),this.appraiser_hr_name=t.data.data.appraiser_hod_hr.full_name,this.appraiser_hr_position=t.data.data.appraiser_hod_hr.position})},triggerGenerateReport(){this.showPerformance()},getImage(t){return new Promise(e=>{const a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){const t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight;const a=t.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height),t.getContext("2d").drawImage(this,0,0),e(t.toDataURL("image/jpeg"))},a.src=t})},getMainTask(){if(null!==this.main_task){const t=this.main_task.map(t=>({tugas_utama:null===t.main_task_field?"-":t.main_task_field,sasaran:null===t.target.toString()?"-":t.target.toString(),pencapaian_tahunan:null===t.yearly_achievement.toString()?"-":t.yearly_achievement.toString(),skor_sendiri:null===t.marks.toString()?"-":t.marks.toString(),skor_pengurus:null===t.manager_marks?"-":t.manager_marks.toString()}));return t}return null},getSideTask(){if(null!==this.side_task){const t=this.side_task.map(t=>({tugas_tambahan:null===t.side_task_summary.toString()?"-":t.side_task_summary.toString(),sasaran:null===t.target?"-":t.target,pencapaian_tahunan:null===t.yearly_achievement.toString()?"-":t.yearly_achievement.toString(),skor_sendiri:null===t.marks.toString()?"-":t.marks.toString(),skor_pengurus:null===t.manager_marks?"-":t.manager_marks.toString()}));return t}return null},getCoreData(){if(null!==this.active_competency_core_performance){const t=this.active_competency_core_performance.map(t=>({subteras:t.subcore.name.toString(),penerangan:t.subcore.description.toString(),skor_sendiri:t.self_score.toString(),skor_pengurus:t.manager_score.toString()}));return t}return null},getBehavData(){if(null!==this.active_competency_behaviour_performance){const t=this.active_competency_behaviour_performance.map(t=>({tingkah_laku:t.behaviour.name.toString(),skor_sendiri:t.self_score.toString(),skor_pengurus:t.manager_score.toString()}));return t}return null},getTrainingData(){if(null!==this.training_development){const t=this.training_development.map(t=>({tajuk_program:t.program_name.toString(),tarikh_mula:t.start_date.toString(),tarikh_tamat:t.end_date.toString(),jumlah_jam:t.hour.toString(),skor_sendiri:t.self_score.toString(),skor_pengurus:t.manager_score.toString()}));return t}return null},getOtherContrData(){if(null!==this.other_contribution){const t=this.other_contribution.map(t=>({penglibatan_aktiviti:t.involvement.toString(),jawatan:t.position_bahasa.toString(),tarikh:t.date.toString(),skor_sendiri:t.self_score.toString()}));return t}return null},async showPerformance(){const t=new D["default"]("landscape","mm","a4"),e=await this.getImage("https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Ranhill_Utilities_Berhad_Logo_%28Original%29.png/922px-Ranhill_Utilities_Berhad_Logo_%28Original%29.png?20211125033701");t.addImage(e,"png",20,10,18.8125,27.5,"a","FAST");const a=t.internal.pageSize.width||t.internal.pageSize.getWidth();t.setFont("helvetica","bold"),t.setFontSize(14),t.text(""+this.allUserData.subsidiary.toUpperCase(),150,12,null,null,"center"),t.setFontSize(12),t.text("BORANG PENILAIAN PRESTASI",150,19,null,null,"center"),t.setFontSize(11),t.text("Penyeliaan : Penyelia / Juruteknik / Juruteknik Kanan / Chargemen / Chargemen Kanan",150,25,null,null,"center"),t.text("JABATAN                :______________________________________",200,33,null,null,"right"),t.text("TEMPOH PENILAIAN  :____________________(bln/thn) hingga ____________________(bln/thn)",236,40,null,null,"right"),t.setFillColor(168,168,168),t.rect(10,50,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("MAKLUMAT ANGGOTA",150,55.5,"center"),t.setFillColor(168,168,168),t.rect(10,58,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Nombor Anggota",60,64,"center"),t.setFillColor(255,255,255),t.rect(110,58,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,66,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Nama Anggota",60,72,"center"),t.setFillColor(255,255,255),t.rect(110,66,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,74,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Jawatan",60,79.5,"center"),t.setFillColor(255,255,255),t.rect(110,74,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,82,100,8,"FD"),t.setFillColor(255,255,255),t.rect(110,82,a-120,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Gred Jawatan",60,87,"center"),t.setFillColor(168,168,168),t.rect(10,90,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Daerah",60,95.5,"center"),t.setFillColor(255,255,255),t.rect(110,90,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,103,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("ARAHAN AM",14,108.5,"left"),t.setTextColor("#000000"),t.text("Objektif:",12,116,"left"),t.setFont("helvetica","normal"),t.text("Objektif utama Penilaian Prestasi ini adalah mengukur prestasi anggota yang berkaitan dengan keperluan-keperluan tugas dan kemahiran-kemahiran dan pengetahuan yang khusus dan juga kelakuan yang berkaitan dengan tugas. Ia juga satu cara untuk menyediakan maklumbalas yang jelas kepada anggota mengenai prestasi mereka di dalam mencapai objektif-objektif khusus yang telah ditetapkan oleh Syarikat di dalam mencapai visi, misi dan balanced scorecard.   ",12,122,{align:"left",maxWidth:a-20}),t.setFont("helvetica","bold"),t.text("Arahan:",12,138,"left"),t.setFont("helvetica","normal"),t.text("       Sila gunakan Skala Penilaian di bawah untuk menilai Prestasi Anggota",12,143.5,"left"),t.setTextColor("#FFFFFF"),t.setFont("helvetica","bold"),t.setFillColor(168,168,168),t.rect(12,146,68,8,"FD"),t.text("SKALA",15,151.5,"left"),t.setFillColor(168,168,168),t.rect(80,146,a-90,8,"FD"),t.text("TAKRIFAN SKALA PENILAIAN PRESTASI",a-110,151.5,"center"),t.setFont("helvetica","normal"),t.setTextColor("#000"),t.setFillColor(168,168,168),t.rect(12,154,68,8,"FD"),t.text("6",45,159.5,"center"),t.setFillColor(255,255,255),t.rect(80,154,(a-90)/2,8,"FD"),t.text(""+this.scale6_bm,130,159.5,"center"),t.setFillColor(255,255,255),t.rect(183.5,154,(a-90)/2,16,"FD"),t.text("Melebihi Sasaran",235,164,"center"),t.setFillColor(168,168,168),t.rect(12,162,68,8,"FD"),t.text("5",45,167.5,"center"),t.setFillColor(255,255,255),t.rect(80,162,(a-90)/2,8,"FD"),t.text(""+this.scale5_bm,130,167.5,"center"),t.setFillColor(168,168,168),t.rect(12,170,68,8,"FD"),t.text("4",45,176,"center"),t.setFillColor(255,255,255),t.rect(80,170,(a-90)/2,8,"FD"),t.text(""+this.scale4_bm,130,176,"center"),t.setFillColor(255,255,255),t.rect(183.5,170,(a-90)/2,16,"FD"),t.text("Mencapai Sasaran",235,180,"center"),t.setFillColor(168,168,168),t.rect(12,178,68,8,"FD"),t.text("3",45,184,"center"),t.setFillColor(255,255,255),t.rect(80,178,(a-90)/2,8,"FD"),t.text(""+this.scale3_bm,130,184,"center"),t.setFillColor(168,168,168),t.rect(12,186,68,8,"FD"),t.text("2",45,192,"center"),t.setFillColor(255,255,255),t.rect(80,186,(a-90)/2,8,"FD"),t.text(""+this.scale2_bm,130,192,"center"),t.setFillColor(255,255,255),t.rect(183.5,186,(a-90)/2,16,"FD"),t.text("Bawah Sasaran",235,196,"center"),t.setFillColor(168,168,168),t.rect(12,194,68,8,"FD"),t.text("1",45,199.5,"center"),t.setFillColor(255,255,255),t.rect(80,194,(a-90)/2,8,"FD"),t.text(""+this.scale1_bm,130,199.5,"center"),t.setTextColor("#000");try{t.text(123,32,""+this.allUserData.department)}catch{t.text(123,32,"-")}try{t.text(115,39,""+(this.isEnglish?this.myPerformance.start_period:this.myPerformance.start_period_my))}catch{t.text(115,39,"-")}try{t.text(186,39,""+(this.isEnglish?this.myPerformance.end_period:this.myPerformance.end_period_my))}catch{t.text(186,39,"-")}try{t.text(130,63,""+this.userDetails.employee_number)}catch{t.text(130,63,"-")}try{t.text(130,71,""+this.userDetails.full_name)}catch{t.text(130,71,"-")}try{t.text(130,79,""+this.userDetails.position)}catch{t.text(130,79,"-")}try{t.text(130,87,""+this.allUserData.employee.grade)}catch{t.text(130,87,"-")}try{t.text(130,95,""+this.allUserData.branch)}catch{t.text(130,95,"-")}t.addPage("a4"),t.text("Borang ini terpakai kepada semua anggota Bukan Eksekutif. Borang ini terbahagi kepada empat (4) bahagian.",12,15,"left"),t.text("Bahagian 1 : Penilaian Tugas Keseluruhan. Dilengkapkan oleh anggota dan berbincang dengan Penilai.",12,25,{align:"left",maxWidth:a-20}),t.text("Bahagian 2 : A : Kompetensi Teras - Sila nilai ketiga-tiga kompetensi dan pilih dua (2) item utama bagi setiap kompetensi tersebut. Kompetensi ini adalah asas / nilai syarikat yang perlu dimiliki oleh semua anggota dalam semua jawatan.",12,35,{align:"left",maxWidth:a-20}),t.text("           : B : Kompetensi Tingkahlaku  - Sila nilai Kompetensi Tingkahlaku ini seperti yang dinyatakan di dalam Matriks Kompetensi Jawatan. Ia merupakan sifat / ciri yang diperlukan untuk menghasilkan prestasi kerja yang lebih baik.",12,45,{align:"left",maxWidth:a-20}),t.text("Bahagian 3A : Latihan dan Pembangunan",12,60,{align:"left",maxWidth:a-20}),t.text("             3B : Penglibatan Dalaman / Industri",16,65,{align:"left",maxWidth:a-20}),t.text("Nota : Sila nilai A dan B berdasarkan Matriks Kompetensi Jawatan.",12,70,"left"),t.text("Bahagian 4 : Komen Kesuluruhan Prestasi - Sila lengkapkan pada penghujung Penilaian Prestasi.",12,75,"left"),t.setFillColor(168,168,168),t.rect(10,85,110,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Untuk Kegunaan Sumber Manusia Sahaja",15,90,"left"),t.setFillColor(168,168,168),t.rect(10,93,60,8,"FD"),t.setTextColor("#000"),t.text("Tarikh Terima",15,98.5,"left"),t.setFillColor(255,255,255),t.rect(70,93,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,101,60,8,"FD"),t.setTextColor("#000"),t.text("Direkod Oleh",15,106.5,"left"),t.setFillColor(255,255,255),t.rect(70,101,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,109,60,8,"FD"),t.setTextColor("#000"),t.text("Tarikh Rekod",15,114.5,"left"),t.setFillColor(255,255,255),t.rect(70,109,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,117,60,8,"FD"),t.setTextColor("#000"),t.text("Komen",15,122.5,"left"),t.setFillColor(255,255,255),t.rect(70,117,50,8,"FD"),t.setFillColor(168,168,168);const r=this.table.fields.map(t=>t.label),n=this.table.scoreList.map(t=>[t.keputusan,t.pemberat,t.markah,t.markah_terkumpul,t.markah_manager,t.markah_terkumpul_manager]);if(T()(t,{startY:135,headStyles:{halign:"center",fillColor:[168,168,168]},columnStyles:{1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"}},head:[r],body:n}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST"),1===this.user_kra_jd_status){t.addPage("a4","l"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Butiran Bidang Kerja Utama",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("Bahagian 1: Bahagian ini mengandungi dua seksyen iaitu Tugas Utama dan Tugas Tambahan.",20,30),t.text("Tugas Utama:",20,45);try{const a=this.getMainTask();function i(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:68,align:"center",padding:0});return e}const r=i(["tugas_utama","sasaran","pencapaian_tahunan","skor_sendiri","skor_pengurus"]),n=[70];t.table(20,55,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,55,"*Tiada Tugas Utama"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.text("Ringkasan tugas tambahan yang dijalankan sepanjang tahun:",20,20);try{const a=this.getSideTask();function s(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:68,align:"center",padding:0});return e}const r=s(["tugas_tambahan","sasaran","pencapaian_tahunan","skor_sendiri","skor_pengurus"]),n=[70];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*Tiada Tugas Tambahan"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}}else{if(null!==this.myPerformance.job_description){t.addPage("a4","p"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Butiran Senarai Tugas",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("Bahagian 1: Penilaian Tugas Keseluruhan. Dilengkapkan oleh anggota dan berbincang",20,30),t.text("dengan Penilai.",20,35),t.text("Ringkasan tugasan yang dilaksanakan sepanjang tahun:",20,45),t.text("Skor Sendiri:",20,55);try{t.text(45,55,""+this.myPerformance.job_description.task_score)}catch{t.text(45,55,"-")}t.text("Skor Pengurus:",20,60);try{t.text(49,60,""+this.myPerformance.job_description.manager_score)}catch{t.text(49,60,"-")}const a=[[""+(null===this.myPerformance.job_description?"-":this.myPerformance.job_description.job_task)]];t.autoTable({startY:65,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:a,theme:"grid",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.addPage("a4","p"),t.text("Ringkasan tugasan tambahan yang dilaksanakan sepanjang tahun / tugas-tugas lain",20,30),t.text("yang diarahkan dari masa ke semasa:",20,35),t.text("Skor Sendiri:",20,45);try{t.text(45,45,""+this.myPerformance.job_description.subtask_score)}catch{t.text(45,45,"-")}t.text("Skor Pengurus:",20,50);try{t.text(49,50,""+this.myPerformance.job_description.manager_subscore)}catch{t.text(49,50,"-")}const r=[[""+(null===this.myPerformance.job_description?"-":this.myPerformance.job_description.job_subtask)]];t.autoTable({startY:55,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:r,theme:"grid",margin:{left:20,right:20}})}else t.addPage("a4","p"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Bahagian 1: Butiran Senarai Tugas",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("*Tiada Butiran Senarai Tugas",20,30);t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Bahagian 2: Penilaian Kompetensi (terbahagi kepada dua (2) kompetensi).",20,20),t.setFont("helvetica","regular"),t.text("Bahagian 2a: Kompetensi Teras",20,30);try{const a=this.getCoreData();function o(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:85,align:"center",padding:0});return e}const r=o(["subteras","penerangan","skor_sendiri","skor_pengurus"]),n=[100];t.table(20,40,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,40,"*Tiada Kompetensi Teras"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.text("Bahagian 2b: Kompetensi Tingkahlaku",20,20);try{const a=this.getBehavData();function l(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:114,align:"center",padding:0});return e}const r=l(["tingkah_laku","skor_sendiri","skor_pengurus"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*Tiada Kompetensi Tingkahlaku"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Bahagian 3a: Latihan dan Pembangunan",20,20),t.setFont("helvetica","regular");try{const a=this.getTrainingData();function c(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=c(["tajuk_program","tarikh_mula","tarikh_tamat","jumlah_jam","skor_sendiri","skor_pengurus"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*Tiada Latihan dan Pembangunan"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}if("enable"===this.internal_industry_status){t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Bahagian 3b: Penglibatan Dalaman / Industri",20,20),t.setFont("helvetica","regular");try{const a=this.getOtherContrData();function u(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:65,align:"center",padding:0});return e}const r=u(["penglibatan_aktiviti","jawatan","tarikh","skor_sendiri"]),n=[100];0!==this.other_contribution.length?(t.table(7,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")):(t.text(25,30,"*Tiada Penglibatan Dalaman / Industri"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"))}catch{t.text(25,30,"*Tiada Penglibatan Dalaman / Industri"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")}}t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Bahagian 4: Komen Keseluruhan Prestasi - Sila lengkapkan pada akhir",20,20),t.text("Penilaian Prestasi.",20,27),t.setFont("helvetica","regular");const m=[["KOMEN ANGGOTA"],[{content:""+(null===this.myPerformance.comment_performance||null===this.myPerformance.comment_performance.comment?"-":this.myPerformance.comment_performance.comment),styles:{lineWidth:.5}}],[`Nama Anggota: ${void 0===this.myPerformance.appraisee.full_name?"-":this.myPerformance.appraisee.full_name}  |  Jawatan: ${void 0===this.myPerformance.appraisee.position?"-":this.myPerformance.appraisee.position}  |  Tarikh: ${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[0]}`],["KOMEN PENILAI"],[{content:""+(null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.comment),styles:{lineWidth:.5}}],[`Nama Penilai: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.full_name}  |  Jawatan: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.position}  |  Tarikh: ${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[0]}`],["KOMEN OLEH PENILAI PENYELIA/ KETUA JABATAN/ KETUA BAHAGIAN/ CEO/ COO/ PENGERUSI"],[{content:""+(null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.comment),styles:{lineWidth:.5}}],[`Nama Penyelia Penilai: ${null===this.hod_data?this.appraiser_hr_name:this.appraiser_hod_name}  |  Jawatan: ${null===this.hod_data?this.appraiser_hr_position:this.appraiser_hod_position}  |  Tarikh: ${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[0]}`]];t.autoTable({startY:35,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:3},body:m,theme:"plain",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Cadangan Keperluan Latihan Dan Pembangunan Individu",20,20),t.setFont("helvetica","regular");try{t.text(20,30,"Nama Penilai: "+(void 0===this.myPerformance.supervisor.full_name?"-":this.myPerformance.supervisor.full_name))}catch{t.text(20,30,"Nama Penilai: -")}try{t.text(20,35,"Jawatan: "+(void 0===this.myPerformance.supervisor.position?"-":this.myPerformance.supervisor.position))}catch{t.text(20,35,"Jawatan: -")}const h=[[""+(0===this.myPerformance.suggestions.length?"-":this.myPerformance.suggestions[0].suggestion)]];t.autoTable({startY:40,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:h,theme:"grid",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.save("My Performance.pdf")},afterFilter(t){this.filteredItemLengthBTable=t},getUserSet(t){const e=new URLSearchParams;null!==this.performanceID&&e.append("user_id",this.userDetails.user_id),this.$axios.get(this.$baseUrl+"/myperformances/getUserPerformanceSet",{params:e}).then(e=>{this.kra_id=e.data.data.jd_kra,this.getWeightage(t)})},getWeightage(t){const e=new URLSearchParams;e.append("subsidiary_id",this.userDetails.business_unit),e.append("role_id",this.userDetails.grade_set_id);const a=1===this.userDetails.grade_set_id||2===this.userDetails.grade_set_id,r=5===this.userDetails.grade_set_id||6===this.userDetails.grade_set_id;this.$axios.get(this.$baseUrl+"/weightage/get_role_percentage",{params:e}).then(e=>{const n=e.data.data;this.pemberat={KRA:r?n.overall_assesment+"%":n.key_result_area+"%",CoreCompetencies:n.core_competency+"%",BehaviouralCompetencies:n.behavioural_competency+"%",TrainingAndDevelopment:a?n.training+n.self_learning+"%":n.training+"%",OtherContributions:n.internal_industry_involement+"%",SummaryScore:"100%"},this.getScore(this.kra_id,t)})},getScore(t,e){this.$axios.get(`${this.$baseUrl}/myperformances/overall_performance?cycle_id=${e}`).then(e=>{this.overall_total2=e.data.data.overall_total,this.overall_total_manager=e.data.data.overall_total_manager,this.contributionPercent=e.data.data.hasContribution;const a="enable"===e.data.data.internal_industry_status;let r="",n="";0===t?(r=e.data.data.p1_job_description,n=e.data.data.p1_job_description_manager):(r=e.data.data.p1_kra,n=e.data.data.p1_kra_manager);const{p2_competency_core:i}=e.data.data,{p2_competency_behaviour:s}=e.data.data,{p3_training_development:o}=e.data.data,{p3_contribution:l}=e.data.data,{accumulative1:c}=e.data.data,{accumulative2:u}=e.data.data,{accumulative3:m}=e.data.data,{accumulative4:h}=e.data.data,{overall_total:d}=e.data.data,{p2_competency_core_manager:p}=e.data.data,{p2_competency_behaviour_manager:g}=e.data.data,{p3_training_development_manager:_}=e.data.data,{p3_contribution_manager:f}=e.data.data,{accumulative1_manager:b}=e.data.data,{accumulative2_manager:y}=e.data.data,{accumulative3_manager:v}=e.data.data,{accumulative4_manager:x}=e.data.data,{overall_total_manager:k}=e.data.data,C=[{keputusan:0===this.kra?""+this.$t("Overall Assessment"):""+this.$t("Key Result Area"),pemberat:this.pemberat.KRA,markah:r.toString(),markah_terkumpul:c.toString(),markah_manager:n.toString(),markah_terkumpul_manager:b.toString()},{keputusan:""+this.$t("Core Competencies"),pemberat:this.pemberat.CoreCompetencies,markah:i.toString(),markah_terkumpul:u.toString(),markah_manager:p.toString(),markah_terkumpul_manager:y.toString()},{keputusan:""+this.$t("Behavioural Competencies"),pemberat:this.pemberat.BehaviouralCompetencies,markah:s.toString(),markah_terkumpul:m.toString(),markah_manager:g.toString(),markah_terkumpul_manager:v.toString()},{keputusan:""+this.$t("Training and Development"),pemberat:this.pemberat.TrainingAndDevelopment,markah:o.toString(),markah_terkumpul:h.toString(),markah_manager:_.toString(),markah_terkumpul_manager:x.toString()},{keputusan:""+this.$t("Summary Score (%)"),pemberat:this.pemberat.SummaryScore,markah:d.toString(),markah_terkumpul:"",markah_manager:k.toString(),markah_terkumpul_manager:""}],S={keputusan:"Internal / Industrial Involvement",pemberat:this.pemberat.OtherContributions,markah:l,markah_terkumpul:d,markah_manager:f,markah_terkumpul_manager:x};this.table.scoreList=a?C.slice(0,4).concat(S).concat(C.slice(4)):C,this.contribution=l,this.show=!1,this.triggerGenerateReport()}).catch(()=>{this.show=!1})}}},X=q,Q=(a("925b"),Object(I["a"])(X,G,J,!1,null,"8cce453a",null)),Z=Q.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"saj-title mr-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1"},[a("h5",{staticClass:"saj-title"},[t._v(" "+t._s(t.$t("Performance List"))+" ")])]),a("b-card-body",[a("b-row",{staticClass:"justify-content-end"},[a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Status"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.iniStatus,value:t.iniStatus.value},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2 pb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Year"))+":")]),a("b-form-select",{staticClass:"saj-text",attrs:{options:t.YearList,value:t.YearList},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1),a("b-col",{staticClass:"mb-md-0 mb-2",attrs:{cols:"12",md:"4"}},[a("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Search"))+":")]),a("b-form-input",{attrs:{placeholder:t.$t("Search")+"..."},model:{value:t.searchname,callback:function(e){t.searchname=e},expression:"searchname"}})],1),a("b-row",{staticClass:"flex-row flex-column mr-1",attrs:{cols:"8"}},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"d-flex justify-content-center saj-button",attrs:{md:"4",variant:"primary",block:""},on:{click:function(e){return t.getDetails()}}},[a("span",{staticClass:"d-md-none d-lg-block"},[t._v(" "+t._s(t.$t("Search"))+" ")])])],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"mr-1 saj-buttom",attrs:{variant:"primary"},on:{click:function(e){return t.clearButton()}}},[t._v(" "+t._s(t.$t("Clear"))+" ")])],1)],1)],1)],1),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("div",{staticClass:"px-1"},[a("b-table",{staticClass:"saj-subtitle mt-1 mb-1",attrs:{"sticky-header":"500px",responsive:"",items:t.cycleList,fields:t.fields,filter:t.searchInput,"per-page":t.perPage,bordered:"","show-empty":""},on:{filtered:t.afterFilter},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-subtitle "},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+"... ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(year)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(t._s(t.$t("REVIEW CYCLE"))+" "),a("span",[t._v(" ")]),t._v(t._s(t.$t(e.item.year))+" ")]),a("div",{staticClass:"saj-text d-flex justify-content-start",staticStyle:{color:"#464e5f"}},[t._v(" "+t._s(t.$t(e.item.user_position))+" ")])]}},{key:"cell(date_complete)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.date_complete?t.DateChanged(e.item.date_complete):"-")+" ")])]}},{key:"cell(self_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.self_score?e.item.self_score:"-")+" ")])]}},{key:"cell(manager_score)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(null!==e.item.manager_score?e.item.manager_score:"-")+" ")])]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[a("b-badge",{staticStyle:{"border-radius":"20vh"},attrs:{variant:""+e.item.status==="Completed"?"success":"warning"}},[t._v(" "+t._s(t.$t(e.item.status))+" ")])],1)]}},{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center",staticStyle:{color:"#464e5f"}},[[a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("See Details"),expression:"$t('See Details')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon mr-1",attrs:{icon:"EyeIcon",size:"25"},on:{click:function(a){return t.nextPage(e.item.performance_id,e.item.status)}}}),a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.$t("Download"),expression:"$t('Download')",modifiers:{hover:!0,bottom:!0}}],staticClass:"hoverIcon",attrs:{icon:"DownloadIcon",size:"25"},on:{click:function(a){t.downloadPerformancePDF(e.item),t.clear(),t.getUserSet(e.item.performance_id)}}})]],2)]}}])}),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.rows>t.perPage*t.currentPage?t.perPage*t.currentPage:t.rows)+" "+t._s(t.$t("from"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:""},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])],1)],1)},et=[],at={components:{BRow:d["a"],BCol:p["a"],BCard:s["a"],BCardHeader:g["a"],BCardBody:_["a"],BButton:f["a"],BFormInput:b["a"],BFormSelect:y["a"],BTable:v["a"],BPagination:x["a"],BBadge:k["a"],BPopover:o["a"],BOverlay:C["a"],BSpinner:S["a"]},directives:{"b-popover":l["a"],"b-tooltip":c["a"],Ripple:i["a"]},data(){return{show:!0,filteredItemLengthBTable:[],status:null,currentPage:1,perPage:5,rows:null,showEdit:null,approveList:[],isModalEVisible:!1,isModalAVisible:!1,performanceId:"",userId:null,cycleList:[],role:"",filter:"",searchname:"",searchInput:"",selectedStatus:null,selectedYear:"",empCategory:null,StatusJdKra:null,allStatus:[],statusList:[],YearList:[],selected:"",iniStatus:[],options:[{name:"View"},{name:"Print"}],items:[],fields:[{key:"year",label:"Review Cycle",thClass:"text-center"},{key:"date_complete",label:"Date Complete",thClass:"text-center"},{key:"self_score",label:"Self Score",thClass:"text-center"},{key:"manager_score",label:"Manager Score",thClass:"text-center"},{key:"status",label:"Status",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],myPerformance:null,training_development:[],other_contribution:[],active_competency_core_performance:[],active_competency_behaviour_performance:[],kra:[],kraList:[],allUserData:null,kra_id:null,contribution:null,contributionPercent:0,contributionPercentTeam:0,scoreYearSelected:"a",scoreYearoptions:[{value:"a",text:"2022"},{value:"b",text:"2021"},{value:"c",text:"2020"}],overall_total2:"",overall_total_manager:"",table:{p1_kra:0,p1_job_description:0,p2_competency_core:0,p2_competency_behaviour:0,p3_training_development:0,p3_contribution:0,accumulative1:0,accumulative2:0,accumulative3:0,accumulative4:0,overall_total:0,p1_kra_manager:0,p1_job_description_manager:0,p2_competency_core_manager:0,p2_competency_behaviour_manager:0,p3_training_development_manager:0,p3_contribution_manager:0,accumulative1_manager:0,accumulative2_manager:0,accumulative3_manager:0,accumulative4_manager:0,overall_total_manager:0,bordered:!0,scoreList:[{keputusan:"Key Result Area",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Core Competencies",pemberat:"%",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Behavioural Competencies",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Training and Development",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Internal / Industrial Involvement",pemberat:"",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""},{keputusan:"Summary Score (%)",markah:"",markah_terkumpul:"",markah_manager:"",markah_terkumpul_manager:""}],fields:[{key:"keputusansss",label:""+this.$t("Result"),thClass:"text-center"},{key:"pemberattt",label:""+this.$t("Weightage"),thClass:"text-center",tdClass:"text-center"},{key:"markah",label:""+this.$t("Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul",label:""+this.$t("Cumulative Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_manager",label:""+this.$t("Manager Score"),thClass:"text-center",tdClass:"text-center"},{key:"markah_terkumpul_manager",label:""+this.$t("Manager Cumulative Score"),thClass:"text-center",tdClass:"text-center"}]},scaleList:[],scale1_eng:[],scale2_eng:[],scale3_eng:[],scale4_eng:[],scale5_eng:[],scale6_eng:[],internal_industry_status:null,hod_data:null,appraiser_hod_name:null,appraiser_hod_position:null,appraiser_hr_name:null,appraiser_hr_position:null,pemberat:null}},computed:{...Object(u["c"])(["roles","userDetails"]),isEnglish(){return"en"===this.$i18n.locale}},watch:{"$i18n.locale":function(){this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})}),this.YearList=this.YearList.map(t=>""===t.value?{...t,text:this.$t("Choose Year")}:t)}},mounted(){this.getDetails(),this.getStatus(),this.getYear(),this.getCurrentUser(),this.scoreRating()},methods:{clear(){this.kraList=[]},nextPage(t,e){const a=t;this.$router.push({name:"my-performance",params:{id:a,status:e}})},clearButton(){this.selectedStatus=null,this.selectedYear="",this.searchname="",this.searchInput="",this.getDetails()},DateChanged(t){const e=P()(t,"").format("D-MM-yyyy");return e},apiFilter(){this.getDetails()},getCurrentUser(){this.$axios.get(this.$baseUrl+"/users/current_user").then(t=>{this.allUserData=t.data.data})},getStatus(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceStatus").then(t=>{this.allStatus=t.data.data,this.allStatus.forEach(t=>{this.statusList.push(t.status)});const e=[{text:"Choose Status",value:null,disabled:!0}];"ma"===this.$i18n.locale?(this.iniStatus=[],this.iniStatus.push({text:""+this.$t("Choose Status"),value:null,disabled:!0}),this.statusList.forEach(t=>{this.iniStatus.push({text:this.$i18n.t(t),value:t})})):this.iniStatus=e.concat(this.statusList)})},getYear(){this.$axios.get(this.$baseUrl+"/myperformances/getPerformanceYear").then(t=>{this.allYear=t.data.data,this.YearList=[{text:""+this.$t("Choose Year"),value:"",disabled:!0}],this.allYear.forEach(t=>{this.YearList.push(t.year)})})},getDetails(){this.show=!0,this.filteredItemLengthBTable=[];const t=new FormData;t.append("status",this.selectedStatus),t.append("year",this.selectedYear),this.searchInput=this.searchname,this.$axios.post(this.$baseUrl+"/myperformances/getUserPerformances",t).then(t=>{if(this.show=!1,0!==t.data.data.length){this.cycleList=t.data.data;for(let e=0;e<t.data.data.length;e+=1)this.performanceId=t.data.data[e].performance_id,this.userId=t.data.data[e].user_id,this.position=t.data.data[e].user_position,this.status=t.data.data[e].status}else this.$toast({component:w["a"],props:{title:this.$t("No record retrieved")+".",icon:"InfoIcon",variant:"success",titleColor:"#000",iconBg:"#53b7db"}},{position:"top-right",type:"info"}),this.cycleList=[];this.rows=""===this.searchInput?this.cycleList.length:this.filteredItemLengthBTable.length}).catch(t=>{this.show=!1,console.log("err",t)})},scoreRating(){this.$axios.get(this.$baseUrl+"/rating/getAll").then(t=>{this.scaleList=t.data.data,this.scale1_eng=this.scaleList[5].definition_en,this.scale2_eng=this.scaleList[4].definition_en,this.scale3_eng=this.scaleList[3].definition_en,this.scale4_eng=this.scaleList[2].definition_en,this.scale5_eng=this.scaleList[1].definition_en,this.scale6_eng=this.scaleList[0].definition_en})},downloadPerformancePDF(t){this.$axios.get(`${this.$baseUrl}/download_pdf_data?user_id=${t.user_id}&performance_id=${t.performance_id}`).then(t=>{this.myPerformance=t.data.data,this.kra=this.myPerformance.kra,this.active_competency_core_performance=this.myPerformance.active_competency_core_performance,this.active_competency_behaviour_performance=this.myPerformance.active_competency_behaviour_performance,this.training_development=this.myPerformance.training_development,this.other_contribution=this.myPerformance.other_contribution,this.internal_industry_status=this.myPerformance.internal_industry_status,this.hod_data=t.data.data.appraiser_sv_hod,null!==this.hod_data&&(this.appraiser_hod_name=this.hod_data.full_name,this.appraiser_hod_position=this.hod_data.position),this.appraiser_hr_name=t.data.data.appraiser_hod_hr.full_name,this.appraiser_hr_position=t.data.data.appraiser_hod_hr.position})},triggerGenerateReport(){this.showPerformance()},getImage(t){return new Promise(e=>{const a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){const t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight;const a=t.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height),t.getContext("2d").drawImage(this,0,0),e(t.toDataURL("image/jpeg"))},a.src=t})},getKra(){return null!==this.kra?(this.kra.forEach(t=>{t.key_result_area.forEach(e=>{this.kraList.push({objective_name:null===t.objective_name.toString()?"-":t.objective_name.toString(),kra_name:null===e.kra_name.toString()?"-":e.kra_name.toString(),measurement:null===e.measurement.toString()?"-":e.measurement.toString(),deadline:null===e.deadline?"-":e.deadline.toString(),self_score:null===e.rating?"-":e.rating.toString(),manager_score:null===e.manager_rating?"-":e.manager_rating.toString()})})}),this.kraList):null},getCoreData(){if(null!==this.active_competency_core_performance){const t=this.active_competency_core_performance.map(t=>({subcore:t.subcore.name_bi.toString(),description:t.subcore.description_bi.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getBehavData(){if(null!==this.active_competency_behaviour_performance){const t=this.active_competency_behaviour_performance.map(t=>({behavioural_competency:t.behaviour.name_bi.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getTrainingData(){if(null!==this.training_development){const t=this.training_development.map(t=>({program_title:t.program_name.toString(),start_date:t.start_date.toString(),end_date:t.end_date.toString(),hours:t.hour.toString(),self_score:t.self_score.toString(),manager_score:t.manager_score.toString()}));return t}return null},getOtherContrData(){if(null!==this.other_contribution){const t=this.other_contribution.map(t=>({involvement_activities:t.involvement.toString(),position:t.position_english.toString(),date:t.date.toString(),self_score:t.self_score.toString()}));return t}return null},async showPerformance(){const t=new D["default"]("landscape","mm","a4"),e=await this.getImage("https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Ranhill_Utilities_Berhad_Logo_%28Original%29.png/922px-Ranhill_Utilities_Berhad_Logo_%28Original%29.png?20211125033701");t.addImage(e,"png",20,10,18.8125,27.5,"a","FAST");const a=t.internal.pageSize.width||t.internal.pageSize.getWidth();t.setFont("helvetica","bold"),t.setFontSize(14),t.text(""+this.allUserData.subsidiary.toUpperCase(),150,12,null,null,"center"),t.setFontSize(12),t.text("PERFORMANCE APPRAISAL FORM",150,19,null,null,"center"),t.setFontSize(11),t.text("Top Management: CCO / CFO / COO / CEO",150,25,null,null,"center"),t.text("DEPARTMENT                :______________________________________",200,33,null,null,"right"),t.text("REVIEW PERIOD FOR  :____________________(mm/yy) to ____________________(mm/yy)",224,40,null,null,"right"),t.setFillColor(168,168,168),t.rect(10,50,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("EMPLOYEE INFORMATION",150,55.5,"center"),t.setFillColor(168,168,168),t.rect(10,58,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Employee No.",60,64,"center"),t.setFillColor(255,255,255),t.rect(110,58,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,66,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Employee Name",60,72,"center"),t.setFillColor(255,255,255),t.rect(110,66,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,74,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Position",60,79.5,"center"),t.setFillColor(255,255,255),t.rect(110,74,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,82,100,8,"FD"),t.setFillColor(255,255,255),t.rect(110,82,a-120,8,"FD"),t.setTextColor("#FFFFFF"),t.text("Job Grade",60,87,"center"),t.setFillColor(168,168,168),t.rect(10,90,100,8,"FD"),t.setTextColor("#FFFFFF"),t.text("District",60,95.5,"center"),t.setFillColor(255,255,255),t.rect(110,90,a-120,8,"FD"),t.setFillColor(168,168,168),t.rect(10,103,a-20,8,"FD"),t.setTextColor("#FFFFFF"),t.text("GENERAL INSTRUCTIONS",14,108.5,"left"),t.setTextColor("#000000"),t.text("Objectives:",12,116,"left"),t.setFont("helvetica","normal"),t.text("The objective of the Employee Performance Appraisal is to measure the employee's performance with regards to the job requirements and the specific knowledge, skills and behaviours that is required for their job.  It is also an avenue to provide clear feedback to the employee on their performance in achieving specific objectives as set by the Company in order to fulfill the company vision, mission and balanced scorecard.   ",12,122,{align:"left",maxWidth:a-20}),t.setFont("helvetica","bold"),t.text("Instruction:",12,138,"left"),t.setFont("helvetica","normal"),t.text("        Please use the following rating scale to evaluate the employee's performance",12,143.5,"left"),t.setTextColor("#FFFFFF"),t.setFont("helvetica","bold"),t.setFillColor(168,168,168),t.rect(12,146,68,8,"FD"),t.text("RATING SCALE",15,151.5,"left"),t.setFillColor(168,168,168),t.rect(80,146,a-90,8,"FD"),t.text("PERFORMANCE RATING SCALE DEFINITION",a-110,151.5,"center"),t.setFont("helvetica","normal"),t.setTextColor("#000"),t.setFillColor(168,168,168),t.rect(12,154,68,8,"FD"),t.text("6",45,159.5,"center"),t.setFillColor(255,255,255),t.rect(80,154,(a-90)/2,8,"FD"),t.text(""+this.scale6_eng,130,159.5,"center"),t.setFillColor(255,255,255),t.rect(183.5,154,(a-90)/2,16,"FD"),t.text("EXCEPTIONAL",235,164,"center"),t.setFillColor(168,168,168),t.rect(12,162,68,8,"FD"),t.text("5",45,167.5,"center"),t.setFillColor(255,255,255),t.rect(80,162,(a-90)/2,8,"FD"),t.text(""+this.scale5_eng,130,167.5,"center"),t.setFillColor(168,168,168),t.rect(12,170,68,8,"FD"),t.text("4",45,176,"center"),t.setFillColor(255,255,255),t.rect(80,170,(a-90)/2,8,"FD"),t.text(""+this.scale4_eng,130,176,"center"),t.setFillColor(255,255,255),t.rect(183.5,170,(a-90)/2,16,"FD"),t.text("COMPETENT",235,180,"center"),t.setFillColor(168,168,168),t.rect(12,178,68,8,"FD"),t.text("3",45,184,"center"),t.setFillColor(255,255,255),t.rect(80,178,(a-90)/2,8,"FD"),t.text(""+this.scale3_eng,130,184,"center"),t.setFillColor(168,168,168),t.rect(12,186,68,8,"FD"),t.text("2",45,192,"center"),t.setFillColor(255,255,255),t.rect(80,186,(a-90)/2,8,"FD"),t.text(""+this.scale2_eng,130,192,"center"),t.setFillColor(255,255,255),t.rect(183.5,186,(a-90)/2,16,"FD"),t.text("BELOW AVERAGE",235,196,"center"),t.setFillColor(168,168,168),t.rect(12,194,68,8,"FD"),t.text("1",45,199.5,"center"),t.setFillColor(255,255,255),t.rect(80,194,(a-90)/2,8,"FD"),t.text(""+this.scale1_eng,130,199.5,"center"),t.setTextColor("black");try{t.text(123,32,""+this.allUserData.department)}catch{t.text(123,32,"-")}try{t.text(113,39,""+(this.isEnglish?this.myPerformance.start_period:this.myPerformance.start_period_my))}catch{t.text(113,39,"-")}try{t.text(175,39,""+(this.isEnglish?this.myPerformance.end_period:this.myPerformance.end_period_my))}catch{t.text(175,39,"-")}try{t.text(130,63,""+this.userDetails.employee_number)}catch{t.text(130,63,"-")}try{t.text(130,71,""+this.userDetails.full_name)}catch{t.text(130,71,"-")}try{t.text(130,79,""+this.userDetails.position)}catch{t.text(130,79,"-")}try{t.text(130,87,""+this.allUserData.employee.grade)}catch{t.text(130,87,"-")}try{t.text(130,95,""+this.allUserData.branch)}catch{t.text(130,95,"-")}t.addPage("a4"),t.text("This Appraisal Form is applicable to all Top Managements. This form is divided into five (5) parts.",12,15,"left"),t.text("Part 1 : Key Performance Indicators (KPIs) / Key Result Area (KRA's) - Planning Phase: This part is to be completed by the employee and discussed with supervisor.",12,25,{align:"left",maxWidth:a-20}),t.text("Part 2 : A. Key Performance Indicators (KPIs) / Key Result Area (KRA's) - Performance Review",12,35,"left"),t.text("           : B. Key Performance Indicators (KPIs) / Key Result Area (KRA's) - Performance Result (Year End) ",12,40,{align:"left",maxWidth:a-20}),t.text("Part 3 : Competencies Assessment (Divided into two (2) competencies)",12,45,"left"),t.text("A. Core Competencies - Please Evaluate all three (3) competencies. Select only two (2) most important items of each Core Competencies.",16,50,{align:"left",maxWidth:a-20}),t.text("B. Behavioural Competencies - These are underlying characteristics to empower superior performance on the  job. Each employee must identify the Behavioural Competencies as specified in the Position Competency Matrix for the appraisor to evaluate.",16,55,{align:"left",maxWidth:a-20}),t.text("Note : All competencies for A and B must follow the Competency Position Matrix.",12,65,"left"),t.text("Part 4 : A. Training and Development - (i) List of Training            (ii) List of Self Learning Initiatives",12,70,"left"),t.text("           : B. Internal / Industrial Involvement",12,75,"left"),t.text("Part 5 : Overall Performance Comments - To be completed at the end of performance appraisal period.",12,80,"left"),t.setFillColor(168,168,168),t.rect(10,85,110,8,"FD"),t.setTextColor("#FFFFFF"),t.text("For Human Resources Department Use Only",15,90,"left"),t.setFillColor(168,168,168),t.rect(10,93,60,8,"FD"),t.setTextColor("#000"),t.text("Date Received",15,98.5,"left"),t.setFillColor(255,255,255),t.rect(70,93,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,101,60,8,"FD"),t.setTextColor("#000"),t.text("Recorded By",15,106.5,"left"),t.setFillColor(255,255,255),t.rect(70,101,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,109,60,8,"FD"),t.setTextColor("#000"),t.text("Date",15,114.5,"left"),t.setFillColor(255,255,255),t.rect(70,109,50,8,"FD"),t.setFillColor(168,168,168),t.setFillColor(168,168,168),t.rect(10,117,60,8,"FD"),t.setTextColor("#000"),t.text("Remarks",15,122.5,"left"),t.setFillColor(255,255,255),t.rect(70,117,50,8,"FD"),t.setFillColor(168,168,168);const r=this.table.fields.map(t=>t.label),n=this.table.scoreList.map(t=>[t.keputusan,t.pemberat,t.markah,t.markah_terkumpul,t.markah_manager,t.markah_terkumpul_manager]);T()(t,{startY:130,headStyles:{halign:"center",fillColor:[168,168,168]},columnStyles:{1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"}},head:[r],body:n}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST"),t.addPage("a4","l"),t.setFontSize(12),t.setTextColor(0,0,0),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Key Result Area Details",20,20),t.setFont("helvetica","regular"),t.setFontSize(12),t.text("Part 1: This part has three sections which are Performance Planning, Performance Review, and Year End Result.",20,30);try{const a=this.getKra();function i(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=i(["objective_name","kra_name","measurement","deadline","self_score","manager_score"]),n=[50];t.table(20,41,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,41,"*No Key Result Area"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Part 2: Competency Assessment (divided into two (2) competencies).",20,20),t.setFont("helvetica","regular"),t.text("Part 2a: Core Competencies",20,30);try{const a=this.getCoreData();function s(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:85,align:"center",padding:0});return e}const r=s(["subcore","description","self_score","manager_score"]),n=[100];t.table(20,40,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,40,"*No Core Competencies"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.text("Part 2b: Behavioral Competencies",20,20);try{const a=this.getBehavData();function o(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:114,align:"center",padding:0});return e}const r=o(["behavioural_competency","self_score","manager_score"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*No Behavioral Competencies"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}t.addPage("a4","l"),t.setFont("helvetica","bold"),t.text("Part 3a: Training and Development",20,20),t.setFont("helvetica","regular");try{const a=this.getTrainingData();function l(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:57,align:"center",padding:0});return e}const r=l(["program_title","start_date","end_date","hours","self_score","manager_score"]),n=[100];t.table(20,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}catch{t.text(25,30,"*No Training and Development"),t.addImage(e,"png",285,192,7.8125,13.5,"a","FAST")}if("enable"===this.internal_industry_status){t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Part 3b: Internal / Industrial Involvement",20,20),t.setFont("helvetica","regular");try{const a=this.getOtherContrData();function c(t){const e=[];for(let a=0;a<t.length;a+=1)e.push({id:t[a],name:t[a],prompt:t[a],width:65,align:"center",padding:0});return e}const r=c(["involvement_activities","position","date","self_score"]),n=[100];0!==this.other_contribution.length?(t.table(7,30,a,r,n,{autoSize:!0}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")):(t.text(25,30,"*No Internal / Industrial Involvement"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"))}catch{t.text(25,30,"*No Internal / Industrial Involvement"),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST")}}t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Part 4: Overall Performance Comments - Please complete at the end of the",20,20),t.text("Performance Appraisal.",20,27),t.setFont("helvetica","regular");const u=[["COMMENTS BY APPRAISEE"],[{content:""+(null===this.myPerformance.comment_performance||null===this.myPerformance.comment_performance.comment?"-":this.myPerformance.comment_performance.comment),styles:{lineWidth:.5}}],[`Full Name: ${void 0===this.myPerformance.appraisee.full_name?"-":this.myPerformance.appraisee.full_name}  |  Position: ${void 0===this.myPerformance.appraisee.position?"-":this.myPerformance.appraisee.position}  |  Date: ${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.comment_performance?"-":this.myPerformance.comment_performance.updated_at.split("T")[0].split("-")[0]}`],["COMMENTS BY APPRAISER"],[{content:""+(null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.comment),styles:{lineWidth:.5}}],[`Full Name: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.full_name}  |  Position: ${null===this.myPerformance.supervisor?"-":this.myPerformance.supervisor.position}  |  Date: ${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_comment?"-":this.myPerformance.appraiser_comment.updated_at.split("T")[0].split("-")[0]}`],["COMMENTS BY APPRAISER'S SUPERVISOR/ HEAD OF DEPARTMENT/ HEAD OF DIVISION/ CEO/ COO/ CHAIRMAN"],[{content:""+(null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.comment),styles:{lineWidth:.5}}],[`Full Name: ${null===this.hod_data?this.appraiser_hr_name:this.appraiser_hod_name}  |  Position: ${null===this.hod_data?this.appraiser_hr_position:this.appraiser_hod_position}  |  Date: ${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[2]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[1]}-${null===this.myPerformance.appraiser_sv_hod_comment?"-":this.myPerformance.appraiser_sv_hod_comment.updated_at.split("T")[0].split("-")[0]}`]];t.autoTable({startY:35,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:3},body:u,theme:"plain",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.addPage("a4","p"),t.setFont("helvetica","bold"),t.text("Proposed Individual Training and Development Needs",20,20),t.setFont("helvetica","regular");try{t.text(20,30,"Supervisor Name: "+(void 0===this.myPerformance.supervisor.full_name?"-":this.myPerformance.supervisor.full_name))}catch{t.text(20,30,"Supervisor Name: -")}try{t.text(20,35,"Position: "+(void 0===this.myPerformance.supervisor.position?"-":this.myPerformance.supervisor.position))}catch{t.text(20,35,"Position: -")}const m=[[""+(0===this.myPerformance.suggestions.length?"-":this.myPerformance.suggestions[0].suggestion)]];t.autoTable({startY:40,headStyles:{halign:"center",fillColor:"#000000"},styles:{cellPadding:5},body:m,theme:"grid",margin:{left:20,right:20}}),t.addImage(e,"png",199,281,7.8125,12.5,"a","FAST"),t.save("My Performance.pdf")},afterFilter(t){this.filteredItemLengthBTable=t},getUserSet(t){const e=new URLSearchParams;null!==this.performanceID&&e.append("user_id",this.userDetails.user_id),this.$axios.get(this.$baseUrl+"/myperformances/getUserPerformanceSet",{params:e}).then(e=>{this.kra_id=e.data.data.jd_kra,this.getWeightage(this.kra_id,t)})},getWeightage(t,e){const a=new URLSearchParams;a.append("subsidiary_id",this.userDetails.business_unit),a.append("role_id",this.userDetails.grade_set_id);const r=1===this.userDetails.grade_set_id||2===this.userDetails.grade_set_id;this.$axios.get(this.$baseUrl+"/weightage/get_role_percentage",{params:a}).then(a=>{const n=a.data.data;this.pemberat={KRA:0===t?n.overall_assesment+"%":n.key_result_area+"%",CoreCompetencies:n.core_competency+"%",BehaviouralCompetencies:n.behavioural_competency+"%",TrainingAndDevelopment:r?n.training+n.self_learning+"%":n.training+"%",OtherContributions:n.internal_industry_involement+"%",SummaryScore:"100%"},this.getScore(this.kra_id,e)})},getScore(t,e){this.$axios.get(`${this.$baseUrl}/myperformances/overall_performance?cycle_id=${e}`).then(e=>{this.overall_total2=e.data.data.overall_total,this.overall_total_manager=e.data.data.overall_total_manager,this.contributionPercent=e.data.data.hasContribution;const a="enable"===e.data.data.internal_industry_status;let r="",n="";0===t?(r=e.data.data.p1_job_description,n=e.data.data.p1_job_description_manager):(r=e.data.data.p1_kra,n=e.data.data.p1_kra_manager);const{p2_competency_core:i}=e.data.data,{p2_competency_behaviour:s}=e.data.data,{p3_training_development:o}=e.data.data,{p3_contribution:l}=e.data.data,{accumulative1:c}=e.data.data,{accumulative2:u}=e.data.data,{accumulative3:m}=e.data.data,{accumulative4:h}=e.data.data,{overall_total:d}=e.data.data,{p2_competency_core_manager:p}=e.data.data,{p2_competency_behaviour_manager:g}=e.data.data,{p3_training_development_manager:_}=e.data.data,{p3_contribution_manager:f}=e.data.data,{accumulative1_manager:b}=e.data.data,{accumulative2_manager:y}=e.data.data,{accumulative3_manager:v}=e.data.data,{accumulative4_manager:x}=e.data.data,{overall_total_manager:k}=e.data.data,C=[{keputusan:0===this.kra?""+this.$t("Overall Assessment"):""+this.$t("Key Result Area"),pemberat:this.pemberat.KRA,markah:r.toString(),markah_terkumpul:c.toString(),markah_manager:n.toString(),markah_terkumpul_manager:b.toString()},{keputusan:""+this.$t("Core Competencies"),pemberat:this.pemberat.CoreCompetencies,markah:i.toString(),markah_terkumpul:u.toString(),markah_manager:p.toString(),markah_terkumpul_manager:y.toString()},{keputusan:""+this.$t("Behavioural Competencies"),pemberat:this.pemberat.BehaviouralCompetencies,markah:s.toString(),markah_terkumpul:m.toString(),markah_manager:g.toString(),markah_terkumpul_manager:v.toString()},{keputusan:""+this.$t("Training and Development"),pemberat:this.pemberat.TrainingAndDevelopment,markah:o.toString(),markah_terkumpul:h.toString(),markah_manager:_.toString(),markah_terkumpul_manager:x.toString()},{keputusan:""+this.$t("Summary Score (%)"),pemberat:this.pemberat.SummaryScore,markah:d.toString(),markah_terkumpul:"",markah_manager:k.toString(),markah_terkumpul_manager:""}],S={keputusan:"Internal / Industrial Involvement",pemberat:this.pemberat.OtherContributions,markah:l,markah_terkumpul:d,markah_manager:f,markah_terkumpul_manager:x};this.table.scoreList=a?C.slice(0,4).concat(S).concat(C.slice(4)):C,this.contribution=l,this.show=!1,this.triggerGenerateReport()}).catch(()=>{this.show=!1})}}},rt=at,nt=(a("12a9"),Object(I["a"])(rt,tt,et,!1,null,"6ce60528",null)),it=nt.exports,st={components:{BCard:s["a"],BPopover:o["a"],topManagement:it,middleManagement:E,executive:M,nonExecSupport:V,nonExecSupervisory:Z},directives:{"b-popover":l["a"],"b-tooltip":c["a"],Ripple:i["a"]},data(){return{}},computed:{...Object(u["c"])(["userDetails"])},watch:{},mounted(){},methods:{afterFilter(t){this.filteredItemLengthBTable=t}}},ot=st,lt=(a("66d4"),Object(I["a"])(ot,r,n,!1,null,"d8e152ce",null));e["default"]=lt.exports},"8d38":function(t,e,a){"use strict";a("7ab8")},"925b":function(t,e,a){"use strict";a("7ab0")},"9b03":function(t,e,a){"use strict";a.d(e,"a",(function(){return b}));var r=a("2b0e"),n=a("c637"),i=a("0056"),s=a("a723"),o=a("9b76"),l=a("3a58"),c=a("8c18"),u=a("cf75"),m=a("01e3"),h=a("ce2a");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){g(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function g(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={top:0,left:0,bottom:0,right:0},f=Object(u["d"])({bgColor:Object(u["c"])(s["t"]),blur:Object(u["c"])(s["t"],"2px"),fixed:Object(u["c"])(s["g"],!1),noCenter:Object(u["c"])(s["g"],!1),noFade:Object(u["c"])(s["g"],!1),noWrap:Object(u["c"])(s["g"],!1),opacity:Object(u["c"])(s["o"],.85,(function(t){var e=Object(l["a"])(t,0);return e>=0&&e<=1})),overlayTag:Object(u["c"])(s["t"],"div"),rounded:Object(u["c"])(s["j"],!1),show:Object(u["c"])(s["g"],!1),spinnerSmall:Object(u["c"])(s["g"],!1),spinnerType:Object(u["c"])(s["t"],"border"),spinnerVariant:Object(u["c"])(s["t"]),variant:Object(u["c"])(s["t"],"light"),wrapTag:Object(u["c"])(s["t"],"div"),zIndex:Object(u["c"])(s["o"],10)},n["cb"]),b=r["default"].extend({name:n["cb"],mixins:[c["a"]],props:f,computed:{computedRounded:function(){var t=this.rounded;return!0===t||""===t?"rounded":t?"rounded-".concat(t):""},computedVariant:function(){var t=this.variant;return t&&!this.bgColor?"bg-".concat(t):""},slotScope:function(){return{spinnerType:this.spinnerType||null,spinnerVariant:this.spinnerVariant||null,spinnerSmall:this.spinnerSmall}}},methods:{defaultOverlayFn:function(t){var e=t.spinnerType,a=t.spinnerVariant,r=t.spinnerSmall;return this.$createElement(m["a"],{props:{type:e,variant:a,small:r}})}},render:function(t){var e=this,a=this.show,r=this.fixed,n=this.noFade,s=this.noWrap,l=this.slotScope,c=t();if(a){var u=t("div",{staticClass:"position-absolute",class:[this.computedVariant,this.computedRounded],style:p(p({},_),{},{opacity:this.opacity,backgroundColor:this.bgColor||null,backdropFilter:this.blur?"blur(".concat(this.blur,")"):null})}),m=t("div",{staticClass:"position-absolute",style:this.noCenter?p({},_):{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}},[this.normalizeSlot(o["H"],l)||this.defaultOverlayFn(l)]);c=t(this.overlayTag,{staticClass:"b-overlay",class:{"position-absolute":!s||s&&!r,"position-fixed":s&&r},style:p(p({},_),{},{zIndex:this.zIndex||10}),on:{click:function(t){return e.$emit(i["f"],t)}},key:"overlay"},[u,m])}return c=t(h["a"],{props:{noFade:n,appear:!0},on:{"after-enter":function(){return e.$emit(i["P"])},"after-leave":function(){return e.$emit(i["s"])}}},[c]),s?c:t(this.wrapTag,{staticClass:"b-overlay-wrap position-relative",attrs:{"aria-busy":a?"true":null}},s?[c]:[this.normalizeSlot(),c])}})},b9b9:function(t,e,a){"use strict";a.d(e,"a",(function(){return A}));var r=a("c637"),n=a("e863"),i=a("0056"),s=a("2326"),o=a("228e"),l=a("be29"),c=a("6c06"),u=a("7b1e"),m=a("3c21"),h=a("3a58"),d=a("d82f"),p=a("2632");function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var b="__BV_Popover__",y="click",v={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},x=/^html$/i,k=/^nofade$/i,C=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,S=/^(window|viewport|scrollParent)$/i,F=/^d\d+$/i,P=/^ds\d+$/i,w=/^dh\d+$/i,D=/^o-?\d+$/i,j=/^v-.+$/i,T=/\s+/,O=function(t,e){var a={title:void 0,content:void 0,trigger:"",placement:"right",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,disabled:!1,id:null,html:!1,delay:Object(o["b"])(r["eb"],"delay",50),boundary:String(Object(o["b"])(r["eb"],"boundary","scrollParent")),boundaryPadding:Object(h["b"])(Object(o["b"])(r["eb"],"boundaryPadding",5),0),variant:Object(o["b"])(r["eb"],"variant"),customClass:Object(o["b"])(r["eb"],"customClass")};if(Object(u["n"])(t.value)||Object(u["h"])(t.value)||Object(u["f"])(t.value)?a.content=t.value:Object(u["k"])(t.value)&&(a=_(_({},a),t.value)),t.arg&&(a.container="#".concat(t.arg)),Object(u["o"])(a.title)){var n=e.data||{};a.title=n.attrs&&!Object(u["p"])(n.attrs.title)?n.attrs.title:void 0}Object(u["k"])(a.delay)||(a.delay={show:Object(h["b"])(a.delay,0),hide:Object(h["b"])(a.delay,0)}),Object(d["h"])(t.modifiers).forEach((function(t){if(x.test(t))a.html=!0;else if(k.test(t))a.animation=!1;else if(C.test(t))a.placement=t;else if(S.test(t))t="scrollparent"===t?"scrollParent":t,a.boundary=t;else if(F.test(t)){var e=Object(h["b"])(t.slice(1),0);a.delay.show=e,a.delay.hide=e}else P.test(t)?a.delay.show=Object(h["b"])(t.slice(2),0):w.test(t)?a.delay.hide=Object(h["b"])(t.slice(2),0):D.test(t)?a.offset=Object(h["b"])(t.slice(1),0):j.test(t)&&(a.variant=t.slice(2)||null)}));var i={};return Object(s["b"])(a.trigger||"").filter(c["a"]).join(" ").trim().toLowerCase().split(T).forEach((function(t){v[t]&&(i[t]=!0)})),Object(d["h"])(t.modifiers).forEach((function(t){t=t.toLowerCase(),v[t]&&(i[t]=!0)})),a.trigger=Object(d["h"])(i).join(" "),"blur"===a.trigger&&(a.trigger="focus"),a.trigger||(a.trigger=y),a},$=function(t,e,a){if(n["f"]){var r=O(e,a);if(!t[b]){var s=a.context;t[b]=new p["a"]({parent:s,_scopeId:Object(l["a"])(s,void 0)}),t[b].__bv_prev_data__={},t[b].$on(i["O"],(function(){var e={};Object(u["f"])(r.title)&&(e.title=r.title(t)),Object(u["f"])(r.content)&&(e.content=r.content(t)),Object(d["h"])(e).length>0&&t[b].updateData(e)}))}var o={title:r.title,content:r.content,triggers:r.trigger,placement:r.placement,fallbackPlacement:r.fallbackPlacement,variant:r.variant,customClass:r.customClass,container:r.container,boundary:r.boundary,delay:r.delay,offset:r.offset,noFade:!r.animation,id:r.id,disabled:r.disabled,html:r.html},c=t[b].__bv_prev_data__;if(t[b].__bv_prev_data__=o,!Object(m["a"])(o,c)){var h={target:t};Object(d["h"])(o).forEach((function(e){o[e]!==c[e]&&(h[e]="title"!==e&&"content"!==e||!Object(u["f"])(o[e])?o[e]:o[e](t))})),t[b].updateData(h)}}},I=function(t){t[b]&&(t[b].$destroy(),t[b]=null),delete t[b]},A={bind:function(t,e,a){$(t,e,a)},componentUpdated:function(t,e,a){a.context.$nextTick((function(){$(t,e,a)}))},unbind:function(t){I(t)}}},f4fa:function(t,e,a){}}]);
//# sourceMappingURL=chunk-110f6eea.30cc268a.js.map