(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-127227ec"],{"19bd":function(e,t,s){"use strict";s("39ca")},"21a6":function(e,t,s){(function(s){var a,n,i;(function(s,r){n=[],a=r,i="function"===typeof a?a.apply(t,n):a,void 0===i||(e.exports=i)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){o(a.response,t,s)},a.onerror=function(){console.error("could not download file")},a.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s&&s.global===s?s:void 0,l=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,s){var l=r.URL||r.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?i(o):n(o.href)?a(e,t,s):i(o,o.target="_blank")):(o.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(o.href)}),4e4),setTimeout((function(){i(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,s,r){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),s);else if(n(e))a(e,s,r);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){i(l)}))}}:function(e,t,s,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,s);var i="application/octet-stream"===e.type,o=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o||l)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},u.readAsDataURL(e)}else{var d=r.URL||r.webkitURL,b=d.createObjectURL(e);n?n.location=b:location.href=b,n=null,setTimeout((function(){d.revokeObjectURL(b)}),4e4)}});r.saveAs=o.saveAs=o,e.exports=o}))}).call(this,s("c8ba"))},"26d2":function(e,t,s){"use strict";s.d(t,"a",(function(){return W}));var a,n=s("2b0e"),i=s("c637"),r=s("0056"),l=s("a723"),o=s("6d40"),c=s("906c"),u=s("7b1e"),d=s("a8c8"),b=s("3a58"),p=s("d82f"),f=s("cf75"),m=s("9bfa"),h=s("9b76"),g=s("2326"),v=s("6b77"),y=s("58f2"),O=s("fa73"),j=s("686b"),x=s("8c18"),C=s("aa59");function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function P(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){_(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var k=Object(y["a"])("value",{type:l["i"],defaultValue:null,validator:function(e){return!(!Object(u["g"])(e)&&Object(b["b"])(e,0)<1)||(Object(j["a"])('"v-model" value must be a number greater than "0"',i["db"]),!1)}}),S=k.mixin,$=k.props,E=k.prop,N=k.event,D=3,L=5,T=function(e,t){return Object(g["c"])(t,(function(t,s){return{number:e+s,classes:null}}))},R=function(e){var t=Object(b["b"])(e)||1;return t<1?L:t},B=function(e,t){var s=Object(b["b"])(e)||1;return s>t?t:s<1?1:s},F=function(e){if(e.keyCode===m["j"])return Object(v["f"])(e,{immediatePropagation:!0}),e.currentTarget.click(),!1},z=Object(f["d"])(Object(p["m"])(P(P({},$),{},{align:Object(f["c"])(l["t"],"left"),ariaLabel:Object(f["c"])(l["t"],"Pagination"),disabled:Object(f["c"])(l["g"],!1),ellipsisClass:Object(f["c"])(l["e"]),ellipsisText:Object(f["c"])(l["t"],"…"),firstClass:Object(f["c"])(l["e"]),firstNumber:Object(f["c"])(l["g"],!1),firstText:Object(f["c"])(l["t"],"«"),hideEllipsis:Object(f["c"])(l["g"],!1),hideGotoEndButtons:Object(f["c"])(l["g"],!1),labelFirstPage:Object(f["c"])(l["t"],"Go to first page"),labelLastPage:Object(f["c"])(l["t"],"Go to last page"),labelNextPage:Object(f["c"])(l["t"],"Go to next page"),labelPage:Object(f["c"])(l["l"],"Go to page"),labelPrevPage:Object(f["c"])(l["t"],"Go to previous page"),lastClass:Object(f["c"])(l["e"]),lastNumber:Object(f["c"])(l["g"],!1),lastText:Object(f["c"])(l["t"],"»"),limit:Object(f["c"])(l["o"],L,(function(e){return!(Object(b["b"])(e,0)<1)||(Object(j["a"])('Prop "limit" must be a number greater than "0"',i["db"]),!1)})),nextClass:Object(f["c"])(l["e"]),nextText:Object(f["c"])(l["t"],"›"),pageClass:Object(f["c"])(l["e"]),pills:Object(f["c"])(l["g"],!1),prevClass:Object(f["c"])(l["e"]),prevText:Object(f["c"])(l["t"],"‹"),size:Object(f["c"])(l["t"])})),"pagination"),Y=n["default"].extend({mixins:[S,x["a"]],props:z,data:function(){var e=Object(b["b"])(this[E],0);return e=e>0?e:-1,{currentPage:e,localNumberOfPages:1,localLimit:L}},computed:{btnSize:function(){var e=this.size;return e?"pagination-".concat(e):""},alignment:function(){var e=this.align;return"center"===e?"justify-content-center":"end"===e||"right"===e?"justify-content-end":"fill"===e?"text-center":""},styleClass:function(){return this.pills?"b-pagination-pills":""},computedCurrentPage:function(){return B(this.currentPage,this.localNumberOfPages)},paginationParams:function(){var e=this.localLimit,t=this.localNumberOfPages,s=this.computedCurrentPage,a=this.hideEllipsis,n=this.firstNumber,i=this.lastNumber,r=!1,l=!1,o=e,c=1;t<=e?o=t:s<e-1&&e>D?(a&&!i||(l=!0,o=e-(n?0:1)),o=Object(d["d"])(o,e)):t-s+2<e&&e>D?(a&&!n||(r=!0,o=e-(i?0:1)),c=t-o+1):(e>D&&(o=e-(a?0:2),r=!(a&&!n),l=!(a&&!i)),c=s-Object(d["b"])(o/2)),c<1?(c=1,r=!1):c>t-o&&(c=t-o+1,l=!1),r&&n&&c<4&&(o+=2,c=1,r=!1);var u=c+o-1;return l&&i&&u>t-3&&(o+=u===t-2?2:3,l=!1),e<=D&&(n&&1===c?o=Object(d["d"])(o+1,t,e+1):i&&t===c+o-1&&(c=Object(d["c"])(c-1,1),o=Object(d["d"])(t-c+1,t,e+1))),o=Object(d["d"])(o,t-c+1),{showFirstDots:r,showLastDots:l,numberOfLinks:o,startNumber:c}},pageList:function(){var e=this.paginationParams,t=e.numberOfLinks,s=e.startNumber,a=this.computedCurrentPage,n=T(s,t);if(n.length>3){var i=a-s,r="bv-d-xs-down-none";if(0===i)for(var l=3;l<n.length;l++)n[l].classes=r;else if(i===n.length-1)for(var o=0;o<n.length-3;o++)n[o].classes=r;else{for(var c=0;c<i-1;c++)n[c].classes=r;for(var u=n.length-1;u>i+1;u--)n[u].classes=r}}return n}},watch:(a={},_(a,E,(function(e,t){e!==t&&(this.currentPage=B(e,this.localNumberOfPages))})),_(a,"currentPage",(function(e,t){e!==t&&this.$emit(N,e>0?e:null)})),_(a,"limit",(function(e,t){e!==t&&(this.localLimit=R(e))})),a),created:function(){var e=this;this.localLimit=R(this.limit),this.$nextTick((function(){e.currentPage=e.currentPage>e.localNumberOfPages?e.localNumberOfPages:e.currentPage}))},methods:{handleKeyNav:function(e){var t=e.keyCode,s=e.shiftKey;this.isNav||(t===m["f"]||t===m["k"]?(Object(v["f"])(e,{propagation:!1}),s?this.focusFirst():this.focusPrev()):t!==m["i"]&&t!==m["a"]||(Object(v["f"])(e,{propagation:!1}),s?this.focusLast():this.focusNext()))},getButtons:function(){return Object(c["D"])("button.page-link, a.page-link",this.$el).filter((function(e){return Object(c["u"])(e)}))},focusCurrent:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().find((function(t){return Object(b["b"])(Object(c["h"])(t,"aria-posinset"),0)===e.computedCurrentPage}));Object(c["d"])(t)||e.focusFirst()}))},focusFirst:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().find((function(e){return!Object(c["r"])(e)}));Object(c["d"])(t)}))},focusLast:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().reverse().find((function(e){return!Object(c["r"])(e)}));Object(c["d"])(t)}))},focusPrev:function(){var e=this;this.$nextTick((function(){var t=e.getButtons(),s=t.indexOf(Object(c["g"])());s>0&&!Object(c["r"])(t[s-1])&&Object(c["d"])(t[s-1])}))},focusNext:function(){var e=this;this.$nextTick((function(){var t=e.getButtons(),s=t.indexOf(Object(c["g"])());s<t.length-1&&!Object(c["r"])(t[s+1])&&Object(c["d"])(t[s+1])}))}},render:function(e){var t=this,s=this.disabled,a=this.labelPage,n=this.ariaLabel,i=this.isNav,r=this.localNumberOfPages,l=this.computedCurrentPage,o=this.pageList.map((function(e){return e.number})),c=this.paginationParams,d=c.showFirstDots,b=c.showLastDots,p="fill"===this.align,m=[],g=function(e){return e===l},v=this.currentPage<1,y=function(a,n,l,o,c,u,d){var b=s||g(u)||v||a<1||a>r,f=a<1?1:a>r?r:a,m={disabled:b,page:f,index:f-1},h=t.normalizeSlot(l,m)||Object(O["g"])(o)||e(),y=e(b?"span":i?C["a"]:"button",{staticClass:"page-link",class:{"flex-grow-1":!i&&!b&&p},props:b||!i?{}:t.linkProps(a),attrs:{role:i?null:"menuitem",type:i||b?null:"button",tabindex:b||i?null:"-1","aria-label":n,"aria-controls":t.ariaControls||null,"aria-disabled":b?"true":null},on:b?{}:{"!click":function(e){t.onClick(e,a)},keydown:F}},[h]);return e("li",{key:d,staticClass:"page-item",class:[{disabled:b,"flex-fill":p,"d-flex":p&&!i&&!b},c],attrs:{role:i?null:"presentation","aria-hidden":b?"true":null}},[y])},j=function(s){return e("li",{staticClass:"page-item",class:["disabled","bv-d-xs-down-none",p?"flex-fill":"",t.ellipsisClass],attrs:{role:"separator"},key:"ellipsis-".concat(s?"last":"first")},[e("span",{staticClass:"page-link"},[t.normalizeSlot(h["j"])||Object(O["g"])(t.ellipsisText)||e()])])},x=function(n,l){var o=n.number,c=g(o)&&!v,d=s?null:c||v&&0===l?"0":"-1",b={role:i?null:"menuitemradio",type:i||s?null:"button","aria-disabled":s?"true":null,"aria-controls":t.ariaControls||null,"aria-label":Object(f["b"])(a)?a(o):"".concat(Object(u["f"])(a)?a():a," ").concat(o),"aria-checked":i?null:c?"true":"false","aria-current":i&&c?"page":null,"aria-posinset":i?null:o,"aria-setsize":i?null:r,tabindex:i?null:d},m=Object(O["g"])(t.makePage(o)),y={page:o,index:o-1,content:m,active:c,disabled:s},j=e(s?"span":i?C["a"]:"button",{props:s||!i?{}:t.linkProps(o),staticClass:"page-link",class:{"flex-grow-1":!i&&!s&&p},attrs:b,on:s?{}:{"!click":function(e){t.onClick(e,o)},keydown:F}},[t.normalizeSlot(h["I"],y)||m]);return e("li",{staticClass:"page-item",class:[{disabled:s,active:c,"flex-fill":p,"d-flex":p&&!i&&!s},n.classes,t.pageClass],attrs:{role:i?null:"presentation"},key:"page-".concat(o)},[j])},w=e();this.firstNumber||this.hideGotoEndButtons||(w=y(1,this.labelFirstPage,h["o"],this.firstText,this.firstClass,1,"pagination-goto-first")),m.push(w),m.push(y(l-1,this.labelPrevPage,h["L"],this.prevText,this.prevClass,1,"pagination-goto-prev")),m.push(this.firstNumber&&1!==o[0]?x({number:1},0):e()),m.push(d?j(!1):e()),this.pageList.forEach((function(e,s){var a=d&&t.firstNumber&&1!==o[0]?1:0;m.push(x(e,s+a))})),m.push(b?j(!0):e()),m.push(this.lastNumber&&o[o.length-1]!==r?x({number:r},-1):e()),m.push(y(l+1,this.labelNextPage,h["G"],this.nextText,this.nextClass,r,"pagination-goto-next"));var P=e();this.lastNumber||this.hideGotoEndButtons||(P=y(r,this.labelLastPage,h["y"],this.lastText,this.lastClass,r,"pagination-goto-last")),m.push(P);var _=e("ul",{staticClass:"pagination",class:["b-pagination",this.btnSize,this.alignment,this.styleClass],attrs:{role:i?null:"menubar","aria-disabled":s?"true":"false","aria-label":i?null:n||null},on:i?{}:{keydown:this.handleKeyNav},ref:"ul"},m);return i?e("nav",{attrs:{"aria-disabled":s?"true":null,"aria-hidden":s?"true":"false","aria-label":i&&n||null}},[_]):_}});function U(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function A(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?U(Object(s),!0).forEach((function(t){I(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var H=20,M=0,G=function(e){return Object(d["c"])(Object(b["b"])(e)||H,1)},V=function(e){return Object(d["c"])(Object(b["b"])(e)||M,0)},K=Object(f["d"])(Object(p["m"])(A(A({},z),{},{ariaControls:Object(f["c"])(l["t"]),perPage:Object(f["c"])(l["o"],H),totalRows:Object(f["c"])(l["o"],M)})),i["db"]),W=n["default"].extend({name:i["db"],mixins:[Y],props:K,computed:{numberOfPages:function(){var e=Object(d["a"])(V(this.totalRows)/G(this.perPage));return e<1?1:e},pageSizeNumberOfPages:function(){return{perPage:G(this.perPage),totalRows:V(this.totalRows),numberOfPages:this.numberOfPages}}},watch:{pageSizeNumberOfPages:function(e,t){Object(u["p"])(t)||(e.perPage!==t.perPage&&e.totalRows===t.totalRows||e.numberOfPages!==t.numberOfPages&&this.currentPage>e.numberOfPages)&&(this.currentPage=1),this.localNumberOfPages=e.numberOfPages}},created:function(){var e=this;this.localNumberOfPages=this.numberOfPages;var t=Object(b["b"])(this[E],0);t>0?this.currentPage=t:this.$nextTick((function(){e.currentPage=0}))},methods:{onClick:function(e,t){var s=this;if(t!==this.currentPage){var a=e.target,n=new o["a"](r["C"],{cancelable:!0,vueTarget:this,target:a});this.$emit(n.type,n,t),n.defaultPrevented||(this.currentPage=t,this.$emit(r["d"],this.currentPage),this.$nextTick((function(){Object(c["u"])(a)&&s.$el.contains(a)?Object(c["d"])(a):s.focusCurrent()})))}},makePage:function(e){return e},linkProps:function(){return{}}}})},"39ca":function(e,t,s){},"9b03":function(e,t,s){"use strict";s.d(t,"a",(function(){return v}));var a=s("2b0e"),n=s("c637"),i=s("0056"),r=s("a723"),l=s("9b76"),o=s("3a58"),c=s("8c18"),u=s("cf75"),d=s("01e3"),b=s("ce2a");function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){m(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var h={top:0,left:0,bottom:0,right:0},g=Object(u["d"])({bgColor:Object(u["c"])(r["t"]),blur:Object(u["c"])(r["t"],"2px"),fixed:Object(u["c"])(r["g"],!1),noCenter:Object(u["c"])(r["g"],!1),noFade:Object(u["c"])(r["g"],!1),noWrap:Object(u["c"])(r["g"],!1),opacity:Object(u["c"])(r["o"],.85,(function(e){var t=Object(o["a"])(e,0);return t>=0&&t<=1})),overlayTag:Object(u["c"])(r["t"],"div"),rounded:Object(u["c"])(r["j"],!1),show:Object(u["c"])(r["g"],!1),spinnerSmall:Object(u["c"])(r["g"],!1),spinnerType:Object(u["c"])(r["t"],"border"),spinnerVariant:Object(u["c"])(r["t"]),variant:Object(u["c"])(r["t"],"light"),wrapTag:Object(u["c"])(r["t"],"div"),zIndex:Object(u["c"])(r["o"],10)},n["cb"]),v=a["default"].extend({name:n["cb"],mixins:[c["a"]],props:g,computed:{computedRounded:function(){var e=this.rounded;return!0===e||""===e?"rounded":e?"rounded-".concat(e):""},computedVariant:function(){var e=this.variant;return e&&!this.bgColor?"bg-".concat(e):""},slotScope:function(){return{spinnerType:this.spinnerType||null,spinnerVariant:this.spinnerVariant||null,spinnerSmall:this.spinnerSmall}}},methods:{defaultOverlayFn:function(e){var t=e.spinnerType,s=e.spinnerVariant,a=e.spinnerSmall;return this.$createElement(d["a"],{props:{type:t,variant:s,small:a}})}},render:function(e){var t=this,s=this.show,a=this.fixed,n=this.noFade,r=this.noWrap,o=this.slotScope,c=e();if(s){var u=e("div",{staticClass:"position-absolute",class:[this.computedVariant,this.computedRounded],style:f(f({},h),{},{opacity:this.opacity,backgroundColor:this.bgColor||null,backdropFilter:this.blur?"blur(".concat(this.blur,")"):null})}),d=e("div",{staticClass:"position-absolute",style:this.noCenter?f({},h):{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}},[this.normalizeSlot(l["H"],o)||this.defaultOverlayFn(o)]);c=e(this.overlayTag,{staticClass:"b-overlay",class:{"position-absolute":!r||r&&!a,"position-fixed":r&&a},style:f(f({},h),{},{zIndex:this.zIndex||10}),on:{click:function(e){return t.$emit(i["f"],e)}},key:"overlay"},[u,d])}return c=e(b["a"],{props:{noFade:n,appear:!0},on:{"after-enter":function(){return t.$emit(i["P"])},"after-leave":function(){return t.$emit(i["s"])}}},[c]),r?c:e(this.wrapTag,{staticClass:"b-overlay-wrap position-relative",attrs:{"aria-busy":s?"true":null}},r?[c]:[this.normalizeSlot(),c])}})},d071:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"card",staticStyle:{background:"#ffffff","box-shadow":"0px 0px 41px 9px rgba(0, 0, 0, 0.11)","border-radius":"10px","overflow-y":"auto"}},[s("div",{staticClass:"pl-3 pr-3 pt-2"},[s("div",{},[s("span",{staticClass:"saj-title"},[e._v(" "+e._s(e.$t("Search Filter"))+" ")])]),s("div",{staticClass:"row align-items-end mb-1"},[s("b-col",{staticClass:"mb-md-0",attrs:{cols:"12",md:"4"}},[s("label",{staticClass:"saj-text"},[e._v(e._s(e.$t("Subsidiary"))+":")]),s("v-select",{staticClass:"saj-text select-size-sm",staticStyle:{background:"white"},attrs:{placeholder:e.$t("Choose Subsidiary"),options:e.subList,reduce:function(e){return e.value},label:"text",disabled:6===e.roles.selectedRole,clearable:e.roles.isAdmin},on:{input:function(t){e.getDepartment(e.selectedSub),null===e.selectedSub&&(e.selectedDepartment=null)}},model:{value:e.selectedSub,callback:function(t){e.selectedSub=t},expression:"selectedSub"}})],1),s("b-col",{staticClass:"mb-md-0 pt-1",attrs:{cols:"12",md:"4"}},[s("label",{staticClass:"saj-text"},[e._v(e._s(e.$t("Department"))+":")]),s("v-select",{staticClass:"saj-text select-size-sm",staticStyle:{background:"white"},attrs:{placeholder:e.$t("Choose Department"),options:e.departmentList,reduce:function(e){return e.value},label:"text",disabled:null===e.selectedSub},model:{value:e.selectedDepartment,callback:function(t){e.selectedDepartment=t},expression:"selectedDepartment"}})],1),s("b-col",{staticClass:"mb-md-0",attrs:{cols:"12",md:"4"}},[s("label",{staticClass:"saj-text"},[e._v(e._s(e.$t("Employee Number"))+":")]),s("b-form-input",{staticClass:"saj-text",attrs:{placeholder:e.$t("Search Employee Number"),size:"sm"},model:{value:e.selectedEmployeeNum,callback:function(t){e.selectedEmployeeNum=t},expression:"selectedEmployeeNum"}})],1),s("b-col",{staticClass:"mb-md-0",attrs:{cols:"12",md:"4"}},[s("label",{staticClass:"saj-text"},[e._v(e._s(e.$t("Employee Name"))+":")]),s("b-form-input",{staticClass:"saj-text",attrs:{placeholder:e.$t("Search Employee Name"),size:"sm"},model:{value:e.selectedEmployeeName,callback:function(t){e.selectedEmployeeName=t},expression:"selectedEmployeeName"}})],1),s("b-col",{staticClass:"mb-md-0 pt-1",attrs:{cols:"12",md:"4"}},[s("label",{staticClass:"saj-text"},[e._v(e._s(e.$t("Category"))+":")]),s("b-form-select",{staticClass:"saj-text",attrs:{id:"icons-search",options:e.categoryList,size:"sm"},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}})],1),s("b-col",{staticClass:"mb-md-0 pt-1",attrs:{cols:"12",md:"4"}},[s("label",{staticClass:"saj-text"},[e._v(e._s(e.$t("Year"))+":")]),s("Datepicker",{staticClass:"show-only-year d-flex",attrs:{id:"input-id",value:e.customFormatter,format:e.customFormatter,"minimum-view":"year",name:"datepicker","input-class":"year-custom"},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1),s("div",{staticClass:"d-flex mt-1"},[s("b-col",[s("b-button",{staticClass:"d-flex justify-content-center",attrs:{md:"4",variant:"primary"},on:{click:function(t){e.show=!0,e.getTraining()}}},[s("span",{staticClass:"saj-button d-md-none d-lg-block"},[e._v(" "+e._s(e.$t("Search"))+" ")])])],1),s("b-col",[s("b-button",{staticClass:"saj-title d-flex justify-content-center",attrs:{md:"4",variant:"primary",block:""},on:{click:function(t){return e.clearButton()}}},[s("span",{staticClass:"saj-button d-md-none d-lg-block"},[e._v(" "+e._s(e.$t("Clear")))])])],1)],1)],1),s("div",{},[s("b-overlay",{attrs:{show:e.show,rounded:"sm"},scopedSlots:e._u([{key:"overlay",fn:function(){return[s("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[s("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),s("p",[e._v(e._s(e.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[s("div",{staticClass:"row pl-1 pr-1"},[s("b-table",{staticClass:"styleTable mt-1",attrs:{items:e.trainingList,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,"label-size":"lg",bordered:"","show-empty":"",responsive:""},scopedSlots:e._u([{key:"head()",fn:function(t){return[s("span",{staticClass:"saj-text d-flex justify-content-center"},[e._v(e._s(e.$t(t.label)))])]}},{key:"cell(index)",fn:function(t){return[s("div",{staticClass:"saj-text d-flex justify-content-center"},[e._v(" "+e._s(1===e.currentPage?t.index+1:t.index+1+10*(e.currentPage-1))+" ")])]}},{key:"empty",fn:function(){return[s("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[e._v(" "+e._s(e.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(employee_number)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(t.item.employee_number)+" ")])]}},{key:"cell(name)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(t.item.name)+" ")])]}},{key:"cell(department)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(t.item.department)+" ")])]}},{key:"cell(program_title)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(t.item.program_title)+" ")])]}},{key:"cell(start_date)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(e.DateChanged(t.item.start_date))+" ")])]}},{key:"cell(end_date)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(e.DateChanged(t.item.end_date))+" ")])]}},{key:"cell(no_of_hours)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(t.item.no_of_hours)+" ")])]}},{key:"cell(self_score)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(t.item.self_score)+" ")])]}},{key:"cell(manager_score)",fn:function(t){return[s("div",{staticClass:"saj-text"},[e._v(" "+e._s(t.item.manager_score)+" ")])]}}])})],1),e.trainingList.length>0?s("b-row",[s("b-col",[s("span",{staticClass:"saj-text",attrs:{align:"start"}},[e._v(" "+e._s(e.$t("Showing"))+" "+e._s(e.rows>e.perPage*e.currentPage?e.perPage*e.currentPage:e.rows)+" "+e._s(e.$t("from"))+" "+e._s(e.rows)+" "+e._s(e.$t("entries"))+" ")])]),s("b-col",[s("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":e.rows,"per-page":e.perPage,pills:"","aria-controls":"employee-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1):e._e()],1),e.trainingList.length>0?s("div",{staticClass:" d-flex justify-content-center"},[s("b-button",{staticClass:"ml-1 saj-button mb-1",style:e.roles.isHOD||e.roles.isHR||e.roles.isAdmin?"":"display: none;",attrs:{variant:"primary",disabled:e.exporting},on:{click:function(t){return e.exportTraining()}}},[e.exporting?s("div",{staticClass:"d-flex"},[s("b-spinner",{staticClass:"mr-1",attrs:{small:"",type:"grow"}}),s("span",{staticClass:"saj-button d-md-none d-lg-block"},[e._v(" "+e._s(e.$t("Exporting"))+" ")])],1):s("div",[s("span",{staticClass:"saj-button d-md-none d-lg-block"},[e._v(" "+e._s(e.$t("Export Training Record"))+" ")])])])],1):e._e()],1)])])])},n=[],i=s("4797"),r=s("8361"),l=s("a15b"),o=s("29a1"),c=s("b28b"),u=s("1947"),d=s("9b03"),b=s("26d2"),p=s("01e3"),f=s("206d"),m=s("4a7a"),h=s.n(m),g=s("21a6"),v=s.n(g),y=s("fa33"),O=s("c1df"),j=s.n(O),x=s("2f62"),C={components:{BFormInput:i["a"],BFormSelect:r["a"],BRow:l["a"],BTable:o["a"],BCol:c["a"],BButton:u["a"],BOverlay:d["a"],BPagination:b["a"],BSpinner:p["a"],vSelect:h.a,Datepicker:y["a"]},data(){return{subList:[],selectedSub:null,departmentList:[],selectedDepartment:null,empIDList:[{value:null,text:""+this.$t("Choose Employee Id"),disabled:!0}],selectedEmployeeNum:null,selectedEmployeeName:null,transferID:null,trainingList:[],subsidiaryList:[],subsidiary_id:null,tabIndex:1,show:!0,currentPage:1,perPage:10,rows:null,fields:[{key:"index",label:"No.",thClass:"text-center"},{key:"employee_number",label:"Employee Number",thClass:"text-center",tdClass:"text-center"},{key:"name",label:"Name",thClass:"text-center"},{key:"department",label:"Department",thClass:"text-center"},{key:"program_title",label:"Program Title",thClass:"text-center",tdClass:"text-center"},{key:"start_date",label:"Start Date",thClass:"text-center",tdClass:"text-center"},{key:"end_date",label:"End Date",thClass:"text-center"},{key:"no_of_hours",label:"No. of Hours",thClass:"text-center",tdClass:"text-center"},{key:"self_score",label:"Self Score",tdClass:"text-center"},{key:"manager_score",label:"Manager Score",tdClass:"text-center"}],allbusinessUnit:null,alldepartment:null,exporting:!1,categoryList:[{text:""+this.$i18n.t("Choose Category"),value:null,disabled:!0},{text:""+this.$i18n.t("Executive"),value:"Executive"},{text:""+this.$i18n.t("Non Executive"),value:"Non Executive"}],selectedYear:new Date,selectedCategory:null}},computed:{...Object(x["c"])(["roles"])},watch:{"$i18n.locale":function(){this.categoryList=this.categoryList.map(e=>null===e.value?{...e,text:this.$t("Choose Category")}:e)}},mounted(){this.getSubsidiary(),this.roles.isHR?this.getSub_Id():this.getTraining()},methods:{DateChanged(e){const t=j()(e,"").format("D-MM-yyyy");return t},customFormatter(e){return this.scoreYearSelected=j()(e).format("YYYY"),this.scoreYearSelected},clearButton(){this.selectedYear=new Date,this.selectedCategory=null,this.selectedDepartment=null,this.selectedEmployeeNum=null,this.selectedEmployeeName=null,1===this.roles.selectedRole&&(this.selectedSub=null),this.show=!0,this.currentPage=1,this.getTraining()},getSub_Id(){this.$axios.get(this.$baseUrl+"/users/current_user").then(e=>{this.selectedSub=e.data.data.employee.business_unit,6===this.roles.selectedRole&&this.getDepartment(this.selectedSub),this.roles.isHR&&this.getTraining()})},getSubsidiary(){this.$axios.get(this.$baseUrl+"/subsidiary/getAll").then(e=>{this.allbusinessUnit=e.data.data.subsidiaries,this.subList=this.allbusinessUnit.map(e=>({text:e.subsidiary_name,value:e.id}))})},getDepartment(e){null!==e&&this.$axios.get(`${this.$baseUrl}/departments/get_departments_by_subsidiary?subsidiary_id=${e}`).then(e=>{const t=e.data;t.success?(this.alldepartment=e.data.data,this.departmentList=this.alldepartment.map(e=>({text:e.name,value:e.id})),this.selectedDepartment=null):(this.departmentList=[],this.selectedDepartment=null)})},getTraining(){const e=new URLSearchParams;null!==this.selectedSub&&e.append("subsidiary_id",this.selectedSub),null!==this.selectedDepartment&&e.append("department_id",this.selectedDepartment),null!==this.selectedEmployeeNum&&e.append("employee_number",this.selectedEmployeeNum),null!==this.selectedEmployeeName&&e.append("employee_name",this.selectedEmployeeName),null!==this.selectedCategory&&e.append("category",this.selectedCategory),null!==this.selectedYear&&e.append("year",j()(this.selectedYear).year()),this.$axios.get(this.$baseUrl+"/training_record/list?status=active",{params:e}).then(e=>{0!==e.data.data.length?this.trainingList=e.data.data:this.trainingList=[],this.show=!1,this.rows=this.trainingList.length}).catch(()=>{this.show=!1,this.trainingList=[],this.$toast({component:f["a"],props:{title:this.$t("No record retrieved")+".",icon:"InfoIcon",variant:"success",titleColor:"#000",iconBg:"#53b7db"}},{position:"top-right",type:"info"})})},exportTraining(){this.exporting=!0;const e=new FormData;null!==this.selectedSub&&e.append("subsidiary_id",this.selectedSub),null!==this.selectedDepartment&&e.append("department_id",this.selectedDepartment),null!==this.selectedEmployeeNum&&e.append("employee_number",this.selectedEmployeeNum),null!==this.selectedEmployeeName&&e.append("employee_name",this.selectedEmployeeName),null!==this.selectedCategory&&e.append("category",this.selectedCategory),null!==this.selectedYear&&e.append("year",j()(this.selectedYear).year()),e.append("status","active"),this.exporting=!1,this.$axios.post("http://staging-api.ranhill-pms.com/api/training_record/export",e,{responseType:"blob"}).then(e=>{console.log("file dw",e),200===e.status&&(this.exporting=!1,v.a.saveAs(e.data,"Training_Record.xlsx"),this.$toast({component:f["a"],props:{title:this.$t("Your Excel file will be downloaded soon")+"!",icon:"CheckCircleIcon",variant:"info",titleColor:"#000"}},{position:"top-right",type:"info"}))}).catch(()=>{})}}},w=C,P=(s("19bd"),s("2877")),_=Object(P["a"])(w,a,n,!1,null,"397a7f40",null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-127227ec.dcae92b0.js.map