{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/utils/stable-sort.js","webpack:///./src/views/pages/JD-KRA-Team/JD/part-1-global-kra.vue?e7d4","webpack:///./src/views/pages/JD-KRA-Team/JD/part-1-global-kra.vue?04be","webpack:///src/views/pages/JD-KRA-Team/JD/part-1-global-kra.vue","webpack:///./src/views/pages/JD-KRA-Team/JD/part-1-global-kra.vue?60aa","webpack:///./src/views/pages/JD-KRA-Team/JD/part-1-global-kra.vue"],"names":["stableSort","array","compareFn","map","a","index","sort","b","this","bind","e","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","$t","on","$event","$router","push","name","params","id","performance_id","tabIdx","scoreCards","length","_l","part","key","class","style","currentPart","color","opacity","_v","_s","title","staticStyle","isSubmitted","roles","selectedRole","division","section","isSupervisor","_e","isApproveSV","isApproveHOD","isApproveSHR","toggleInput","disableRating","saveResult","grade_set_id","total_score_exec","kra_weightage","total_score_top","addScoreBoard","scoreCard","indexScoreBoard","isReadOnly","removeSpecificScoreBoard","visible","ref","refInFor","model","value","callback","$$v","$set","expression","scopedSlots","_u","fn","errors","directives","rawName","domProps","target","composing","KRA","indexKRA","measurement","due","isFileKra","userId","achievement","tracking","yearachievement","file","resultfile","isFile","isFileResult","achievement_to_date","removeSpecificKRa","manager_rating","isEnglish","rating","definition_en","definition_my","addKRA","staticRenderFns","components","BCollapse","CompTarget","CompAchievement","BFormRating","ValidationProvider","ValidationObserver","BTabs","BTab","BButton","Ripple","props","type","default","data","isSuccessResult","subsidiary_id","required","allPart","approved_at","approved_sv_at","agree_at","approved_hod_at","submit_at","computed","isShowSelfScore","isShowAchievement","watch","handler","mounted","methods","getScoreRating","currentUser","weightage","checkSupervisorStatus","whichPartNow","method","url","then","catch","removeSpecificTarget","description","remark","self_score","generateRandomString","getPlanning","AllObjective","visibleScoreBoard","tempScoreCards","allKRA","getReview","visibleKra","getResult","result","checkIfNull","saveKra","toSubmitPlanning","objective_id","objective_name","kra","allKra","kra_id","kra_name","target_id","due_date","remarks","alert","saveReview","allScoreCardPromisesResult","component","icon","variant","titleColor","position","submitResult","submitKra","updateManagerScore","submitReview"],"mappings":"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CA,CACAlF,6BACAf,aAEA,CACAe,2BACAf,aAEA,CACAe,wBACAf,kBAGAiB,eACAP,aACAK,WACAf,SAEAG,cAEA4B,sBACAE,qBACAyC,UACAwB,eACAC,oBACAC,cACAC,qBACAC,eACA5E,gBACAD,gBACAD,eACAI,mBAGA2E,UACAC,kBACA,uBACA,wCAEAnE,aAEA,uBACA,wCAEAoE,oBACA,gCACA,wCAEAhC,YACA,mCAEA,yCAEAiC,OACAhG,aACAiG,WAEA,wBAiBAC,UACA,sBAEA,iCAGA,6BACA,2CACA,6CACA,qBAGAC,SACAC,iBACA,yDACA,2BAGAC,cACA,qBAEA,6FAEA,sDACA,2CAEA,oBAGAC,YACA,4BACAjH,6CACAA,sCAEA,gEAAAA,WAAA,SAEA,kDAIAkH,wBACA,mJACA,sDAMAtF,cACA,wCAEAuF,iCACA,aACA,aACA,mBACA,MACA,aACA,iBACA,MACA,iBACA,iBACA,MACA,WAGA5E,4BAEA,qBACAuD,8BAEA,SACAsB,cACAC,0CACAvB,QAGA,eACAwB,UACA,sBAGAC,UAEA,qCAGA/C,uBAEA,qBACAsB,wBAEA,SACAsB,cACAC,oCACAvB,QAGA,eACAwB,UACA,sBAEAC,WACA,kDAIAC,4BACA,gEAEA1C,UACA,SACA7E,qCACAuC,WACAiF,iBACAC,YACAC,aACAnE,QACAvD,wCACA2D,iBACAJ,YACAK,UAEAG,aACAC,cACAD,iBACAG,YAGA,sCAEAyD,uBACA,6DAEAzF,gBACA,SACAlC,4CACAuC,WACAxB,+BACAyG,iBACA/D,KACA,CACAzD,qCACAuC,WACAiF,iBACAC,YACAC,aACAnE,QACAvD,wCACAuC,WACAoB,iBACAJ,YACAK,UAEAG,aACAC,cACAD,iBACAG,cAMA,yBAEA0D,cACA,SACAT,aACAC,gEAGA,eACAC,SACA,eAEA,cACA,yBAEA,eACA,sCACA,WAGAQ,kBACA,0CACA,SACA,2BACAC,aAGA,0BAEAC,QACA/H,kBACAuC,UACAxB,+BACAyG,6BACA/D,SAGAuE,kBACA,iBACAD,cACA,CACA/H,YACAuC,WACAiF,uBACAC,iBACAlE,QACAvD,QACAuC,WACAoB,0BACAJ,gBACAK,eACAC,kBAEAE,aACAC,cACAD,iBACAG,UACAwD,uBAYA,uBAEA,sBAKAJ,eAIAW,YACA,SACAd,aACAC,8DAGA,eACAC,SAEA,eACA,cACA,yBAGA,eACA,sCACA,WAGAQ,kBACA,0CACA,SACA,2BACAC,aAGA,0BACAC,QACA/H,kBACAuC,UACAxB,+BACAyG,6BACA/D,SAGAuE,kBACA,sBACA,SACA,uCACA,iDACA,2BACAE,iCAIAH,cACA,CACA/H,YACAuC,UACAiF,uBACAC,iBACAC,sCACAnE,QACAvD,QACAuC,WACAoB,0BACAJ,gBACAK,gBAEAG,aACAC,oBACAD,0BACAG,UACAE,cACAE,iDAOA,uBAEA,uBAgBA6D,YACA,SACAhB,aACAC,8FAKA,eACAC,SACA,eAEA,cAEA,yBAEA,eACA,sCACA,WAqEA,OAlEAQ,kBACA,0CACA,SACA,2BACAC,aAGA,0BACAC,QACA/H,kBACAuC,UACAxB,+BACAyG,6BACA/D,SAGAuE,kBACA,iBACA,SAEA,uCACA,iDACA,2BACAE,iCAIAH,cACA,CACA/H,YACAuC,UACAkF,iBACAD,uBACAE,sCACAlD,gCACAjB,QACAvD,QACAuC,WACAoB,0BACAJ,gBACAK,gBAEAG,aACAC,oBACAD,0BACAE,8BACAE,gBACAE,qBAEA+D,QACApI,eAOA,kBAEA,yCACA,+CACA,mCACA,iDACA,qCAGA,yBACA,OAGA,gDAEA,sBAEA,MACA,OAGA,uBACA,uBAEA,qBAGA,MACA,OAGA,uBACA,uBAEA,qBAGA,MACA,OAGA,oDAEA,sBAEA,MACA,QACA,YAGA,sBAMAsH,cAKAe,eACA,4BACA,EAEA,IAEAC,UACA,sCACA,uCACA,8CACA,WACA,MACA,6BACA,qBACA,KAGA,gCACAC,QACAC,kBACAC,6BACAC,SAGA,cAEAC,cACA,iBACAJ,cACA,CACAK,YACAC,uBACAlD,gBACApC,QACAuF,iCACAnF,4CACAJ,kCACAwF,iCACAC,0CAOA,0BAEAnD,oBAGA,SACAsB,cACAC,wCACAvB,QAGA,eACAwB,UACA,4BAYA4B,8CAMAC,aACA,sCACA,uCACA,8CACA,UACA,EACA,4BACA,cAEAP,cACA,kBAAA5E,GAAA,GACA,OAAAR,GAAA,EAEA,eACAsC,+BACA,uBACAA,4CAEA,yCACAA,iDAEA,yCACAA,oDAEA,yDACAA,oEAEA,mCACAA,8CAEA,+BACAA,2CAEA,uDACAA,sDAEA,yCACAA,oDAEA,+BACAA,0CAEA,yBACAA,oCAEA,wBACAA,iCAGA,SACAsB,cACAC,2CACAvB,QAGA,eACAwB,SACA,eACA,UACA,oBAGA4B,uBAeAA,+CAMApH,aACA,4CACA,cAEA,wBACA,kBAAAkC,GAAA,EACA,eACA8B,+BACA,uBACAA,uCAEAA,yCACA,8CACAA,+CAEA,wCACAA,yCAEA,oCACAA,sCAEA,4DACAA,iDAEA,sDAEA,SACAsB,cACAC,sCACAvB,QAGA,sBACAwB,SACA,eAIA,OAHA,WACA,oBAEA,OAGA,YAEA8B,YACA,YACA,CACAC,iBACA1D,OACA3E,8DACAsI,uBACAC,kBACAC,oBAGA,CACAC,qBACA7D,iBAKA8D,eACA,SACAtC,cACAC,wCAGA,eACAC,SACA,eACA,UACA,oBAGA4B,mBAGA3B,eAIAoC,YACA,sCACA,uCACA,8CACA,WACA,MACA,SACAvC,cACAC,0CAGA,eACAC,UACA,sBAEAC,mBAKA2B,8CAkBAU,wBAGA,qBACA9D,gCACAA,wBACAA,6BACAA,iDAEA,SACAsB,cACAC,qDAEAvB,QAGA,eACAwB,UAEA,8BAiBAC,eAIAsC,eACA,sCACA,uCACA,8CACA,WACA,MACA,SACAzC,cACAC,wCAGA,eACAC,SACA,eACA,UACA,oBAGA4B,mBAGA3B,mBAKA2B,gDC3jDwY,I,wBCQpYG,EAAY,eACd,EACAnK,EACA6F,GACA,EACA,KACA,WACA,MAIa,aAAAsE,E","file":"js/chunk-198aeab0.c3ff175c.js","sourcesContent":["/*\n * Consistent and stable sort function across JavaScript platforms\n *\n * Inconsistent sorts can cause SSR problems between client and server\n * such as in <b-table> if sortBy is applied to the data on server side render.\n * Chrome and V8 native sorts are inconsistent/unstable\n *\n * This function uses native sort with fallback to index compare when the a and b\n * compare returns 0\n *\n * Algorithm based on:\n * https://stackoverflow.com/questions/1427608/fast-stable-sorting-algorithm-implementation-in-javascript/45422645#45422645\n *\n * @param {array} array to sort\n * @param {function} sort compare function\n * @return {array}\n */\nexport var stableSort = function stableSort(array, compareFn) {\n  // Using `.bind(compareFn)` on the wrapped anonymous function improves\n  // performance by avoiding the function call setup. We don't use an arrow\n  // function here as it binds `this` to the `stableSort` context rather than\n  // the `compareFn` context, which wouldn't give us the performance increase.\n  return array.map(function (a, index) {\n    return [index, a];\n  }).sort(function (a, b) {\n    return this(a[1], b[1]) || a[0] - b[0];\n  }.bind(compareFn)).map(function (e) {\n    return e[1];\n  });\n};","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./part-1-global-kra.vue?vue&type=style&index=0&id=1863e73e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{},[_c('b-tabs',{attrs:{\"card\":\"\"}},[_c('b-tab',{staticClass:\"p-0\",attrs:{\"title\":_vm.$t('Part') + ' ' + 1},on:{\"click\":function($event){return _vm.$router.push({ name: 'team-performance-individual', params: { id: _vm.id, performance_id: _vm.performance_id, tabIdx: 0 } })}}}),_c('b-tab',{staticClass:\"p-0\",attrs:{\"title\":_vm.$t('Part') + ' ' + 2},on:{\"click\":function($event){return _vm.$router.push({ name: 'team-performance-individual', params: { id: _vm.id, performance_id: _vm.performance_id, tabIdx: 1 } })}}}),_c('b-tab',{staticClass:\"p-0\",attrs:{\"title\":_vm.$t('Part') + ' ' + 3},on:{\"click\":function($event){return _vm.$router.push({ name: 'team-performance-individual', params: { id: _vm.id, performance_id: _vm.performance_id, tabIdx: 2 } })}}}),_c('b-tab',{staticClass:\"p-0\",attrs:{\"title\":_vm.$t('Part') + ' ' + 4},on:{\"click\":function($event){return _vm.$router.push({ name: 'team-performance-individual', params: { id: _vm.id, performance_id: _vm.performance_id, tabIdx: 3 } })}}}),_c('b-tab',{staticClass:\"p-0\",attrs:{\"title\":_vm.$t('Summary Score')},on:{\"click\":function($event){return _vm.$router.push({ name: 'team-performance-individual', params: { id: _vm.id, performance_id: _vm.performance_id, tabIdx: 4 } })}}})],1)],1),(_vm.scoreCards.length !== 0)?_c('div',{staticClass:\"d-flex\"},_vm._l((_vm.allPart),function(part){return _c('div',{key:part.id,staticClass:\"mt-1 mr-1 mb-2\",class:_vm.scoreCards.length === 0 ? '' : 'pointer',style:(part.id === _vm.currentPart.id? {'border-bottom': '3.5px solid #FF0000'} : {}),on:{\"click\":function($event){_vm.scoreCards.length === 0 ? '' :_vm.currentPart = part}}},[_c('span',{style:([_vm.scoreCards.length === 0 ? {color: 'black', opacity: '0.6'} : {color: 'black'}])},[_vm._v(_vm._s(_vm.$t(part.title)))])])}),0):_c('div'),(_vm.scoreCards.length !== 0)?_c('div',{staticClass:\"p-1 d-flex flex-column\",staticStyle:{\"background-color\":\"white\"}},[_c('div',{attrs:{\"name\":\"fade-custom\",\"mode\":\"out-in\"}},[(_vm.currentPart.id === 'setKra' )?_c('div',{key:\"currentPartSet\",staticClass:\"d-flex align-items-center justify-content-between\"},[_c('div',{staticClass:\"formTitle\"},[_vm._v(\" \"+_vm._s(_vm.$t (\"Performance Planning\"))+\" \")])]):(_vm.currentPart.id === 'review')?_c('div',{key:\"currentPartReview\",staticClass:\"d-flex align-items-center justify-content-between\"},[_c('span',{staticClass:\"formTitle\"},[_vm._v(\" \"+_vm._s(_vm.$t (\"Performance Review\"))+\" \")])]):(_vm.currentPart.id === 'evaluation')?_c('div',{key:\"currentPartEvaluation\",staticClass:\"d-flex align-items-center justify-content-between\"},[_c('span',{staticClass:\"formTitle\"},[_vm._v(\" \"+_vm._s(_vm.$t (\"Year End Result\"))+\" \")]),_c('div',{staticClass:\"d-flex align-items-center justify-content-center mr-1\"},[(_vm.isSubmitted || (_vm.roles.selectedRole === 1 || _vm.roles.selectedRole === 3 || ((_vm.roles.selectedRole === 4 && (!_vm.division || !_vm.section)) && _vm.isSupervisor === 1) || _vm.roles.selectedRole === 5))?_c('div',[_c('b-button',{staticClass:\"saj-button\",staticStyle:{\"margin-right\":\"10px\"},style:(_vm.isApproveSV || _vm.isApproveHOD || _vm.isApproveSHR ? '' : 'display: none;'),attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.toggleInput()}}},[_vm._v(\" \"+_vm._s(_vm.disableRating ? _vm.$t(\"Edit\") : _vm.$t(\"Cancel\"))+\" \")]),_c('button',{staticClass:\"btn btn-primary\",style:(_vm.isApproveSV || _vm.isApproveHOD || _vm.isApproveSHR ? '' : 'display: none;'),attrs:{\"disabled\":_vm.scoreCards.length === 0},on:{\"click\":function($event){_vm.saveResult(), _vm.toggleInput()}}},[_vm._v(\" \"+_vm._s(_vm.$t (\"Save Changes\"))+\" \")])],1):_vm._e()])]):_vm._e(),(_vm.currentPart.id === 'evaluation')?_c('div',{staticClass:\"row d-flex justify-content-end m-1\"},[(_vm.grade_set_id === 3 || _vm.grade_set_id === 4)?_c('div',{staticClass:\"saj-title mt-1 d-flex justify-content-end\"},[_vm._v(\" \"+_vm._s(_vm.total_score_exec)+\"/\"+_vm._s(_vm.kra_weightage)+\" % \")]):_vm._e(),(_vm.grade_set_id === 1 || _vm.grade_set_id === 2)?_c('div',{staticClass:\"saj-title mt-1 d-flex justify-content-end\"},[_vm._v(\" \"+_vm._s(_vm.total_score_top)+\"/\"+_vm._s(_vm.kra_weightage)+\" % \")]):_vm._e()]):_vm._e()]),(_vm.currentPart.id === 'setKra' && !_vm.isSubmitted && !_vm.roles.selectedRole === 4)?_c('div',{staticClass:\"saj-text btn btn-primary mt-1\",staticStyle:{\"width\":\"25rem\"},on:{\"click\":function($event){return _vm.addScoreBoard(\n      )}}},[_vm._v(\" \"+_vm._s(_vm.$t (\"Create Department's Objective / Initiative\"))+\" \")]):_vm._e(),_c('div',{staticClass:\"mt-2 d-flex flex-column px-1\"},[(_vm.scoreCards.length > 0)?[_c('transition-group',{attrs:{\"name\":\"list\",\"mode\":\"out-in\"}},[_vm._l((_vm.scoreCards),function(scoreCard,indexScoreBoard){return _c('div',{key:scoreCard.id,staticClass:\"mb-1\",staticStyle:{\"position\":\"relative\",\"background\":\"#F7F7FC\",\"border-radius\":\"6px\"}},[_c('transition',{attrs:{\"name\":\"zoom-out\",\"mode\":\"out-in\"}},[(!_vm.isReadOnly && !_vm.isSubmitted && _vm.isSubmitted)?[_c('div',{key:\"removeSpecificScoreBoard\",staticStyle:{\"position\":\"absolute\",\"right\":\"-5px\",\"top\":\"-10px\",\"background-color\":\"white\",\"border-radius\":\"50%\"},on:{\"click\":function($event){return _vm.removeSpecificScoreBoard(\n                    {\n                      id:scoreCard.id,\n                      index: indexScoreBoard\n                    }\n                  )}}},[_c('feather-icon',{staticStyle:{\"color\":\"#C5C7CD\"},attrs:{\"icon\":\"MinusCircleIcon\",\"size\":\"20\"}})],1)]:_vm._e()],2),_c('div',{staticClass:\"d-flex align-items-center justify-content-between pointer p-2\",on:{\"click\":function($event){scoreCard.visible = !scoreCard.visible}}},[_c('span',{staticClass:\"saj-text\"},[_vm._v(_vm._s(_vm.$t(scoreCard.title))+\" \"+_vm._s(indexScoreBoard + 1))]),_c('feather-icon',{staticStyle:{\"color\":\"#6E6B7B\"},attrs:{\"icon\":scoreCard.visible? 'ChevronUpIcon': 'ChevronDownIcon',\"size\":\"20\"}})],1),_c('validation-observer',{ref:\"validateKRA\",refInFor:true},[_c('b-collapse',{model:{value:(scoreCard.visible),callback:function ($$v) {_vm.$set(scoreCard, \"visible\", $$v)},expression:\"scoreCard.visible\"}},[_c('div',{staticClass:\"px-1\",class:_vm.isReadOnly ? 'pb-2' : ''},[_c('validation-provider',{attrs:{\"name\":_vm.$t('objective'),\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                  var errors = ref.errors;\nreturn [_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(scoreCard.description),expression:\"scoreCard.description\"}],staticClass:\"custom-formcontrol-none mt-1\",staticStyle:{\"width\":\"100%\",\"min-height\":\"70px\",\"background\":\"#EEEEEE\"},attrs:{\"disabled\":true},domProps:{\"value\":(scoreCard.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scoreCard, \"description\", $event.target.value)}}}),_vm._v(\" \"),_c('small',{staticClass:\"text-danger\",staticStyle:{\"font-family\":\"Poppins\"}},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('transition-group',{attrs:{\"name\":\"list\",\"mode\":\"out-in\"}},_vm._l((scoreCard.KRA),function(KRA,indexKRA){return _c('div',{key:KRA.id,staticClass:\"p-1 mb-1\",staticStyle:{\"background\":\"#efedee\",\"border-radius\":\"6px\"}},[_c('div',{staticClass:\"d-flex align-items-center justify-content-between pointer\",on:{\"click\":function($event){KRA.visible = !KRA.visible}}},[_c('span',{staticClass:\"saj-text\"},[_vm._v(\" \"+_vm._s(_vm.$t (\"KEY RESULT AREA\")))]),_c('feather-icon',{staticStyle:{\"color\":\"#6E6B7B\"},attrs:{\"icon\":KRA.visible? 'ChevronUpIcon': 'ChevronDownIcon',\"size\":\"20\"}})],1),_c('b-collapse',{model:{value:(KRA.visible),callback:function ($$v) {_vm.$set(KRA, \"visible\", $$v)},expression:\"KRA.visible\"}},[_c('div',{staticClass:\"mt-2 mb-2\"},[_c('div',{staticClass:\"d-flex  justify-content-between align-items-center\",staticStyle:{\"margin-bottom\":\"25px\"}},[_c('div',{staticClass:\"d-flex flex-column\",staticStyle:{\"width\":\"100%\"}},[_c('validation-provider',{attrs:{\"name\":_vm.$t('KRA'),\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                  var errors = ref.errors;\nreturn [_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(KRA.description),expression:\"KRA.description\"}],staticClass:\"custom-formcontrol-none\",staticStyle:{\"width\":\"100%\",\"min-height\":\"70px\"},attrs:{\"disabled\":true},domProps:{\"value\":(KRA.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(KRA, \"description\", $event.target.value)}}}),_vm._v(\" \"),_c('small',{staticClass:\"text-danger\",staticStyle:{\"font-family\":\"Poppins\"}},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('div',{staticClass:\"d-flex flex-column\"},[_c('transition-group',{attrs:{\"name\":\"list\",\"mode\":\"out-in\"}},[[_c('div',{key:((KRA.id) + \"+target\"),staticClass:\"mt-1 d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"p-1\",staticStyle:{\"background\":\"#f7f7fd\",\"border-radius\":\"6px\",\"width\":\"100%\"}},[[_c('div',[_c('comp-target',{attrs:{\"measurement\":KRA.target.measurement,\"target\":KRA.target.target,\"date\":KRA.target.due,\"current-part\":_vm.currentPart,\"is-file-kra\":KRA.target.isFileKra,\"is-submitted\":_vm.isSubmitted,\"is-user-i-d\":_vm.userId},on:{\"update:measurement\":function($event){return _vm.$set(KRA.target, \"measurement\", $event)},\"update:target\":function($event){return _vm.$set(KRA.target, \"target\", $event)},\"update:date\":function($event){return _vm.$set(KRA.target, \"due\", $event)}}})],1)]],2)])],(_vm.isShowAchievement)?[_c('div',{key:((KRA.id) + \"+achievement\"),staticClass:\"mt-1 d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"p-1\",staticStyle:{\"background\":\"#f7f7fd\",\"border-radius\":\"6px\",\"width\":\"100%\"}},[[_c('div',[_c('comp-achievement',{attrs:{\"tracking\":KRA.achievement.tracking,\"achievement\":KRA.achievement.achievement,\"yearachievement\":KRA.achievement.yearachievement,\"attachment\":KRA.achievement.file,\"resultattachment\":KRA.achievement.resultfile,\"is-file\":KRA.achievement.isFile,\"is-file-result\":KRA.achievement.isFileResult,\"achievement_to_date\":KRA.achievement.achievement_to_date,\"current-part\":_vm.currentPart,\"is-submitted\":_vm.isSubmitted,\"is-user-i-d\":_vm.userId},on:{\"update:tracking\":function($event){return _vm.$set(KRA.achievement, \"tracking\", $event)},\"update:achievement\":function($event){return _vm.$set(KRA.achievement, \"achievement\", $event)},\"update:yearachievement\":function($event){return _vm.$set(KRA.achievement, \"yearachievement\", $event)},\"update:attachment\":function($event){return _vm.$set(KRA.achievement, \"file\", $event)},\"update:resultattachment\":function($event){return _vm.$set(KRA.achievement, \"resultfile\", $event)},\"update:achievement_to_date\":function($event){return _vm.$set(KRA.achievement, \"achievement_to_date\", $event)}}})],1)]],2)])]:_vm._e()],2)],1)],1),_c('transition',{attrs:{\"name\":\"zoom-out\",\"mode\":\"out-in\"}},[(!_vm.isReadOnly && !_vm.isSubmitted && _vm.isSubmitted)?[_c('feather-icon',{staticClass:\"ml-2\",staticStyle:{\"color\":\"#C5C7CD\"},attrs:{\"icon\":\"MinusCircleIcon\",\"size\":\"35\"},on:{\"click\":function($event){return _vm.removeSpecificKRa(\n                                    {\n                                      id: scoreCard.id,\n                                      index: indexScoreBoard\n                                    },\n                                    {\n                                      id: KRA.id,\n                                      index: indexKRA\n                                    }\n                                  )}}})]:_vm._e()],2)],1),_c('hr',{staticStyle:{\"border-top\":\"1px solid #D5D5D5\",\"width\":\"100%\"}}),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"d-flex flex-column\",staticStyle:{\"width\":\"100%\"}},[_c('span',{staticClass:\"saj-text\"},[_vm._v(_vm._s(_vm.$t (\"Remarks\")))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(KRA.remark),expression:\"KRA.remark\"}],staticClass:\"custom-formcontrol-none\",staticStyle:{\"width\":\"100%\",\"min-height\":\"70px\",\"margin-bottom\":\"10px\",\"margin-top\":\"10px\"},attrs:{\"disabled\":true},domProps:{\"value\":(KRA.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(KRA, \"remark\", $event.target.value)}}})]),_c('transition',{attrs:{\"name\":\"zoom-out\",\"mode\":\"out-in\"}},[(_vm.isShowSelfScore)?[_c('div',{key:\"selfScore\",staticClass:\"ml-2 self-score\"},[_c('span',{staticStyle:{\"margin-left\":\"0.3rem\"}},[_vm._v(_vm._s(_vm.$t (\"Self Score\"))+\":\")]),_c('b-form-rating',{staticClass:\"pl-0\",staticStyle:{\"background\":\"none\"},attrs:{\"disabled\":true,\"no-border\":\"\",\"show-value\":\"\",\"inline\":\"\",\"color\":\"#DFB300\",\"stars\":\"6\",\"size\":\"lg\"},model:{value:(KRA.self_score),callback:function ($$v) {_vm.$set(KRA, \"self_score\", $$v)},expression:\"KRA.self_score\"}}),_c('br'),_c('span',{staticStyle:{\"margin-left\":\"0.3rem\"}},[_vm._v(_vm._s(_vm.$t (\"Manager Score\"))+\":\")]),_c('b-form-rating',{staticClass:\"pl-0\",staticStyle:{\"background\":\"none\"},attrs:{\"show-clear\":\"\",\"no-border\":\"\",\"show-value\":\"\",\"inline\":\"\",\"color\":\"#DFB300\",\"stars\":\"6\",\"size\":\"lg\",\"disabled\":_vm.disableRating},model:{value:(KRA.manager_rating),callback:function ($$v) {_vm.$set(KRA, \"manager_rating\", $$v)},expression:\"KRA.manager_rating\"}}),_c('span',{staticStyle:{\"margin-top\":\"5px\",\"margin-right\":\"15px\"}},[(KRA.manager_rating == '1')?_c('h5',[_vm._v(_vm._s(_vm.isEnglish ? _vm.rating[5].definition_en : _vm.rating[5].definition_my))]):(KRA.manager_rating == '2')?_c('h5',[_vm._v(_vm._s(_vm.isEnglish ? _vm.rating[4].definition_en : _vm.rating[4].definition_my))]):(KRA.manager_rating == '3')?_c('h5',[_vm._v(_vm._s(_vm.isEnglish ? _vm.rating[3].definition_en : _vm.rating[3].definition_my))]):(KRA.manager_rating == '4')?_c('h5',[_vm._v(_vm._s(_vm.isEnglish ? _vm.rating[2].definition_en : _vm.rating[2].definition_my))]):(KRA.manager_rating == '5')?_c('h5',[_vm._v(_vm._s(_vm.isEnglish ? _vm.rating[1].definition_en : _vm.rating[1].definition_my))]):(KRA.manager_rating == '6')?_c('h5',[_vm._v(_vm._s(_vm.isEnglish ? _vm.rating[0].definition_en : _vm.rating[0].definition_my))]):_vm._e()])],1)]:_vm._e()],2)],1)])])],1)}),0),_c('transition',{attrs:{\"name\":\"zoom-out\",\"mode\":\"out-in\"}},[(!_vm.isReadOnly && !_vm.isSubmitted && _vm.isSubmitted)?[_c('div',{key:\"addKRA\",staticClass:\"mt-1 d-flex align-items-center justify-content-center\"},[_c('feather-icon',{staticClass:\"ml-2 mb-1\",staticStyle:{\"color\":\"#C5C7CD\"},attrs:{\"icon\":\"PlusCircleIcon\",\"size\":\"35\"},on:{\"click\":function($event){return _vm.addKRA(\n                            {\n                              id: scoreCard.id,\n                              index: indexScoreBoard\n                            }\n                          )}}})],1)]:_vm._e()],2)],1)])],1)],1)}),(_vm.scoreCards.length === 0)?_c('div',{key:\"emptyScoreBoard\"},[_c('span',{staticStyle:{}},[_vm._v(\"No score card yet. Please create your score card. \")])]):_vm._e()],2)]:_vm._e()],2)]):_c('div',[_c('div',{staticClass:\"saj-text d-flex align-items-center justify-content-center bg-white p-1 m-0 mb-3 mt-3\",staticStyle:{\"font-style\":\"italic\",\"background\":\"#ffffff\",\"text-align\":\"center\",\"height\":\"500px\",\"border-radius\":\"20px\",\"box-shadow\":\"0px 0px 41px 9px rgba(0, 0, 0, 0.11)\"}},[_vm._v(\" \"+_vm._s(_vm.$t('Key Result Area are not available'))+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"\"\r\n  >\r\n    <div class=\"\">\r\n      <b-tabs\r\n        card\r\n      >\r\n        <b-tab\r\n          class=\"p-0\"\r\n          :title=\"$t('Part') + ' ' + 1\"\r\n          @click=\"$router.push({ name: 'team-performance-individual', params: { id, performance_id, tabIdx: 0 } })\"\r\n        />\r\n        <b-tab\r\n          class=\"p-0\"\r\n          :title=\"$t('Part') + ' ' + 2\"\r\n          @click=\"$router.push({ name: 'team-performance-individual', params: { id, performance_id, tabIdx: 1 } })\"\r\n        />\r\n        <b-tab\r\n          class=\"p-0\"\r\n          :title=\"$t('Part') + ' ' + 3\"\r\n          @click=\"$router.push({ name: 'team-performance-individual', params: { id, performance_id, tabIdx: 2 } })\"\r\n        />\r\n        <b-tab\r\n          class=\"p-0\"\r\n          :title=\"$t('Part') + ' ' + 4\"\r\n          @click=\"$router.push({ name: 'team-performance-individual', params: { id, performance_id, tabIdx: 3 } })\"\r\n        />\r\n        <b-tab\r\n          class=\"p-0\"\r\n          :title=\"$t('Summary Score')\"\r\n          @click=\"$router.push({ name: 'team-performance-individual', params: { id, performance_id, tabIdx: 4 } })\"\r\n        />\r\n      </b-tabs>\r\n    </div>\r\n    <!-- START ALL FORM's PART -->\r\n\r\n    <div\r\n      v-if=\"scoreCards.length !== 0\"\r\n      class=\"d-flex\"\r\n    >\r\n\r\n      <div\r\n        v-for=\"part in allPart\"\r\n        :key=\"part.id\"\r\n        :class=\"scoreCards.length === 0 ? '' : 'pointer'\"\r\n        class=\"mt-1 mr-1 mb-2\"\r\n        :style=\"part.id === currentPart.id? {'border-bottom': '3.5px solid #FF0000'} : {}\"\r\n        @click=\"scoreCards.length === 0 ? '' :currentPart = part\"\r\n      >\r\n        <span :style=\"[scoreCards.length === 0 ? {color: 'black', opacity: '0.6'} : {color: 'black'}]\">{{ $t(part.title) }}</span>\r\n      </div>\r\n\r\n    </div>\r\n    <div v-else>\r\n      <!-- No kra -->\r\n    </div>\r\n    <!-- END ALL FORM's PART -->\r\n    <!-- START FORM -->\r\n    <!-- {{ currentPart.id }} -->\r\n\r\n    <div\r\n      v-if=\"scoreCards.length !== 0\"\r\n      class=\"p-1 d-flex flex-column\"\r\n      style=\"background-color: white;\"\r\n    >\r\n\r\n      <div\r\n        name=\"fade-custom\"\r\n        mode=\"out-in\"\r\n      >\r\n        <div\r\n          v-if=\"currentPart.id === 'setKra' \"\r\n          key=\"currentPartSet\"\r\n          class=\"d-flex align-items-center justify-content-between\"\r\n        >\r\n          <div\r\n            class=\"formTitle\"\r\n          >\r\n            {{ $t (\"Performance Planning\") }}\r\n          </div>\r\n          <!-- <div\r\n            v-if=\"isSubmitted\"\r\n            class=\"d-flex align-items-center justify-content-center\"\r\n          >\r\n            <div\r\n              v-b-tooltip.hover.left=\"$t('Your planning has been submitted')\"\r\n              class=\"btn btn-success\"\r\n              style=\"pointer: default;\"\r\n            >\r\n              Submitted\r\n            </div>\r\n          </div> -->\r\n          <!-- <div\r\n            v-else\r\n            class=\"d-flex align-items-center justify-content-center\"\r\n          >\r\n            <button\r\n              class=\"btn btn-primary\"\r\n              :disabled=\"scoreCards.length === 0\"\r\n              @click=\"saveKra()\"\r\n            >\r\n              {{ $t (\"Save Changes\") }}\r\n            </button>\r\n            <button\r\n              class=\"ml-1 btn btn-primary\"\r\n              :disabled=\"scoreCards.length === 0\"\r\n              @click=\"submitKra()\"\r\n            >\r\n              {{ $t (\"Submit\") }}\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n        <div\r\n          v-else-if=\"currentPart.id === 'review'\"\r\n          key=\"currentPartReview\"\r\n          class=\"d-flex align-items-center justify-content-between\"\r\n        >\r\n          <span\r\n            class=\"formTitle\"\r\n          >\r\n            {{ $t (\"Performance Review\") }}\r\n          </span>\r\n          <!-- cycle_id:{{ performance_id }}\r\n          userID:{{ this.userId }}<br>\r\n          tab:{{ currentPart.id === 'review' ? 'review': 'not review tab' }} -->\r\n          <!-- <div\r\n            v-if=\"isSubmitted\"\r\n            class=\"d-flex align-items-center justify-content-center\"\r\n          >\r\n            <div\r\n              v-b-tooltip.hover.left=\"'Your review has been submitted'\"\r\n              class=\"btn btn-success\"\r\n              style=\"pointer: default;\"\r\n            >\r\n              Submitted\r\n            </div>\r\n          </div> -->\r\n          <!-- <div\r\n            v-else\r\n            class=\"d-flex align-items-center justify-content-center\"\r\n          >\r\n            <button\r\n              class=\"btn btn-primary\"\r\n              :disabled=\"scoreCards.length === 0\"\r\n              @click=\"saveReview()\"\r\n            >\r\n              {{ $t (\"Save Changes\") }}\r\n            </button>\r\n            <button\r\n              :disabled=\"scoreCards.length === 0\"\r\n              class=\"ml-1 btn btn-primary\"\r\n              @click=\"submitReview()\"\r\n            >\r\n              {{ $t (\"Submit\") }}\r\n            </button>\r\n          </div> -->\r\n\r\n        </div>\r\n        <div\r\n          v-else-if=\"currentPart.id === 'evaluation'\"\r\n          key=\"currentPartEvaluation\"\r\n          class=\"d-flex align-items-center justify-content-between\"\r\n        >\r\n          <span\r\n            class=\"formTitle\"\r\n          >\r\n            {{ $t (\"Year End Result\") }}\r\n          </span>\r\n          <!-- userID:{{ this.userId }}<br>\r\n          tab:{{ currentPart.id === 'evaluation' ? 'evaluation': 'not evaluation tab' }} -->\r\n\r\n          <!-- <div\r\n            v-if=\"isSubmitted && roles.selectedRole !== 4\"\r\n            class=\"d-flex align-items-center justify-content-center\"\r\n          >\r\n            <div\r\n              v-b-tooltip.hover.left=\"'Your result has been submitted'\"\r\n              class=\"btn btn-success\"\r\n              style=\"pointer: default;\"\r\n            >\r\n              Submitted\r\n            </div>\r\n          </div> -->\r\n          <div\r\n            class=\"d-flex align-items-center justify-content-center mr-1\"\r\n          >\r\n            <!-- {{ isApproveSHR }} {{ roles.selectedRole }} -->\r\n            <div v-if=\"isSubmitted || (roles.selectedRole === 1 || roles.selectedRole === 3 || ((roles.selectedRole === 4 && (!division || !section)) && isSupervisor === 1) || roles.selectedRole === 5)\">\r\n              <b-button\r\n                variant=\"primary\"\r\n                class=\"saj-button\"\r\n                style=\"margin-right: 10px\"\r\n                :style=\"isApproveSV || isApproveHOD || isApproveSHR ? '' : 'display: none;'\"\r\n                @click=\"toggleInput()\"\r\n              >\r\n                {{ disableRating ? $t(\"Edit\") : $t(\"Cancel\") }}\r\n              </b-button>\r\n              <button\r\n                class=\"btn btn-primary\"\r\n                :disabled=\"scoreCards.length === 0\"\r\n                :style=\"isApproveSV || isApproveHOD || isApproveSHR ? '' : 'display: none;'\"\r\n                @click=\"saveResult(), toggleInput()\"\r\n              >\r\n                {{ $t (\"Save Changes\") }}\r\n              </button>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-if=\"currentPart.id === 'evaluation'\"\r\n          class=\"row d-flex justify-content-end m-1\"\r\n        >\r\n          <!-- Middle Management(3) / Executive(4) -->\r\n          <div\r\n            v-if=\"grade_set_id === 3 || grade_set_id === 4\"\r\n            class=\"saj-title mt-1 d-flex justify-content-end\"\r\n          >\r\n            {{ total_score_exec }}/{{ kra_weightage }} %\r\n          </div>\r\n          <!-- Top Management(1) / Senior Management(2)  -->\r\n          <div\r\n            v-if=\"grade_set_id === 1 || grade_set_id === 2\"\r\n            class=\"saj-title mt-1 d-flex justify-content-end\"\r\n          >\r\n            {{ total_score_top }}/{{ kra_weightage }} %\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        v-if=\"currentPart.id === 'setKra' && !isSubmitted && !roles.selectedRole === 4\"\r\n        class=\"saj-text btn btn-primary mt-1\"\r\n        style=\"width: 25rem\"\r\n        @click=\"addScoreBoard(\r\n        )\"\r\n      >\r\n        {{ $t (\"Create Department's Objective / Initiative\") }}\r\n      </div>\r\n      <div class=\"mt-2 d-flex flex-column px-1\">\r\n        <template v-if=\"scoreCards.length > 0\">\r\n          <transition-group\r\n            name=\"list\"\r\n            mode=\"out-in\"\r\n          >\r\n            <div\r\n              v-for=\"(scoreCard, indexScoreBoard) in scoreCards\"\r\n              :key=\"scoreCard.id\"\r\n              style=\"position: relative;background: #F7F7FC;\r\n                  border-radius: 6px;\"\r\n              class=\"mb-1\"\r\n            >\r\n\r\n              <!-- #REMOVE SPECIFIC SCORE BOARD - START -->\r\n              <transition\r\n                name=\"zoom-out\"\r\n                mode=\"out-in\"\r\n              >\r\n\r\n                <template v-if=\"!isReadOnly && !isSubmitted && isSubmitted\">\r\n                  <div\r\n                    key=\"removeSpecificScoreBoard\"\r\n                    style=\"position: absolute; right: -5px; top: -10px; background-color: white; border-radius: 50%;\"\r\n                    @click=\"removeSpecificScoreBoard(\r\n                      {\r\n                        id:scoreCard.id,\r\n                        index: indexScoreBoard\r\n                      }\r\n                    )\"\r\n                  >\r\n                    <feather-icon\r\n                      icon=\"MinusCircleIcon\"\r\n                      class=\"\"\r\n                      style=\"color: #C5C7CD\"\r\n                      size=\"20\"\r\n                    />\r\n                  </div>\r\n                </template>\r\n\r\n              </transition>\r\n              <!-- #REMOVE SPECIFIC SCORE BOARD - START -->\r\n              <!-- #SCORE CARD PANEL - START -->\r\n              <div\r\n                class=\"d-flex align-items-center justify-content-between pointer p-2\"\r\n                @click=\"scoreCard.visible = !scoreCard.visible\"\r\n              >\r\n                <span class=\"saj-text\">{{ $t(scoreCard.title) }} {{ indexScoreBoard + 1 }}</span>\r\n                <feather-icon\r\n                  :icon=\"scoreCard.visible? 'ChevronUpIcon': 'ChevronDownIcon'\"\r\n                  size=\"20\"\r\n                  style=\"color: #6E6B7B;\"\r\n                />\r\n              </div>\r\n              <!-- #SCORE CARD PANEL - END -->\r\n              <!-- #SCORE CARD COLLAPSE PANEL - START -->\r\n              <validation-observer ref=\"validateKRA\">\r\n                <b-collapse\r\n                  v-model=\"scoreCard.visible\"\r\n                >\r\n\r\n                  <div\r\n                    class=\"px-1\"\r\n                    :class=\"isReadOnly ? 'pb-2' : ''\"\r\n                  >\r\n                    <validation-provider\r\n                      #default=\"{ errors }\"\r\n                      :name=\"$t('objective')\"\r\n                      rules=\"required\"\r\n                    >\r\n                      <textarea\r\n                        v-model=\"scoreCard.description\"\r\n                        style=\"width: 100%; min-height: 70px; background:#EEEEEE \"\r\n                        :disabled=\"true\"\r\n                        class=\"custom-formcontrol-none mt-1\"\r\n                      />\r\n                      <small\r\n                        class=\"text-danger\"\r\n                        style=\"font-family: Poppins\"\r\n                      >{{ errors[0] }}</small>\r\n                    </validation-provider>\r\n                    <transition-group\r\n                      name=\"list\"\r\n                      mode=\"out-in\"\r\n                    >\r\n                      <div\r\n                        v-for=\"(KRA, indexKRA) in scoreCard.KRA\"\r\n                        :key=\"KRA.id\"\r\n                        style=\"background: #efedee; border-radius: 6px;\"\r\n                        class=\"p-1 mb-1\"\r\n                      >\r\n                        <!-- #KRA PANEL - START -->\r\n                        <div\r\n                          class=\"d-flex align-items-center justify-content-between pointer\"\r\n                          @click=\"KRA.visible = !KRA.visible\"\r\n                        >\r\n                          <span class=\"saj-text\">\r\n                            {{ $t (\"KEY RESULT AREA\") }}</span>\r\n                          <feather-icon\r\n                            :icon=\"KRA.visible? 'ChevronUpIcon': 'ChevronDownIcon'\"\r\n                            size=\"20\"\r\n                            style=\"color: #6E6B7B;\"\r\n                          />\r\n                        </div>\r\n                        <!-- #KRA PANEL - END -->\r\n                        <!-- #KRA COLLAPSE PANEL - START -->\r\n                        <b-collapse\r\n                          v-model=\"KRA.visible\"\r\n                        >\r\n                          <div class=\"mt-2 mb-2\">\r\n                            <div\r\n                              class=\"d-flex  justify-content-between align-items-center\"\r\n                              style=\"margin-bottom: 25px;\"\r\n                            >\r\n                              <div\r\n                                class=\"d-flex flex-column\"\r\n                                style=\"width: 100%;\"\r\n                              >\r\n                                <validation-provider\r\n                                  #default=\"{ errors }\"\r\n                                  :name=\"$t('KRA')\"\r\n                                  rules=\"required\"\r\n                                >\r\n                                  <!-- <br>tab:{{ currentPart.id === 'evaluation' ? 'evaluation': 'not evaluation tab' }} -->\r\n                                  <!-- <br>target ID{{ KRA.target.id }} -->\r\n                                  <!-- {{ KRA }} -->\r\n                                  <textarea\r\n                                    v-model=\"KRA.description\"\r\n                                    style=\"width: 100%; min-height: 70px;\"\r\n                                    :disabled=\"true\"\r\n                                    class=\"custom-formcontrol-none\"\r\n                                  />\r\n                                  <small\r\n                                    class=\"text-danger\"\r\n                                    style=\"font-family: Poppins\"\r\n                                  >{{ errors[0] }}</small>\r\n                                </validation-provider>\r\n                                <div class=\"d-flex flex-column\">\r\n                                  <transition-group\r\n                                    name=\"list\"\r\n                                    mode=\"out-in\"\r\n                                  >\r\n                                    <template>\r\n                                      <div\r\n                                        :key=\"`${KRA.id}+target`\"\r\n                                        class=\"mt-1 d-flex justify-content-between align-items-center\"\r\n                                      >\r\n                                        <div\r\n                                          style=\"background: #f7f7fd;\r\n                                  border-radius: 6px; width: 100%;\"\r\n                                          class=\"p-1\"\r\n                                        >\r\n                                          <!-- #KRA TARGET - START -->\r\n                                          <template>\r\n                                            <!-- replace everything in <template> with actual component -->\r\n                                            <div>\r\n                                              <comp-target\r\n                                                :measurement.sync=\"KRA.target.measurement\"\r\n                                                :target.sync=\"KRA.target.target\"\r\n                                                :date.sync=\"KRA.target.due\"\r\n                                                :current-part=\"currentPart\"\r\n                                                :is-file-kra=\"KRA.target.isFileKra\"\r\n                                                :is-submitted=\"isSubmitted\"\r\n                                                :is-user-i-d=\"userId\"\r\n                                              />\r\n                                            </div>\r\n                                          </template>\r\n                                        <!-- #KRA TARGET - END -->\r\n                                        </div>\r\n                                      </div>\r\n                                    </template>\r\n                                    <template v-if=\"isShowAchievement\">\r\n                                      <div\r\n                                        :key=\"`${KRA.id}+achievement`\"\r\n                                        class=\"mt-1 d-flex justify-content-between align-items-center\"\r\n                                      >\r\n                                        <div\r\n                                          style=\"background: #f7f7fd;\r\n                                          border-radius: 6px; width: 100%;\"\r\n                                          class=\"p-1\"\r\n                                        >\r\n                                          <!-- #KRA ACHIEVEMENT - START -->\r\n                                          <template>\r\n                                            <!-- replace everything in <template> with actual component -->\r\n                                            <div>\r\n                                              <comp-achievement\r\n                                                :tracking.sync=\"KRA.achievement.tracking\"\r\n                                                :achievement.sync=\"KRA.achievement.achievement\"\r\n                                                :yearachievement.sync=\"KRA.achievement.yearachievement\"\r\n                                                :attachment.sync=\"KRA.achievement.file\"\r\n                                                :resultattachment.sync=\"KRA.achievement.resultfile\"\r\n                                                :is-file=\"KRA.achievement.isFile\"\r\n                                                :is-file-result=\"KRA.achievement.isFileResult\"\r\n                                                :achievement_to_date.sync=\"KRA.achievement.achievement_to_date\"\r\n                                                :current-part=\"currentPart\"\r\n                                                :is-submitted=\"isSubmitted\"\r\n                                                :is-user-i-d=\"userId\"\r\n                                              />\r\n                                            </div>\r\n\r\n                                          </template>\r\n                                        <!-- #KRA ACHIEVEMENT - END -->\r\n                                        </div>\r\n                                      </div>\r\n                                    </template>\r\n                                  </transition-group>\r\n                                </div>\r\n                              </div>\r\n                              <!-- #REMOVE SPECIFIC KRA - START -->\r\n                              <transition\r\n                                name=\"zoom-out\"\r\n                                mode=\"out-in\"\r\n                              >\r\n                                <template v-if=\"!isReadOnly && !isSubmitted && isSubmitted\">\r\n                                  <feather-icon\r\n                                    icon=\"MinusCircleIcon\"\r\n                                    class=\"ml-2\"\r\n                                    style=\"color: #C5C7CD\"\r\n                                    size=\"35\"\r\n                                    @click=\"removeSpecificKRa(\r\n                                      {\r\n                                        id: scoreCard.id,\r\n                                        index: indexScoreBoard\r\n                                      },\r\n                                      {\r\n                                        id: KRA.id,\r\n                                        index: indexKRA\r\n                                      }\r\n                                    )\"\r\n                                  />\r\n                                </template>\r\n                              </transition>\r\n                            <!-- #REMOVE SPECIFIC KRA - END -->\r\n\r\n                            </div>\r\n\r\n                            <hr style=\"border-top: 1px solid #D5D5D5; width: 100%;\">\r\n                            <div class=\"d-flex\">\r\n                              <div\r\n                                class=\"d-flex flex-column\"\r\n                                style=\"width: 100%;\"\r\n                              >\r\n                                <span\r\n                                  class=\"saj-text\"\r\n                                >{{ $t (\"Remarks\") }}</span>\r\n                                <textarea\r\n                                  v-model=\"KRA.remark\"\r\n                                  :disabled=\"true\"\r\n                                  style=\"width: 100%; min-height: 70px; margin-bottom: 10px; margin-top: 10px;\"\r\n                                  class=\"custom-formcontrol-none\"\r\n                                />\r\n                              </div>\r\n                              <transition\r\n                                name=\"zoom-out\"\r\n                                mode=\"out-in\"\r\n                              >\r\n                                <template v-if=\"isShowSelfScore\">\r\n                                  <div\r\n                                    key=\"selfScore\"\r\n                                    class=\"ml-2 self-score\"\r\n                                  >\r\n                                    <span style=\"margin-left: 0.3rem\">{{ $t (\"Self Score\") }}:</span>\r\n                                    <!-- {{ KRA }} tengok -->\r\n                                    <b-form-rating\r\n                                      v-model=\"KRA.self_score\"\r\n                                      :disabled=\"true\"\r\n                                      class=\"pl-0\"\r\n                                      no-border\r\n                                      show-value\r\n                                      inline\r\n                                      color=\"#DFB300\"\r\n                                      stars=\"6\"\r\n                                      size=\"lg\"\r\n                                      style=\"background: none\"\r\n                                    />\r\n                                    <br>\r\n                                    <span style=\"margin-left: 0.3rem\">{{ $t (\"Manager Score\") }}:</span>\r\n                                    <b-form-rating\r\n                                      v-model=\"KRA.manager_rating\"\r\n                                      show-clear\r\n                                      class=\"pl-0\"\r\n                                      no-border\r\n                                      show-value\r\n                                      inline\r\n                                      color=\"#DFB300\"\r\n                                      stars=\"6\"\r\n                                      size=\"lg\"\r\n                                      style=\"background: none\"\r\n                                      :disabled=\"disableRating\"\r\n                                    />\r\n                                    <span style=\"margin-top: 5px; margin-right: 15px\">\r\n                                      <h5 v-if=\"KRA.manager_rating == '1'\">{{ isEnglish ? rating[5].definition_en : rating[5].definition_my }}</h5>\r\n                                      <h5 v-else-if=\"KRA.manager_rating == '2'\">{{ isEnglish ? rating[4].definition_en : rating[4].definition_my }}</h5>\r\n                                      <h5 v-else-if=\"KRA.manager_rating == '3'\">{{ isEnglish ? rating[3].definition_en : rating[3].definition_my }}</h5>\r\n                                      <h5 v-else-if=\"KRA.manager_rating == '4'\">{{ isEnglish ? rating[2].definition_en : rating[2].definition_my }}</h5>\r\n                                      <h5 v-else-if=\"KRA.manager_rating == '5'\">{{ isEnglish ? rating[1].definition_en : rating[1].definition_my }}</h5>\r\n                                      <h5 v-else-if=\"KRA.manager_rating == '6'\">{{ isEnglish ? rating[0].definition_en : rating[0].definition_my }}</h5>\r\n                                    </span>\r\n                                    <!-- <b-form-rating\r\n                                      v-else\r\n                                      v-model=\"KRA.manager_rating\"\r\n                                      show-clear\r\n                                      disabled\r\n                                      class=\"pl-0\"\r\n                                      no-border\r\n                                      show-value\r\n                                      inline\r\n                                      color=\"#DFB300\"\r\n                                      stars=\"6\"\r\n                                      size=\"lg\"\r\n                                      style=\"background: none\"\r\n                                    /> -->\r\n                                    <!-- @change=\"updateManagerScore(KRA.result.id, KRA.manager_rating)\" -->\r\n                                  </div>\r\n                                </template>\r\n                              </transition>\r\n\r\n                            </div>\r\n                          </div>\r\n                        </b-collapse>\r\n                      <!-- #KRA COLLAPSE PANEL - END -->\r\n                      </div>\r\n                    </transition-group>\r\n\r\n                    <transition\r\n                      name=\"zoom-out\"\r\n                      mode=\"out-in\"\r\n                    >\r\n                      <template v-if=\"!isReadOnly && !isSubmitted && isSubmitted\">\r\n                        <div\r\n                          key=\"addKRA\"\r\n                          class=\"mt-1 d-flex align-items-center justify-content-center\"\r\n                        >\r\n                          <feather-icon\r\n                            icon=\"PlusCircleIcon\"\r\n                            class=\"ml-2 mb-1\"\r\n                            style=\"color: #C5C7CD\"\r\n                            size=\"35\"\r\n                            @click=\"addKRA(\r\n                              {\r\n                                id: scoreCard.id,\r\n                                index: indexScoreBoard\r\n                              }\r\n                            )\"\r\n                          />\r\n                        </div>\r\n                      </template>\r\n                    </transition>\r\n                  </div>\r\n\r\n                </b-collapse>\r\n              </validation-observer>\r\n              <!-- #SCORE CARD COLLAPSE PANEL - END -->\r\n\r\n            </div>\r\n            <!-- START - If score boards empty -->\r\n            <div\r\n              v-if=\"scoreCards.length === 0\"\r\n              key=\"emptyScoreBoard\"\r\n            >\r\n              <span style=\"color; #6E6B7B\">No score card yet. Please create your score card. </span>\r\n            </div>\r\n            <!-- END - If score boards empty -->\r\n          </transition-group>\r\n        </template>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <div\r\n        class=\"saj-text d-flex align-items-center justify-content-center bg-white p-1 m-0 mb-3 mt-3\"\r\n        style=\"font-style: italic; background: rgb(247, 247, 252); text-align: center; height: 500px; border-radius:20px;  background: #ffffff;\r\n              box-shadow: 0px 0px 41px 9px rgba(0, 0, 0, 0.11);\"\r\n      >\r\n\r\n        {{ $t('Key Result Area are not available') }}\r\n\r\n      </div>\r\n    </div>\r\n    <!-- END FORM -->\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n  .custom-formcontrol-none {\r\n    // outline-color: red;\r\n    border: 1px solid #d8d6de !important;\r\n    text-overflow: ellipsis;\r\n    background: '#FFFFFF';\r\n    opacity: 0.9;\r\n    backdrop-filter: blur(20px);\r\n    width: 70%;\r\n    height: 3.0rem;\r\n    padding: 0.438rem 1rem;\r\n    background-clip: padding-box;\r\n    border-radius: 6px;\r\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n}\r\n  .custom-formcontrol-none:focus{\r\n    outline: 0.01rem solid #ff0000 !important;\r\n  }\r\n.formTitle {\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  letter-spacing: 0.1em;\r\n  // border-bottom: 2.5px solid red;\r\n  color: #FF0000;\r\n}\r\n</style>\r\n<script>\r\nimport {\r\n  BCollapse,\r\n  BFormRating,\r\n  VBTooltip,\r\n  VBPopover,\r\n  BTabs,\r\n  BTab,\r\n  BButton,\r\n} from 'bootstrap-vue'\r\nimport CompTarget from '@/component/33-target.vue'\r\nimport CompAchievement from '@/component/34-achievement.vue'\r\nimport _ from 'lodash'\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\r\nimport { required } from '@validations'\r\nimport Ripple from \"vue-ripple-directive\"\r\nimport { mapGetters } from 'vuex'\r\nimport SAJToast from '@/component/saj-toastification.vue'\r\n\r\nexport default {\r\n  components: {\r\n    BCollapse,\r\n    CompTarget,\r\n    CompAchievement,\r\n    BFormRating,\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n    BTabs,\r\n    BTab,\r\n    BButton,\r\n  },\r\n  directives: {\r\n    \"b-popover\": VBPopover,\r\n    'b-tooltip': VBTooltip,\r\n    Ripple,\r\n  },\r\n  props: {\r\n    division: {\r\n      type: null,\r\n      default: null,\r\n    },\r\n    section: {\r\n      type: null,\r\n      default: null,\r\n    },\r\n  },\r\n  data(){\r\n    return {\r\n      isSuccessResult: false,\r\n      performance_id: this.$route.params.performance_id,\r\n      id: this.$route.params.id,\r\n      isSupervisor: null,\r\n      grade_set_id: null,\r\n      subsidiary_id: null,\r\n      kra_weightage: null,\r\n      required,\r\n      // resultId: 0,\r\n      manager_rating: 0,\r\n      allPart: [\r\n        {\r\n          title: 'Performance Planning',\r\n          id: 'setKra',\r\n        },\r\n        {\r\n          title: 'Performance Review',\r\n          id: 'review',\r\n        },\r\n        {\r\n          title: 'Year End Result',\r\n          id: 'evaluation',\r\n        },\r\n      ],\r\n      isSubmitted: false,\r\n      currentPart: {\r\n        title: null,\r\n        id: null,\r\n      },\r\n      scoreCards: [\r\n      ],\r\n      total_score_exec: \"30\",\r\n      total_score_top: \"40\",\r\n      rating: [],\r\n      approved_at: '',\r\n      approved_sv_at: null,\r\n      agree_at: null,\r\n      approved_hod_at: null,\r\n      submit_at: null,\r\n      isApproveSHR: false,\r\n      isApproveHOD: false,\r\n      isApproveSV: false,\r\n      disableRating: true,\r\n    }\r\n  },\r\n  computed: {\r\n    isShowSelfScore() {\r\n      const showSelfScore = ['evaluation']\r\n      return showSelfScore.includes(this.currentPart.id)\r\n    },\r\n    isReadOnly() {\r\n      // const readOnly = ['review', 'evaluation']\r\n      const readOnly = ['evaluation']\r\n      return readOnly.includes(this.currentPart.id)\r\n    },\r\n    isShowAchievement() {\r\n      const showAchievement = ['review', 'evaluation']\r\n      return showAchievement.includes(this.currentPart.id)\r\n    },\r\n    isEnglish() {\r\n      return this.$i18n.locale === 'en'\r\n    },\r\n    ...mapGetters(['roles', 'userDetails']),\r\n  },\r\n  watch: {\r\n    currentPart: {\r\n      handler(part) {\r\n        // console.log('part changes', part)\r\n        this.whichPartNow(part)\r\n      },\r\n    },\r\n    // scoreCards: {\r\n    //   handler(newValue, oldValue) {\r\n    //     console.log('part changes', newValue, oldValue)\r\n    //     // newValue.forEach(a => {\r\n    //     //   oldValue.forEach((b, idx) => {\r\n    //     //     if (a.manager_rating !== b.manager_rating) {\r\n    //     //       this.updateManagerScore(idx)\r\n    //     //     }\r\n    //     //   })\r\n    //     // })\r\n    //   },\r\n    //   deep: true,\r\n    // },\r\n  },\r\n  mounted() {\r\n    this.getScoreRating()\r\n    // eslint-disable-next-line prefer-destructuring\r\n    this.currentPart = this.allPart[0]\r\n    // this.getResult()\r\n    // this.currentUser()\r\n    this.checkSupervisorStatus()\r\n    if (this.$route.params.performance_id !== null){\r\n      this.userId = this.$route.params.id.toString()\r\n      this.currentUser()\r\n    }\r\n  },\r\n  methods: {\r\n    getScoreRating(){\r\n      this.$axios.get(`${this.$baseUrl}/rating/getAll`).then(response => {\r\n        this.rating = response.data.data\r\n      })\r\n    },\r\n    currentUser(){\r\n      const data = new FormData()\r\n      // data.append(\"user_id\", this.idCore)\r\n      this.$axios.get(`${this.$baseUrl}/supervisor/getEmployee?user_id=${this.userId}`, data).then(response => {\r\n        // console.log(response)\r\n        this.subsidiary_id = response.data.data.employee.business_unit\r\n        this.grade_set_id = response.data.data.grade_set_id\r\n        // console.log(this.subsidiary_id, this.grade_set_id)\r\n        this.weightage()\r\n      })\r\n    },\r\n    weightage(){\r\n      const params = new URLSearchParams()\r\n      params.append('subsidiary_id', this.subsidiary_id)\r\n      params.append('role_id', this.grade_set_id)\r\n\r\n      this.$axios.get(`${this.$baseUrl}/weightage/get_role_percentage`, { params }).then(response => {\r\n        // console.log(response)\r\n        this.kra_weightage = response.data.data.key_result_area\r\n        // console.log(this.kra_weightage)\r\n      })\r\n    },\r\n    checkSupervisorStatus(){\r\n      this.$axios.get(`${this.$baseUrl}/supervisor/checkSupervisory?performance_id=${this.performance_id}&user_id=${this.userDetails.user_id}`).then(response => {\r\n        this.isSupervisor = response.data.data.status.is_supervisor\r\n        // this.isAppraiserSv = response.data.data.status.is_appraiser_sv\r\n        // console.log(\"ini sv ke\", this.isSupervisor)\r\n        // console.log(\"ini appraiser sv ke\", this.isAppraiserSv)\r\n      })\r\n    },\r\n    toggleInput() {\r\n      this.disableRating = !this.disableRating\r\n    },\r\n    whichPartNow(part = this.currentPart) {\r\n      switch (part.id){\r\n        case 'setKra':\r\n          this.getPlanning()\r\n          break\r\n        case 'review':\r\n          this.getReview()\r\n          break\r\n        case 'evaluation':\r\n          this.getResult()\r\n          break\r\n        default:\r\n      }\r\n    },\r\n    removeSpecificScoreBoard(scoreBoardIndex) {\r\n      // this.scoreCards.splice(scoreBoardIndex.index, 1)\r\n      const data = new FormData()\r\n      data.append('objective_id', scoreBoardIndex.id)\r\n\r\n      const config = {\r\n        method: 'post',\r\n        url: `${this.$baseUrl}/kra/delete_objective`,\r\n        data,\r\n      }\r\n\r\n      this.$axios(config)\r\n        .then(() => {\r\n          this.whichPartNow()\r\n        })\r\n        // eslint-disable-next-line no-unused-vars\r\n        .catch(error => {\r\n          // console.log(error)\r\n          this.scoreCards.splice(scoreBoardIndex.index, 1)\r\n        })\r\n    },\r\n    removeSpecificKRa(scoreCard, KRAItem) {\r\n      // this.scoreCards[scoreCard.index].KRA.splice(KRAItem.index, 1)\r\n      const data = new FormData()\r\n      data.append('kra_id', KRAItem.id)\r\n\r\n      const config = {\r\n        method: 'post',\r\n        url: `${this.$baseUrl}/kra/delete_kra`,\r\n        data,\r\n      }\r\n\r\n      this.$axios(config)\r\n        .then(() => {\r\n          this.whichPartNow()\r\n        })\r\n        .catch(() => {\r\n          this.scoreCards[scoreCard.index].KRA.splice(KRAItem.index, 1)\r\n          // console.log(error.response)\r\n        })\r\n    },\r\n    removeSpecificTarget(scoreCard, KRA, target) {\r\n      this.scoreCards[scoreCard.index].KRA[KRA.index].target.splice(target.index, 1)\r\n    },\r\n    addKRA(scoreCard) {\r\n      const newKRA = {\r\n        id: `KRA${this.generateRandomString()}`,\r\n        visible: false,\r\n        description: null,\r\n        remark: null,\r\n        self_score: 0,\r\n        target: {\r\n          id: `target${this.generateRandomString()}`,\r\n          measurement: null,\r\n          target: null,\r\n          due: null,\r\n        },\r\n        achievement: {\r\n          tracking: null,\r\n          achievement: null,\r\n          file: null,\r\n        },\r\n      }\r\n      this.scoreCards[scoreCard.index].KRA.push(newKRA)\r\n    },\r\n    generateRandomString() {\r\n      return (+new Date() * Math.random()).toString(36).substring(0, 6)\r\n    },\r\n    addScoreBoard() {\r\n      const newScoreBoard = {\r\n        id: `ScoreBoard${this.generateRandomString()}`,\r\n        visible: false,\r\n        title: 'Objective / Initiative',\r\n        description: null,\r\n        KRA: [\r\n          {\r\n            id: `KRA${this.generateRandomString()}`,\r\n            visible: false,\r\n            description: null,\r\n            remark: null,\r\n            self_score: 0,\r\n            target: {\r\n              id: `target${this.generateRandomString()}`,\r\n              visible: false,\r\n              measurement: null,\r\n              target: null,\r\n              due: null,\r\n            },\r\n            achievement: {\r\n              tracking: null,\r\n              achievement: null,\r\n              file: null,\r\n            },\r\n          },\r\n        ],\r\n      }\r\n\r\n      this.scoreCards.push(newScoreBoard)\r\n    },\r\n    getPlanning() {\r\n      const config = {\r\n        method: 'get',\r\n        url: `${this.$baseUrl}/kra/get_planning?user_id=${this.userId}`,\r\n      }\r\n\r\n      this.$axios(config)\r\n        .then(response => {\r\n          const result = response.data\r\n          // console.log('res', this.userId)\r\n          if (result.success) {\r\n            const AllObjective = result.data.objective\r\n            // console.log('Planning objective', AllObjective)\r\n            if (AllObjective.length > 0) {\r\n              this.isSubmitted = result.data.submitted === 1\r\n              const tempScoreCards = []\r\n\r\n              // eslint-disable-next-line no-unused-vars\r\n              AllObjective.forEach((objective, index) => {\r\n                const previousScoreboard = _.cloneDeep(this.scoreCards[index])\r\n                let visibleScoreBoard = false\r\n                if (this.scoreCards.length > 0) {\r\n                  visibleScoreBoard = previousScoreboard.visible\r\n                }\r\n                // eslint-disable-next-line no-unused-vars\r\n                const allKRA = objective.key_result_area\r\n                // console.log('response', allKRA)\r\n                tempScoreCards.push({\r\n                  id: objective.objective_id,\r\n                  visible: visibleScoreBoard,\r\n                  title: \"Objective / Initiative\",\r\n                  description: objective.objective_name,\r\n                  KRA: [],\r\n                })\r\n                // eslint-disable-next-line no-unused-vars\r\n                allKRA.forEach((itemKRA, idx) => {\r\n                  const currentState = itemKRA.target\r\n                  tempScoreCards[index].KRA.push(\r\n                    {\r\n                      id: itemKRA.kra_id,\r\n                      visible: false,\r\n                      description: itemKRA.kra_name,\r\n                      remark: currentState.remarks,\r\n                      target: {\r\n                        id: currentState.id,\r\n                        visible: false,\r\n                        measurement: currentState.measurement,\r\n                        target: currentState.target,\r\n                        due: currentState.due_date,\r\n                        isFileKra: currentState.file,\r\n                      },\r\n                      achievement: {\r\n                        tracking: null,\r\n                        achievement: null,\r\n                        file: null,\r\n                        self_score: null,\r\n                      },\r\n\r\n                      // result: {\r\n                      //   id: currentState.id,\r\n\r\n                      // },\r\n                    },\r\n                  )\r\n                })\r\n              })\r\n\r\n              this.scoreCards = tempScoreCards\r\n            } else {\r\n              this.scoreCards = []\r\n            }\r\n          }\r\n        })\r\n        // eslint-disable-next-line no-unused-vars\r\n        .catch(() => {\r\n          // console.log(error.response.data)\r\n        })\r\n    },\r\n    getReview() {\r\n      const config = {\r\n        method: 'get',\r\n        url: `${this.$baseUrl}/kra/get_review?user_id=${this.userId}`,\r\n      }\r\n      // console.log(\"get review\")\r\n      this.$axios(config)\r\n        .then(response => {\r\n          // console.log(\"success review\", response)\r\n          const result = response.data\r\n          if (result.success) {\r\n            const AllObjective = result.data.objective\r\n            // console.log('Review objective', AllObjective)\r\n\r\n            if (AllObjective.length > 0) {\r\n              this.isSubmitted = result.data.submitted === 1\r\n              const tempScoreCards = []\r\n\r\n              // eslint-disable-next-line no-unused-vars\r\n              AllObjective.forEach((objective, index) => {\r\n                const previousScoreboard = _.cloneDeep(this.scoreCards[index])\r\n                let visibleScoreBoard = false\r\n                if (this.scoreCards.length > 0) {\r\n                  visibleScoreBoard = previousScoreboard.visible\r\n                }\r\n                // eslint-disable-next-line no-unused-vars\r\n                const allKRA = objective.key_result_area\r\n                tempScoreCards.push({\r\n                  id: objective.objective_id,\r\n                  visible: visibleScoreBoard,\r\n                  title: \"Objective / Initiative\",\r\n                  description: objective.objective_name,\r\n                  KRA: [],\r\n                })\r\n\r\n                allKRA.forEach((itemKRA, idx) => {\r\n                  const currentState = itemKRA.achievement\r\n                  let visibleKra = false\r\n                  if (this.scoreCards[index].KRA[idx] !== undefined){\r\n                    const previousKra = _.cloneDeep(this.scoreCards[index].KRA[idx])\r\n                    if (this.scoreCards.length > 0) {\r\n                      visibleKra = previousKra.visible === undefined ? false : previousKra.visible\r\n                    }\r\n                  }\r\n\r\n                  tempScoreCards[index].KRA.push(\r\n                    {\r\n                      id: itemKRA.kra_id,\r\n                      visible: visibleKra,\r\n                      description: itemKRA.kra_name,\r\n                      remark: currentState.remarks,\r\n                      self_score: currentState.rating === null ? 0 : currentState.rating,\r\n                      target: {\r\n                        id: currentState.id,\r\n                        visible: false,\r\n                        measurement: currentState.measurement,\r\n                        target: currentState.target,\r\n                        due: currentState.due_date,\r\n                      },\r\n                      achievement: {\r\n                        tracking: currentState.tracking,\r\n                        achievement: currentState.achievement,\r\n                        file: null,\r\n                        isFile: currentState.file,\r\n                        achievement_to_date: currentState.achievement_to_date,\r\n                      },\r\n                    },\r\n                  )\r\n                })\r\n              })\r\n\r\n              this.scoreCards = tempScoreCards\r\n            } else {\r\n              this.scoreCards = []\r\n            }\r\n          }\r\n        })\r\n        // eslint-disable-next-line no-unused-vars\r\n        // .catch(error => {\r\n        //   const res = error.response\r\n        //   // eslint-disable-next-line no-unused-vars\r\n        //   const resData = error.response.data\r\n        //   if (res.status === 404) {\r\n        //     // eslint-disable-next-line prefer-destructuring\r\n        //     this.currentPart = this.allPart[0]\r\n        //     // alert(resData.message)\r\n        //   }\r\n        // })\r\n    },\r\n    getResult() {\r\n      const config = {\r\n        method: 'get',\r\n        url: `${this.$baseUrl}/kra/get_result?user_id=${this.userId}&cycle_id=${this.performance_id}`,\r\n      }\r\n\r\n      // console.log('get result')\r\n\r\n      this.$axios(config)\r\n        .then(response => {\r\n          const result = response.data\r\n          // console.log('result', response)\r\n          if (result.success) {\r\n            // console.log('success ya')\r\n            const AllObjective = result.data.objective\r\n            // console.log('result objective', AllObjective)\r\n            if (AllObjective.length > 0) {\r\n              this.isSubmitted = result.data.submitted === 1\r\n              const tempScoreCards = []\r\n\r\n              // eslint-disable-next-line no-unused-vars\r\n              AllObjective.forEach((objective, index) => {\r\n                const previousScoreboard = _.cloneDeep(this.scoreCards[index])\r\n                let visibleScoreBoard = false\r\n                if (this.scoreCards.length > 0) {\r\n                  visibleScoreBoard = previousScoreboard.visible\r\n                }\r\n                // eslint-disable-next-line no-unused-vars\r\n                const allKRA = objective.key_result_area\r\n                tempScoreCards.push({\r\n                  id: objective.objective_id,\r\n                  visible: visibleScoreBoard,\r\n                  title: \"Objective / Initiative\",\r\n                  description: objective.objective_name,\r\n                  KRA: [],\r\n                })\r\n\r\n                allKRA.forEach((itemKRA, idx) => {\r\n                  const currentState = itemKRA.result\r\n                  let visibleKra = false\r\n                  // this.resultId = currentState.id\r\n                  if (this.scoreCards[index].KRA[idx] !== undefined){\r\n                    const previousKra = _.cloneDeep(this.scoreCards[index].KRA[idx])\r\n                    if (this.scoreCards.length > 0) {\r\n                      visibleKra = previousKra.visible === undefined ? false : previousKra.visible\r\n                    }\r\n                  }\r\n                  // console.log('current state', currentState)\r\n                  tempScoreCards[index].KRA.push(\r\n                    {\r\n                      id: itemKRA.kra_id,\r\n                      visible: visibleKra,\r\n                      remark: currentState.remarks,\r\n                      description: itemKRA.kra_name,\r\n                      self_score: currentState.rating === null ? 0 : currentState.rating,\r\n                      manager_rating: currentState.manager_rating,\r\n                      target: {\r\n                        id: currentState.id,\r\n                        visible: false,\r\n                        measurement: currentState.measurement,\r\n                        target: currentState.target,\r\n                        due: currentState.due_date,\r\n                      },\r\n                      achievement: {\r\n                        tracking: currentState.tracking,\r\n                        achievement: currentState.achievement,\r\n                        yearachievement: currentState.achievement,\r\n                        resultfile: null,\r\n                        isFileResult: currentState.file,\r\n                      },\r\n                      result: {\r\n                        id: currentState.id,\r\n                      },\r\n                    },\r\n                  )\r\n                })\r\n              })\r\n\r\n              this.scoreCards = tempScoreCards\r\n\r\n              this.approved_at = response.data.data.approved_at\r\n              this.approved_sv_at = response.data.data.approved_sv_at\r\n              this.agree_at = response.data.data.agree_at\r\n              this.approved_hod_at = response.data.data.approved_hod_at\r\n              this.submit_at = response.data.data.submit_at\r\n              // console.log(this.approved_at)\r\n\r\n              switch (this.roles.selectedRole){\r\n                case 1:\r\n                  // Admin\r\n                  // console.log('admin')\r\n                  if (this.agree_at !== null && this.approved_at === null){\r\n                    // console.log('masuk admin')\r\n                    this.isApproveSHR = true\r\n                  }\r\n                  break\r\n                case 3:\r\n                  // Executive\r\n                  // console.log('Executive')\r\n                  if (this.submit_at !== null){\r\n                    if (this.agree_at === null){\r\n                      // console.log('masuk exec', this.agree_at, this.submit_at)\r\n                      this.isApproveSV = true\r\n                    }\r\n                  }\r\n                  break\r\n                case 4:\r\n                  // Top Management\r\n                  // console.log('Top Management')\r\n                  if (this.submit_at !== null){\r\n                    if (this.agree_at === null){\r\n                      // console.log('masuk exec', this.agree_at, this.submit_at)\r\n                      this.isApproveSV = true\r\n                    }\r\n                  }\r\n                  break\r\n                case 5:\r\n                  // Head of Department\r\n                  // console.log('Head of Department')\r\n                  if (this.agree_at !== null && this.approved_hod_at === null){\r\n                    // console.log('masuk hod')\r\n                    this.isApproveHOD = true\r\n                  }\r\n                  break\r\n                default:\r\n                  break\r\n              }\r\n            } else {\r\n              this.scoreCards = []\r\n            }\r\n          }\r\n          // console.log('success tak')\r\n        })\r\n        // eslint-disable-next-line no-unused-vars\r\n        .catch(error => {\r\n          // console.log(error)\r\n          // this.isSubmitted = true\r\n        })\r\n    },\r\n    checkIfNull(val) {\r\n      if (val !== null && val !== undefined) {\r\n        return val\r\n      }\r\n      return ''\r\n    },\r\n    saveKra() {\r\n      const validateKRALength = this.$refs.validateKRA.length\r\n      this.$refs.validateKRA.forEach((item, index) => {\r\n        this.$refs.validateKRA[index].validate().then(success => {\r\n          if (index === validateKRALength - 1) {\r\n            if (success){\r\n              if (this.scoreCards.length > 0) {\r\n                const data = new FormData()\r\n                const toSubmitPlanning = []\r\n\r\n                // eslint-disable-next-line no-shadow\r\n                this.scoreCards.forEach((card, index) => {\r\n                  toSubmitPlanning.push({\r\n                    objective_id: card.id,\r\n                    objective_name: card.description,\r\n                    kra: [],\r\n                  })\r\n\r\n                  const allKra = card.KRA\r\n\r\n                  allKra.forEach(itemKRA => {\r\n                    const currentState = itemKRA.target\r\n                    toSubmitPlanning[index].kra.push(\r\n                      {\r\n                        kra_id: itemKRA.id,\r\n                        kra_name: itemKRA.description,\r\n                        type: \"planning\",\r\n                        target: {\r\n                          target_id: this.checkIfNull(currentState.id),\r\n                          measurement: this.checkIfNull(currentState.measurement),\r\n                          target: this.checkIfNull(currentState.target),\r\n                          due_date: this.checkIfNull(currentState.due),\r\n                          remarks: this.checkIfNull(itemKRA.remark),\r\n                        },\r\n                      },\r\n                    )\r\n                  })\r\n                })\r\n\r\n                const dataToString = JSON.stringify(toSubmitPlanning)\r\n\r\n                data.append('input', dataToString)\r\n\r\n                // eslint-disable-next-line no-unused-vars\r\n                const config = {\r\n                  method: 'post',\r\n                  url: `${this.$baseUrl}/kra/store_planning`,\r\n                  data,\r\n                }\r\n\r\n                this.$axios(config)\r\n                  .then(() => {\r\n                    this.whichPartNow()\r\n                  })\r\n                  // .catch(error => {\r\n                  //   const res = error.response\r\n                  //   const resData = error.response.data\r\n                  //   if (res.status === 404) {\r\n                  //     alert(resData.message)\r\n                  //   }\r\n                  // })\r\n              }\r\n            } else {\r\n              // eslint-disable-next-line no-alert\r\n              alert('Please fill all required fields')\r\n            }\r\n          }\r\n        })\r\n      })\r\n    },\r\n    saveReview() {\r\n      const validateKRALength = this.$refs.validateKRA.length\r\n      this.$refs.validateKRA.forEach((item, index) => {\r\n        this.$refs.validateKRA[index].validate().then(success => {\r\n          if (index === validateKRALength - 1) {\r\n            if (success){\r\n              this.scoreCards.forEach(card => {\r\n                const allKra = card.KRA\r\n\r\n                allKra.forEach(itemKRA => {\r\n                  const { achievement } = itemKRA\r\n                  const { target } = itemKRA\r\n\r\n                  const data = new FormData()\r\n                  data.append('kra_id[]', itemKRA.id)\r\n                  if (card.id !== undefined && card.id !== null) {\r\n                    data.append(`objective_id[${itemKRA.id}]`, card.id)\r\n                  }\r\n                  if (itemKRA.description !== undefined && itemKRA.description !== null) {\r\n                    data.append(`kra_name[${itemKRA.id}]`, itemKRA.description)\r\n                  }\r\n                  if (achievement.achievement !== undefined && achievement.achievement !== null) {\r\n                    data.append(`achievement[${itemKRA.id}]`, achievement.achievement)\r\n                  }\r\n                  if (achievement.achievement_to_date !== undefined && achievement.achievement_to_date !== null) {\r\n                    data.append(`achievement_to_date[${itemKRA.id}]`, achievement.achievement_to_date)\r\n                  }\r\n                  if (achievement.tracking !== undefined && achievement.tracking !== null) {\r\n                    data.append(`tracking[${itemKRA.id}]`, achievement.tracking)\r\n                  }\r\n                  if (itemKRA.remark !== undefined && itemKRA.remark !== null) {\r\n                    data.append(`remarks[${itemKRA.id}]`, itemKRA.remark)\r\n                  }\r\n                  if (Number(itemKRA.self_score) !== undefined && Number(itemKRA.self_score) !== null) {\r\n                    data.append(`rating[${itemKRA.id}]`, Number(itemKRA.self_score))\r\n                  }\r\n                  if (target.measurement !== undefined && target.measurement !== null) {\r\n                    data.append(`measurement[${itemKRA.id}]`, target.measurement)\r\n                  }\r\n                  if (target.target !== undefined && target.target !== null) {\r\n                    data.append(`target[${itemKRA.id}]`, target.target)\r\n                  }\r\n                  if (target.due !== undefined && target.due !== null) {\r\n                    data.append(`due_date[${itemKRA.id}]`, target.due)\r\n                  }\r\n                  if (achievement.file instanceof File) {\r\n                    data.append(`file[${itemKRA.id}]`, achievement.file)\r\n                  }\r\n\r\n                  const config = {\r\n                    method: 'post',\r\n                    url: `${this.$baseUrl}/kra/store_achievement`,\r\n                    data,\r\n                  }\r\n\r\n                  this.$axios(config)\r\n                    .then(response => {\r\n                      const result = response.data\r\n                      if (result.success) {\r\n                        this.whichPartNow()\r\n                      } else {\r\n                        // eslint-disable-next-line no-alert\r\n                        alert(result.message)\r\n                      }\r\n                    })\r\n                  // .catch(error => {\r\n                  //   const res = error.response\r\n                  //   const resData = error.response.data\r\n                  //   console.log('sini', res)\r\n                  //   if (res.status === 404) {\r\n                  //     alert(resData.message)\r\n                  //   }\r\n                  // })\r\n                })\r\n              })\r\n            } else {\r\n              // eslint-disable-next-line no-alert\r\n              alert('Please fill all required fields')\r\n            }\r\n          }\r\n        })\r\n      })\r\n    },\r\n    saveResult() {\r\n      const allScoreCardPromisesResult = Promise.all(this.scoreCards.map(card => {\r\n        const allKra = card.KRA\r\n\r\n        const allKraPromisesResult = Promise.all(allKra.map(itemKRA => {\r\n          const { achievement } = itemKRA\r\n          const data = new FormData()\r\n          data.append('kra_id[]', itemKRA.id)\r\n          if (card.id !== undefined && card.id !== null) {\r\n            data.append(`objective_id[${itemKRA.id}]`, card.id)\r\n          }\r\n          data.append('objective_name', card.description)\r\n          if (achievement.achievement !== null && achievement.achievement !== undefined) {\r\n            data.append(`achievement[${itemKRA.id}]`, achievement.achievement)\r\n          }\r\n          if (achievement.tracking !== null && achievement.tracking !== undefined) {\r\n            data.append(`tracking[${itemKRA.id}]`, achievement.tracking)\r\n          }\r\n          if (itemKRA.remark !== null && itemKRA.remark !== undefined) {\r\n            data.append(`remarks[${itemKRA.id}]`, itemKRA.remark)\r\n          }\r\n          if (Number(itemKRA.self_score) !== null && Number(itemKRA.self_score) !== undefined) {\r\n            data.append(`rating[${itemKRA.id}]`, Number(itemKRA.self_score))\r\n          }\r\n          this.updateManagerScore(itemKRA.result.id, itemKRA.manager_rating)\r\n\r\n          const config = {\r\n            method: 'post',\r\n            url: `${this.$baseUrl}/kra/store_result`,\r\n            data,\r\n          }\r\n\r\n          return this.$axios(config)\r\n            .then(response => {\r\n              const result = response.data\r\n              if (result.success) {\r\n                this.whichPartNow()\r\n              }\r\n              return response\r\n            })\r\n        }))\r\n        return allKraPromisesResult\r\n      }))\r\n      allScoreCardPromisesResult.then(() => {\r\n        this.$toast(\r\n          {\r\n            component: SAJToast,\r\n            props: {\r\n              title: `${this.$t('Manager score for KRA successfully saved')}!`,\r\n              icon: 'CheckCircleIcon',\r\n              variant: 'success',\r\n              titleColor: '#000',\r\n            },\r\n          },\r\n          {\r\n            position: \"top-right\",\r\n            type: 'info',\r\n          },\r\n        )\r\n      })\r\n    },\r\n    submitResult() {\r\n      const config = {\r\n        method: 'post',\r\n        url: `${this.$baseUrl}/kra/submit_result`,\r\n      }\r\n\r\n      this.$axios(config)\r\n        .then(response => {\r\n          const result = response.data\r\n          if (result.success) {\r\n            this.whichPartNow()\r\n          } else {\r\n            // eslint-disable-next-line no-alert\r\n            alert(result.message)\r\n          }\r\n        })\r\n        .catch(() => {\r\n          // console.log(error)\r\n        })\r\n    },\r\n    submitKra() {\r\n      const validateKRALength = this.$refs.validateKRA.length\r\n      this.$refs.validateKRA.forEach((item, index) => {\r\n        this.$refs.validateKRA[index].validate().then(success => {\r\n          if (index === validateKRALength - 1) {\r\n            if (success){\r\n              const config = {\r\n                method: 'post',\r\n                url: `${this.$baseUrl}/kra/submit_planning`,\r\n              }\r\n\r\n              this.$axios(config)\r\n                .then(() => {\r\n                  this.whichPartNow()\r\n                })\r\n                .catch(() => {\r\n                  // console.log(error)\r\n                })\r\n            } else {\r\n              // eslint-disable-next-line no-alert\r\n              alert('Please fill all required fields')\r\n            }\r\n          }\r\n        })\r\n      })\r\n      // const validateKRALength = this.$refs.validateKRA.length\r\n      // this.$refs.validateKRA.forEach((item, index) => {\r\n      //   this.$refs.validateKRA[index].validate().then(success => {\r\n      //     if (index === validateKRALength - 1) {\r\n      //       if (success){\r\n      //         //\r\n      //       } else {\r\n      //         alert('Please fill all required fields')\r\n      //       }\r\n      //     }\r\n      //   })\r\n      // })\r\n    },\r\n    updateManagerScore(id, ratingScore){\r\n      // console.log('manager score', this.userId, this.scoreCards[0].KRA[0].result.id, this.scoreCards[0].KRA[0].manager_rating)\r\n\r\n      const data = new FormData()\r\n      data.append('user_id', this.userId)\r\n      data.append('result_id', id)\r\n      data.append('manager_rating', ratingScore)\r\n      data.append(`current_role`, this.roles.selectedRole)\r\n\r\n      const config = {\r\n        method: 'post',\r\n        url: `${this.$baseUrl}/manager/kra_manager_score_store`,\r\n\r\n        data,\r\n      }\r\n\r\n      this.$axios(config)\r\n        .then(() => {\r\n          // console.log('success')\r\n          this.whichPartNow('setKra')\r\n          // this.$toast(\r\n          //   {\r\n          //     component: SAJToast,\r\n          //     props: {\r\n          //       title: `${this.$t('Manager Score successfully updated')}!`,\r\n          //       icon: 'CheckCircleIcon',\r\n          //       variant: 'success',\r\n          //       titleColor: '#000',\r\n          //     },\r\n          //   },\r\n          //   {\r\n          //     position: \"top-right\",\r\n          //     type: 'info',\r\n          //   },\r\n          // )\r\n        })\r\n        .catch(() => {\r\n          // console.log(error.message)\r\n        })\r\n    },\r\n    submitReview() {\r\n      const validateKRALength = this.$refs.validateKRA.length\r\n      this.$refs.validateKRA.forEach((item, index) => {\r\n        this.$refs.validateKRA[index].validate().then(success => {\r\n          if (index === validateKRALength - 1) {\r\n            if (success){\r\n              const config = {\r\n                method: 'post',\r\n                url: `${this.$baseUrl}/kra/submit_review`,\r\n              }\r\n\r\n              this.$axios(config)\r\n                .then(response => {\r\n                  const result = response.data\r\n                  if (result.success) {\r\n                    this.whichPartNow()\r\n                  } else {\r\n                    // eslint-disable-next-line no-alert\r\n                    alert(result.message)\r\n                  }\r\n                })\r\n                .catch(() => {\r\n                  // console.log(error)\r\n                })\r\n            } else {\r\n              // eslint-disable-next-line no-alert\r\n              alert('Please fill all required fields')\r\n            }\r\n          }\r\n        })\r\n      })\r\n    },\r\n\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./part-1-global-kra.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./part-1-global-kra.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./part-1-global-kra.vue?vue&type=template&id=1863e73e&scoped=true&\"\nimport script from \"./part-1-global-kra.vue?vue&type=script&lang=js&\"\nexport * from \"./part-1-global-kra.vue?vue&type=script&lang=js&\"\nimport style0 from \"./part-1-global-kra.vue?vue&type=style&index=0&id=1863e73e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1863e73e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}