(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b881814e","chunk-3b00b17d"],{"16b1":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center p-1"},[a("div",{staticClass:"d-flex flex-column align-items-center"},[a("feather-icon",{style:"color: "+t.iconColor,attrs:{icon:t.icon,size:"56"}}),a("h2",{staticClass:"mt-1",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.$t(t.title))+" ")]),a("p",{staticStyle:{"font-size":"1rem"}},[t._v(" "+t._s(t.subtitle)+" ")])],1),a("div",{staticClass:"mt-1"},[t.showConfirm?a("b-button",{staticClass:"mr-1 saj-button",staticStyle:{"background-color":"rgb(11, 16, 60) !important"},on:{click:function(e){return t.confirm()}}},[t._v(" "+t._s(t.$t(t.confirmBtn))+" ")]):t._e(),t.showCancel?a("b-button",{staticClass:"confirmButton saj-button",on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t(t.cancelBtn))+" ")]):t._e()],1)])},s=[],r=a("1947"),o={components:{BButton:r["a"]},props:{title:{type:String,default:"Are you sure to delete?"},subtitle:{type:String,default:null},icon:{type:String,default:"AlertCircleIcon"},iconColor:{type:String,default:"#FF9F43"},confirmBtn:{type:String,default:"Submit"},cancelBtn:{type:String,default:"Cancel"},showConfirm:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0}},data(){return{}},mounted(){},methods:{cancel(){this.$emit("cancel")},confirm(){this.$emit("confirm")}}},c=o,n=(a("fb41"),a("2877")),l=Object(n["a"])(c,i,s,!1,null,"476a0589",null);e["a"]=l.exports},"205f":function(t,e,a){"use strict";a.d(e,"a",(function(){return D}));var i=a("2b0e"),s=a("b42e"),r=a("c637"),o=a("a723"),c=a("9b76"),n=a("8690"),l=a("365c"),b=a("d82f"),d=a("cf75"),u=a("d580"),p=a("6197"),f=a("b885");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y=Object(d["d"])(Object(b["m"])(h(h({},Object(d["a"])(u["a"],d["f"].bind(null,"footer"))),{},{footer:Object(d["c"])(o["t"]),footerClass:Object(d["c"])(o["e"]),footerHtml:Object(d["c"])(o["t"])})),r["k"]),_=i["default"].extend({name:r["k"],functional:!0,props:y,render:function(t,e){var a,i=e.props,r=e.data,o=e.children,c=i.footerBgVariant,l=i.footerBorderVariant,b=i.footerTextVariant;return t(i.footerTag,Object(s["a"])(r,{staticClass:"card-footer",class:[i.footerClass,(a={},v(a,"bg-".concat(c),c),v(a,"border-".concat(l),l),v(a,"text-".concat(b),b),a)],domProps:o?{}:Object(n["a"])(i.footerHtml,i.footer)}),o)}}),g=a("4918");function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function O(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach((function(e){x(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function x(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var C=Object(d["d"])(Object(b["m"])(O(O({},Object(b["k"])(g["b"],["src","alt","width","height","left","right"])),{},{bottom:Object(d["c"])(o["g"],!1),end:Object(d["c"])(o["g"],!1),start:Object(d["c"])(o["g"],!1),top:Object(d["c"])(o["g"],!1)})),r["m"]),$=i["default"].extend({name:r["m"],functional:!0,props:C,render:function(t,e){var a=e.props,i=e.data,r=a.src,o=a.alt,c=a.width,n=a.height,l="card-img";return a.top?l+="-top":a.right||a.end?l+="-right":a.bottom?l+="-bottom":(a.left||a.start)&&(l+="-left"),t("img",Object(s["a"])(i,{class:l,attrs:{src:r,alt:o,width:c,height:n}}))}});function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){I(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function I(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var k=Object(d["a"])(C,d["f"].bind(null,"img"));k.imgSrc.required=!1;var P=Object(d["d"])(Object(b["m"])(w(w(w(w(w(w({},p["b"]),f["b"]),y),k),u["a"]),{},{align:Object(d["c"])(o["t"]),noBody:Object(d["c"])(o["g"],!1)})),r["i"]),D=i["default"].extend({name:r["i"],functional:!0,props:P,render:function(t,e){var a,i=e.props,r=e.data,o=e.slots,b=e.scopedSlots,u=i.imgSrc,m=i.imgLeft,h=i.imgRight,v=i.imgStart,g=i.imgEnd,j=i.imgBottom,O=i.header,x=i.headerHtml,C=i.footer,S=i.footerHtml,w=i.align,P=i.textVariant,D=i.bgVariant,B=i.borderVariant,V=b||{},E=o(),T={},N=t(),L=t();if(u){var U=t($,{props:Object(d["e"])(k,i,d["h"].bind(null,"img"))});j?L=U:N=U}var A=t(),q=Object(l["a"])(c["q"],V,E);(q||O||x)&&(A=t(f["a"],{props:Object(d["e"])(f["b"],i),domProps:q?{}:Object(n["a"])(x,O)},Object(l["b"])(c["q"],T,V,E)));var M=Object(l["b"])(c["g"],T,V,E);i.noBody||(M=t(p["a"],{props:Object(d["e"])(p["b"],i)},M),i.overlay&&u&&(M=t("div",{staticClass:"position-relative"},[N,M,L]),N=t(),L=t()));var F=t(),H=Object(l["a"])(c["p"],V,E);return(H||C||S)&&(F=t(_,{props:Object(d["e"])(y,i),domProps:q?{}:Object(n["a"])(S,C)},Object(l["b"])(c["p"],T,V,E))),t(i.tag,Object(s["a"])(r,{staticClass:"card",class:(a={"flex-row":m||v,"flex-row-reverse":(h||g)&&!(m||v)},I(a,"text-".concat(w),w),I(a,"bg-".concat(D),D),I(a,"border-".concat(B),B),I(a,"text-".concat(P),P),a)}),[N,A,M,F,L])}})},"28fa":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"saj-title",attrs:{"no-body":""}},[a("validation-observer",{ref:"validateSubcore"},[a("b-card-header",{staticClass:"p-1 justify-content-center"},[a("h5",{staticClass:"saj-header "},[t._v(" "+t._s(t.isUpdate?t.$t("Edit Subcore"):t.$t("Add New Subcore"))+" ")])]),a("b-card-body",[a("div",{staticClass:"col-lg"},[a("div",{staticClass:"card",staticStyle:{}},[a("b-row",{staticClass:"p-1 mb-2",staticStyle:{color:"black",background:"#f7f7fc","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"15px",height:"100%"}},[t._v(" "+t._s(t.$t("Subcore Title"))+" "),a("b-row",{staticClass:"col-12 saj-text p-1 m-0"},[a("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("In English"))+": ")]),a("b-col",{staticClass:"p-1",attrs:{cols:"10"}},[a("validation-provider",{attrs:{name:t.$t("In English"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("b-form-input",{staticClass:"saj-text",attrs:{type:"text",placeholder:""},model:{value:t.subcoreInfo.name_bi,callback:function(e){t.$set(t.subcoreInfo,"name_bi",e)},expression:"subcoreInfo.name_bi"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}])})],1),a("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("In Malay"))+": ")]),a("b-col",{staticClass:"p-1 ",attrs:{cols:"10"}},[a("validation-provider",{attrs:{name:t.$t("In Malay"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("b-form-input",{staticClass:"saj-text",attrs:{type:"text",placeholder:""},model:{value:t.subcoreInfo.name_bm,callback:function(e){t.$set(t.subcoreInfo,"name_bm",e)},expression:"subcoreInfo.name_bm"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}])})],1)],1)],1),a("validation-observer",{ref:"validateSubcore"},[a("b-row",{staticClass:"p-1 mb-2",staticStyle:{color:"black",background:"#f7f7fc","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"15px",height:"100%"}},[t._v(" "+t._s(t.$t("Description"))+" "),a("b-row",{staticClass:"col-12 saj-text p-1 m-0"},[a("b-col",{staticClass:"p-1 d-flex align-items-start",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("In English"))+": ")]),a("b-col",{staticClass:"p-1",attrs:{cols:"10"}},[a("validation-provider",{attrs:{name:t.$t("In English"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.subcoreInfo.description_bi,expression:"subcoreInfo.description_bi"}],staticClass:"saj-text form-control flex-grow-1",staticStyle:{height:"120px"},attrs:{name:"textarea",rows:"5"},domProps:{value:t.subcoreInfo.description_bi},on:{input:function(e){e.target.composing||t.$set(t.subcoreInfo,"description_bi",e.target.value)}}}),t._v(" "),a("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}])})],1),a("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("In Malay"))+": ")]),a("b-col",{staticClass:"p-1 ",attrs:{cols:"10"}},[a("validation-provider",{attrs:{name:t.$t("In Malay"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.subcoreInfo.description_bm,expression:"subcoreInfo.description_bm"}],staticClass:"saj-text form-control flex-grow-1",staticStyle:{height:"120px"},attrs:{name:"textarea",rows:"5"},domProps:{value:t.subcoreInfo.description_bm},on:{input:function(e){e.target.composing||t.$set(t.subcoreInfo,"description_bm",e.target.value)}}}),t._v(" "),a("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}])})],1)],1)],1),a("b-row",{staticClass:"p-1",staticStyle:{color:"black",background:"#f7f7fc","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"15px",height:"100%"}},[t._v(" "+t._s(t.$t("Visibility"))+" "),a("b-row",{staticClass:"col-12 saj-text p-1 m-0"},[a("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("Subsidiary"))+": ")]),a("b-col",{staticClass:"p-1",attrs:{cols:"10"}},[a("validation-provider",{attrs:{name:t.$t("Subsidiary"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("v-select",{staticClass:"saj-title select-size-md",staticStyle:{background:"white"},attrs:{label:"text",placeholder:t.$t("Select Subsidiary"),multiple:"",reduce:function(t){return t.value},options:t.subList,value:t.subList},model:{value:t.selectVisibility,callback:function(e){t.selectVisibility=e},expression:"selectVisibility"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}])})],1)],1)],1)],1),a("div",{staticClass:"d-flex justify-content-center mt-2"},[a("button",{staticClass:"btn btn-close m-1 saj-button",staticStyle:{color:"white",background:"#ff0000"},attrs:{"aria-label":"Close modal"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("button",{staticClass:"btn m-1 saj-button",staticStyle:{color:"white",background:"#0b103c !important","border-color":"#0b103c !important"},attrs:{"aria-label":"submit modal"},on:{click:function(e){t.isUpdate?t.editSubcore():t.addSubcore()}}},[t._v(" "+t._s(t.$t("Save"))+" ")])])],1)])])],1)],1)],1)},s=[],r=a("205f"),o=a("b885"),c=a("6197"),n=a("a15b"),l=a("b28b"),b=a("4797"),d=a("4a7a"),u=a.n(d),p=a("7bb1"),f=a("8f03"),m=a("206d"),h={components:{BCard:r["a"],BCardHeader:o["a"],BCardBody:c["a"],BRow:n["a"],BCol:l["a"],BFormInput:b["a"],vSelect:u.a,ValidationProvider:p["b"],ValidationObserver:p["a"]},props:{coreData:{type:null,default:null},isUpdate:{type:Boolean,default:!0},coreId:{type:Number,default:null}},data(){return{required:f["b"],selectVisibility:[],subList:[],subcoreInfo:[],subsidiaryIdList:[]}},mounted(){this.getSubsidiaryAll(),this.isUpdate&&this.getSubInfo()},methods:{close(){this.$emit("close")},addSubcore(){this.$refs.validateSubcore.validate().then(t=>{if(t){const t=new FormData;t.append("competency_core_id",this.coreId),t.append("name_bm",this.subcoreInfo.name_bm),t.append("name_bi",this.subcoreInfo.name_bi),t.append("description_bm",this.subcoreInfo.description_bm),t.append("description_bi",this.subcoreInfo.description_bi),this.selectVisibility.forEach(e=>{t.append("visible_to_subsidiary_id[]",e)}),this.$axios.post(this.$baseUrl+"/competency_subcore/create_subcores_content",t).then(()=>{setTimeout(()=>{this.$toast({component:m["a"],props:{title:this.$t("Subcore successfully added")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$emit("reload-subcore"),this.$emit("close")},1e3)})}})},editSubcore(){this.$refs.validateSubcore.validate().then(t=>{if(t){const t=new FormData;t.append("subcore_id",this.subcoreInfo.id),t.append("name_bm",this.subcoreInfo.name_bm),t.append("name_bi",this.subcoreInfo.name_bi),t.append("description_bm",this.subcoreInfo.description_bm),t.append("description_bi",this.subcoreInfo.description_bi),this.selectVisibility.forEach(e=>{t.append("visible_to_subsidiary_id[]",e)}),this.$axios.post(this.$baseUrl+"/competency_subcore/update_subcores_content",t).then(()=>{setTimeout(()=>{this.$toast({component:m["a"],props:{title:this.$t("Subcore successfully updated")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$emit("reload-subcore"),this.$emit("close")},1e3)})}})},getSubsidiaryAll(){this.$axios.get(this.$baseUrl+"/subsidiary/getAll").then(t=>{this.allSubsideriesName=t.data.data.subsidiaries,this.allSubsideriesName.forEach(t=>{this.subList.push({value:t.id,text:t.subsidiary_name})})})},getSubInfo(){this.$axios.get(`${this.$baseUrl}/competency_subcore/get_subcores_by_id?subcore_id=${this.coreData.item.id}`).then(t=>{this.subcoreInfo=t.data.data,this.selectVisibility=this.subcoreInfo.visible_to_subsidiary_id,this.subsidiaryIdList=this.subcoreInfo.map(t=>t.visible_to_subsidiary_id),this.isUpdate&&setTimeout(()=>{this.visibleSub()},500)})},visibleSub(){this.selectVisibility=this.subList.filter(t=>this.selectVisibility.includes(t.value))}}},v=h,y=a("2877"),_=Object(y["a"])(v,i,s,!1,null,null,null);e["a"]=_.exports},4968:function(t,e,a){"use strict";a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return b}));var i=a("2b0e"),s=a("b42e"),r=a("c637"),o=a("a723"),c=a("cf75"),n=a("fa73"),l=Object(c["d"])({title:Object(c["c"])(o["t"]),titleTag:Object(c["c"])(o["t"],"h4")},r["p"]),b=i["default"].extend({name:r["p"],functional:!0,props:l,render:function(t,e){var a=e.props,i=e.data,r=e.children;return t(a.titleTag,Object(s["a"])(i,{staticClass:"card-title"}),r||Object(n["g"])(a.title))}})},6197:function(t,e,a){"use strict";a.d(e,"b",(function(){return v})),a.d(e,"a",(function(){return y}));var i=a("2b0e"),s=a("b42e"),r=a("c637"),o=a("a723"),c=a("d82f"),n=a("cf75"),l=a("d580"),b=a("4968"),d=a("fa73"),u=Object(n["d"])({subTitle:Object(n["c"])(o["t"]),subTitleTag:Object(n["c"])(o["t"],"h6"),subTitleTextVariant:Object(n["c"])(o["t"],"muted")},r["n"]),p=i["default"].extend({name:r["n"],functional:!0,props:u,render:function(t,e){var a=e.props,i=e.data,r=e.children;return t(a.subTitleTag,Object(s["a"])(i,{staticClass:"card-subtitle",class:[a.subTitleTextVariant?"text-".concat(a.subTitleTextVariant):null]}),r||Object(d["g"])(a.subTitle))}});function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v=Object(n["d"])(Object(c["m"])(m(m(m(m({},b["b"]),u),Object(n["a"])(l["a"],n["f"].bind(null,"body"))),{},{bodyClass:Object(n["c"])(o["e"]),overlay:Object(n["c"])(o["g"],!1)})),r["j"]),y=i["default"].extend({name:r["j"],functional:!0,props:v,render:function(t,e){var a,i=e.props,r=e.data,o=e.children,c=i.bodyBgVariant,l=i.bodyBorderVariant,d=i.bodyTextVariant,f=t();i.title&&(f=t(b["a"],{props:Object(n["e"])(b["b"],i)}));var m=t();return i.subTitle&&(m=t(p,{props:Object(n["e"])(u,i),class:["mb-2"]})),t(i.bodyTag,Object(s["a"])(r,{staticClass:"card-body",class:[(a={"card-img-overlay":i.overlay},h(a,"bg-".concat(c),c),h(a,"border-".concat(l),l),h(a,"text-".concat(d),d),a),i.bodyClass]}),[f,m,o])}})},8995:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"container"},[t.roles.isAdmin?a("div",{staticClass:"d-flex justify-content-end"},[a("b-button",{staticClass:"saj-button",attrs:{variant:"primary"},on:{click:function(e){t.$bvModal.show("new-subcore"),t.getCoreId(),t.getSubcore()}}},[t._v(" "+t._s(t.$t("Add New Subcore"))+" ")])],1):t._e(),a("div",[a("b-table",{staticClass:"mt-1 mb-1 saj-subtitle",attrs:{"show-empty":"",items:t.competencyList,fields:t.fields,responsive:"",bordered:""},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-title"},[t._v(t._s(t.$t(e.label)))])]}},{key:"cell(index)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(e.index+1)+" ")])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(subcore)",fn:function(e){return[t._v(" "+t._s(t.isEnglish?e.item.subcore_bi:e.item.subcore_bm)+" ")]}},{key:"cell(description)",fn:function(e){return[t._v(" "+t._s(t.isEnglish?e.item.description_bi:e.item.description_bm)+" ")]}},{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"d-flex justify-content-center"},[t.roles.isAdmin?a("div",[a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",staticStyle:{color:"green"},attrs:{icon:"EditIcon",size:"25"},on:{click:function(a){t.$bvModal.show("edit-subcore"),t.subcoreData=e,t.editSubcore(),t.reload()}}}),a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Delete"),expression:"$t('Delete')",modifiers:{hover:!0,top:!0}}],staticStyle:{color:"red"},attrs:{icon:"Trash2Icon",size:"25"},on:{click:function(a){t.$bvModal.show("delete-subcore"),t.subcoreID=e.item.id,t.getSubcoreId(),t.reload()}}})],1):a("div",[t._v(" "+t._s(t.$t("Not available"))+" ")])])]}}])})],1)])])},s=[],r=a("29a1"),o=a("1947"),c=a("2616"),n=a("2f62"),l={components:{BTable:r["a"],BButton:o["a"]},directives:{"b-tooltip":c["a"]},props:{coreId:{type:Number,default:null},subsId:{type:Number,default:null}},data(){return{subcoreData:null,competencyList:[{subcore:"Subcore 1",description:"Subcore 1 desc"},{subcore:"Subcore 2",description:"Subcore 2 desc"}],fields:[{key:"index",label:"No.",thClass:"text-center"},{key:"subcore",label:"Subcore",thClass:"text-center",tdClass:"text-center"},{key:"description",label:"Description",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],subcoreID:null}},computed:{isEnglish(){return"en"===this.$i18n.locale},...Object(n["c"])(["roles"])},mounted(){this.getSubcore()},methods:{getSubcore(){this.$axios.get(`${this.$baseUrl}/competency_subcore/get_subcores_by_core_id?core_id=${this.coreId}&subsidiary_id=${this.subsId}`).then(t=>{const e=t.data.data;this.competencyList=e.map(t=>({subcore_bi:t.name_bi,subcore_bm:t.name_bm,id:t.id,description_bi:t.description_bi,description_bm:t.description_bm}))})},editSubcore(){this.$emit("emit-subcore-data",this.subcoreData)},getCoreId(){this.$emit("pass-id",this.coreId)},getSubcoreId(){this.$emit("pass-subcore-id",this.subcoreID)}}},b=l,d=a("2877"),u=Object(d["a"])(b,i,s,!1,null,"b9c8f8ac",null);e["a"]=u.exports},"8db9":function(t,e,a){},b885:function(t,e,a){"use strict";a.d(e,"b",(function(){return f})),a.d(e,"a",(function(){return m}));var i=a("2b0e"),s=a("b42e"),r=a("c637"),o=a("a723"),c=a("8690"),n=a("d82f"),l=a("cf75"),b=a("d580");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f=Object(l["d"])(Object(n["m"])(u(u({},Object(l["a"])(b["a"],l["f"].bind(null,"header"))),{},{header:Object(l["c"])(o["t"]),headerClass:Object(l["c"])(o["e"]),headerHtml:Object(l["c"])(o["t"])})),r["l"]),m=i["default"].extend({name:r["l"],functional:!0,props:f,render:function(t,e){var a,i=e.props,r=e.data,o=e.children,n=i.headerBgVariant,l=i.headerBorderVariant,b=i.headerTextVariant;return t(i.headerTag,Object(s["a"])(r,{staticClass:"card-header",class:[i.headerClass,(a={},p(a,"bg-".concat(n),n),p(a,"border-".concat(l),l),p(a,"text-".concat(b),b),a)],domProps:o?{}:Object(c["a"])(i.headerHtml,i.header)}),o)}})},d46c:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"saj-title",attrs:{"no-body":""}},[a("validation-observer",{ref:"validateSubcore"},[a("b-card-header",{staticClass:"p-1 justify-content-center"},[a("h5",{staticClass:"saj-header"},[t._v(" "+t._s(t.isUpdate?t.$t("Edit Behavioural"):t.$t("Add New Behavioural"))+" ")])]),a("b-card-body",[a("div",{staticClass:"col-lg"},[a("div",{staticClass:"card"},[a("b-row",{staticClass:"p-1 mb-2",staticStyle:{color:"black",background:"#f7f7fc","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"15px",height:"100%"}},[t._v(" "+t._s(t.$t("Behavioural"))+" "),a("b-row",{staticClass:"col-12 saj-text p-1 m-0"},[a("b-col",{staticClass:"p-1 d-flex align-items-start",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("In English"))+": ")]),a("b-col",{staticClass:"p-1",attrs:{cols:"10"}},[a("validation-provider",{attrs:{name:t.$t("In English"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.behaviourData.name_bi,expression:"behaviourData.name_bi"}],staticClass:"saj-text form-control flex-grow-1",staticStyle:{height:"120px",border:"1px solid #d8d6de"},attrs:{name:"textarea",rows:"5"},domProps:{value:t.behaviourData.name_bi},on:{input:function(e){e.target.composing||t.$set(t.behaviourData,"name_bi",e.target.value)}}}),t._v(" "),a("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}])})],1),a("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("In Malay"))+": ")]),a("b-col",{staticClass:"p-1",attrs:{cols:"10"}},[a("validation-provider",{attrs:{name:t.$t("In Malay"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.behaviourData.name_bm,expression:"behaviourData.name_bm"}],staticClass:"saj-text form-control flex-grow-1",staticStyle:{height:"120px",border:"1px solid #d8d6de"},attrs:{name:"textarea",rows:"5"},domProps:{value:t.behaviourData.name_bm},on:{input:function(e){e.target.composing||t.$set(t.behaviourData,"name_bm",e.target.value)}}}),t._v(" "),a("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}])})],1)],1)],1),t.isUpdate?a("b-row",{staticClass:"p-1",staticStyle:{color:"black",background:"#f7f7fc","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"15px",height:"100%"}},[t._v(" "+t._s(t.$t("Visibility"))+" "),a("b-row",{staticClass:"col-12 saj-text p-1 m-0"},[a("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"2"}},[t._v(" "+t._s(t.$t("Subsidiary"))+": ")]),a("b-col",[a("div",{staticClass:"pb-1 pl-1",staticStyle:{"background-color":"#fff","background-clip":"padding-box",border:"1px solid #d8d6de","border-radius":"0.357rem"}},t._l(t.selectVisibility,(function(e,i){return a("b-badge",{key:i,staticClass:"mr-1 mt-1",attrs:{variant:"primary"}},[t._v(" "+t._s(e.text)+" ")])})),1)])],1)],1):t._e(),a("div",{staticClass:"d-flex justify-content-center mt-2"},[a("button",{staticClass:"btn btn-close m-1 saj-button",staticStyle:{color:"white",background:"#ff0000"},attrs:{"aria-label":"Close modal"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("button",{staticClass:"btn m-1 saj-button",staticStyle:{color:"white",background:"#0b103c !important","border-color":"#0b103c !important"},attrs:{"aria-label":"submit modal"},on:{click:function(e){t.isUpdate?t.editBehav():t.addBehav()}}},[t._v(" "+t._s(t.$t("Save"))+" ")])])],1)])])],1)],1)],1)},s=[],r=a("205f"),o=a("b885"),c=a("6197"),n=a("a15b"),l=a("b28b"),b=a("e98b"),d=a("7bb1"),u=a("8f03"),p=a("206d"),f={components:{BCard:r["a"],BCardHeader:o["a"],BCardBody:c["a"],BRow:n["a"],BCol:l["a"],ValidationProvider:d["b"],ValidationObserver:d["a"],BBadge:b["a"]},props:{behaviourData:{type:null,default:null},isUpdate:{type:Boolean,default:!0},behaviourId:{type:Number,default:null}},data(){return{required:u["b"],selectVisibility:[],subList:[],subcoreInfo:[],behaviorVisibilityList:[],subsidiaryIdList:[]}},mounted(){this.getSubsidiaryAll()},methods:{close(){this.$emit("close")},getVisibilityBehaviour(){this.$axios.get(`${this.$baseUrl}/competency_behaviour/get_behaviour_by_id?behaviour_id=${this.behaviourData.id}`).then(t=>{const e=t.data.data;this.selectVisibility=e.visible_to_subsidiary_id,this.visibleSub()})},visibleSub(){this.selectVisibility=this.behaviorVisibilityList.filter(t=>this.selectVisibility.includes(t.value))},addBehav(){this.$refs.validateSubcore.validate().then(t=>{if(t){const t=new FormData;t.append("name",this.behaviourData.name_bm),t.append("name_bi",this.behaviourData.name_bi),this.subsidiaryIdList.forEach(e=>{t.append("visible_to_subsidiary_id[]",e)}),this.$axios.post(this.$baseUrl+"/competency_behaviour/create_behaviour_content",t).then(()=>{setTimeout(()=>{this.$toast({component:p["a"],props:{title:this.$t("Behaviour successfully added")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$emit("reload-behaviour"),this.$emit("close")},1e3)})}})},editBehav(){this.$refs.validateSubcore.validate().then(t=>{if(t){const t=new FormData;t.append("behaviour_id",this.behaviourData.id),t.append("name",this.behaviourData.name_bm),t.append("name_bi",this.behaviourData.name_bi),this.subsidiaryIdList.forEach(e=>{t.append("visible_to_subsidiary_id[]",e)}),this.$axios.post(this.$baseUrl+"/competency_behaviour/update_behaviour_content",t).then(()=>{setTimeout(()=>{this.$toast({component:p["a"],props:{title:this.$t("Behaviour successfully updated")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$emit("reload-behaviour"),this.$emit("close")},1e3)})}})},getSubsidiaryAll(){this.$axios.get(this.$baseUrl+"/subsidiary/getAll").then(t=>{this.allSubsideriesName=t.data.data.subsidiaries,this.allSubsideriesName.forEach(t=>{this.behaviorVisibilityList.push({value:t.id,text:t.subsidiary_name})}),this.subsidiaryIdList=this.allSubsideriesName.map(t=>t.id),this.isUpdate&&this.getVisibilityBehaviour()})}}},m=f,h=a("2877"),v=Object(h["a"])(m,i,s,!1,null,null,null);e["a"]=v.exports},d580:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var i=a("2b0e"),s=a("c637"),r=a("a723"),o=a("cf75"),c=Object(o["d"])({bgVariant:Object(o["c"])(r["t"]),borderVariant:Object(o["c"])(r["t"]),tag:Object(o["c"])(r["t"],"div"),textVariant:Object(o["c"])(r["t"])},s["i"]);i["default"].extend({props:c})},fb41:function(t,e,a){"use strict";a("8db9")}}]);
//# sourceMappingURL=chunk-b881814e.c0d95f22.js.map