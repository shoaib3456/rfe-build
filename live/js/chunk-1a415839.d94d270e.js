(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a415839"],{"11de":function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("2b0e"),i=a("b42e"),r=a("c637"),n=a("a723"),o=a("cf75"),l=Object(o["d"])({id:Object(o["c"])(n["t"]),inline:Object(o["c"])(n["g"],!1),novalidate:Object(o["c"])(n["g"],!1),validated:Object(o["c"])(n["g"],!1)},r["x"]),c=s["default"].extend({name:r["x"],functional:!0,props:l,render:function(t,e){var a=e.props,s=e.data,r=e.children;return t("form",Object(i["a"])(s,{class:{"form-inline":a.inline,"was-validated":a.validated},attrs:{id:a.id,novalidate:a.novalidate}}),r)}})},"13a8":function(t,e,a){},"16b1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center p-1"},[a("div",{staticClass:"d-flex flex-column align-items-center"},[a("feather-icon",{style:"color: "+t.iconColor,attrs:{icon:t.icon,size:"56"}}),a("h2",{staticClass:"mt-1",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.$t(t.title))+" ")]),a("p",{staticStyle:{"font-size":"1rem"}},[t._v(" "+t._s(t.subtitle)+" ")])],1),a("div",{staticClass:"mt-1"},[t.showConfirm?a("b-button",{staticClass:"mr-1 saj-button",staticStyle:{"background-color":"rgb(11, 16, 60) !important"},on:{click:function(e){return t.confirm()}}},[t._v(" "+t._s(t.$t(t.confirmBtn))+" ")]):t._e(),t.showCancel?a("b-button",{staticClass:"confirmButton saj-button",on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t(t.cancelBtn))+" ")]):t._e()],1)])},i=[],r=a("1947"),n={components:{BButton:r["a"]},props:{title:{type:String,default:"Are you sure to delete?"},subtitle:{type:String,default:null},icon:{type:String,default:"AlertCircleIcon"},iconColor:{type:String,default:"#FF9F43"},confirmBtn:{type:String,default:"Submit"},cancelBtn:{type:String,default:"Cancel"},showConfirm:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0}},data(){return{}},mounted(){},methods:{cancel(){this.$emit("cancel")},confirm(){this.$emit("confirm")}}},o=n,l=(a("fb41"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"476a0589",null);e["a"]=c.exports},"1dfe":function(t,e,a){"use strict";a("45fa")},"227c":function(t,e,a){"use strict";a("ed47")},"26d2":function(t,e,a){"use strict";a.d(e,"a",(function(){return X}));var s,i=a("2b0e"),r=a("c637"),n=a("0056"),o=a("a723"),l=a("6d40"),c=a("906c"),d=a("7b1e"),u=a("a8c8"),p=a("3a58"),m=a("d82f"),b=a("cf75"),h=a("9bfa"),f=a("9b76"),v=a("2326"),g=a("6b77"),y=a("58f2"),_=a("fa73"),x=a("686b"),j=a("8c18"),$=a("aa59");function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function O(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(Object(a),!0).forEach((function(e){w(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function w(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var D=Object(y["a"])("value",{type:o["i"],defaultValue:null,validator:function(t){return!(!Object(d["g"])(t)&&Object(p["b"])(t,0)<1)||(Object(x["a"])('"v-model" value must be a number greater than "0"',r["db"]),!1)}}),k=D.mixin,S=D.props,P=D.prop,I=D.event,N=3,E=5,B=function(t,e){return Object(v["c"])(e,(function(e,a){return{number:t+a,classes:null}}))},F=function(t){var e=Object(p["b"])(t)||1;return e<1?E:e},L=function(t,e){var a=Object(p["b"])(t)||1;return a>e?e:a<1?1:a},z=function(t){if(t.keyCode===h["j"])return Object(g["f"])(t,{immediatePropagation:!0}),t.currentTarget.click(),!1},R=Object(b["d"])(Object(m["m"])(O(O({},S),{},{align:Object(b["c"])(o["t"],"left"),ariaLabel:Object(b["c"])(o["t"],"Pagination"),disabled:Object(b["c"])(o["g"],!1),ellipsisClass:Object(b["c"])(o["e"]),ellipsisText:Object(b["c"])(o["t"],"…"),firstClass:Object(b["c"])(o["e"]),firstNumber:Object(b["c"])(o["g"],!1),firstText:Object(b["c"])(o["t"],"«"),hideEllipsis:Object(b["c"])(o["g"],!1),hideGotoEndButtons:Object(b["c"])(o["g"],!1),labelFirstPage:Object(b["c"])(o["t"],"Go to first page"),labelLastPage:Object(b["c"])(o["t"],"Go to last page"),labelNextPage:Object(b["c"])(o["t"],"Go to next page"),labelPage:Object(b["c"])(o["l"],"Go to page"),labelPrevPage:Object(b["c"])(o["t"],"Go to previous page"),lastClass:Object(b["c"])(o["e"]),lastNumber:Object(b["c"])(o["g"],!1),lastText:Object(b["c"])(o["t"],"»"),limit:Object(b["c"])(o["o"],E,(function(t){return!(Object(p["b"])(t,0)<1)||(Object(x["a"])('Prop "limit" must be a number greater than "0"',r["db"]),!1)})),nextClass:Object(b["c"])(o["e"]),nextText:Object(b["c"])(o["t"],"›"),pageClass:Object(b["c"])(o["e"]),pills:Object(b["c"])(o["g"],!1),prevClass:Object(b["c"])(o["e"]),prevText:Object(b["c"])(o["t"],"‹"),size:Object(b["c"])(o["t"])})),"pagination"),T=i["default"].extend({mixins:[k,j["a"]],props:R,data:function(){var t=Object(p["b"])(this[P],0);return t=t>0?t:-1,{currentPage:t,localNumberOfPages:1,localLimit:E}},computed:{btnSize:function(){var t=this.size;return t?"pagination-".concat(t):""},alignment:function(){var t=this.align;return"center"===t?"justify-content-center":"end"===t||"right"===t?"justify-content-end":"fill"===t?"text-center":""},styleClass:function(){return this.pills?"b-pagination-pills":""},computedCurrentPage:function(){return L(this.currentPage,this.localNumberOfPages)},paginationParams:function(){var t=this.localLimit,e=this.localNumberOfPages,a=this.computedCurrentPage,s=this.hideEllipsis,i=this.firstNumber,r=this.lastNumber,n=!1,o=!1,l=t,c=1;e<=t?l=e:a<t-1&&t>N?(s&&!r||(o=!0,l=t-(i?0:1)),l=Object(u["d"])(l,t)):e-a+2<t&&t>N?(s&&!i||(n=!0,l=t-(r?0:1)),c=e-l+1):(t>N&&(l=t-(s?0:2),n=!(s&&!i),o=!(s&&!r)),c=a-Object(u["b"])(l/2)),c<1?(c=1,n=!1):c>e-l&&(c=e-l+1,o=!1),n&&i&&c<4&&(l+=2,c=1,n=!1);var d=c+l-1;return o&&r&&d>e-3&&(l+=d===e-2?2:3,o=!1),t<=N&&(i&&1===c?l=Object(u["d"])(l+1,e,t+1):r&&e===c+l-1&&(c=Object(u["c"])(c-1,1),l=Object(u["d"])(e-c+1,e,t+1))),l=Object(u["d"])(l,e-c+1),{showFirstDots:n,showLastDots:o,numberOfLinks:l,startNumber:c}},pageList:function(){var t=this.paginationParams,e=t.numberOfLinks,a=t.startNumber,s=this.computedCurrentPage,i=B(a,e);if(i.length>3){var r=s-a,n="bv-d-xs-down-none";if(0===r)for(var o=3;o<i.length;o++)i[o].classes=n;else if(r===i.length-1)for(var l=0;l<i.length-3;l++)i[l].classes=n;else{for(var c=0;c<r-1;c++)i[c].classes=n;for(var d=i.length-1;d>r+1;d--)i[d].classes=n}}return i}},watch:(s={},w(s,P,(function(t,e){t!==e&&(this.currentPage=L(t,this.localNumberOfPages))})),w(s,"currentPage",(function(t,e){t!==e&&this.$emit(I,t>0?t:null)})),w(s,"limit",(function(t,e){t!==e&&(this.localLimit=F(t))})),s),created:function(){var t=this;this.localLimit=F(this.limit),this.$nextTick((function(){t.currentPage=t.currentPage>t.localNumberOfPages?t.localNumberOfPages:t.currentPage}))},methods:{handleKeyNav:function(t){var e=t.keyCode,a=t.shiftKey;this.isNav||(e===h["f"]||e===h["k"]?(Object(g["f"])(t,{propagation:!1}),a?this.focusFirst():this.focusPrev()):e!==h["i"]&&e!==h["a"]||(Object(g["f"])(t,{propagation:!1}),a?this.focusLast():this.focusNext()))},getButtons:function(){return Object(c["D"])("button.page-link, a.page-link",this.$el).filter((function(t){return Object(c["u"])(t)}))},focusCurrent:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().find((function(e){return Object(p["b"])(Object(c["h"])(e,"aria-posinset"),0)===t.computedCurrentPage}));Object(c["d"])(e)||t.focusFirst()}))},focusFirst:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().find((function(t){return!Object(c["r"])(t)}));Object(c["d"])(e)}))},focusLast:function(){var t=this;this.$nextTick((function(){var e=t.getButtons().reverse().find((function(t){return!Object(c["r"])(t)}));Object(c["d"])(e)}))},focusPrev:function(){var t=this;this.$nextTick((function(){var e=t.getButtons(),a=e.indexOf(Object(c["g"])());a>0&&!Object(c["r"])(e[a-1])&&Object(c["d"])(e[a-1])}))},focusNext:function(){var t=this;this.$nextTick((function(){var e=t.getButtons(),a=e.indexOf(Object(c["g"])());a<e.length-1&&!Object(c["r"])(e[a+1])&&Object(c["d"])(e[a+1])}))}},render:function(t){var e=this,a=this.disabled,s=this.labelPage,i=this.ariaLabel,r=this.isNav,n=this.localNumberOfPages,o=this.computedCurrentPage,l=this.pageList.map((function(t){return t.number})),c=this.paginationParams,u=c.showFirstDots,p=c.showLastDots,m="fill"===this.align,h=[],v=function(t){return t===o},g=this.currentPage<1,y=function(s,i,o,l,c,d,u){var p=a||v(d)||g||s<1||s>n,b=s<1?1:s>n?n:s,h={disabled:p,page:b,index:b-1},f=e.normalizeSlot(o,h)||Object(_["g"])(l)||t(),y=t(p?"span":r?$["a"]:"button",{staticClass:"page-link",class:{"flex-grow-1":!r&&!p&&m},props:p||!r?{}:e.linkProps(s),attrs:{role:r?null:"menuitem",type:r||p?null:"button",tabindex:p||r?null:"-1","aria-label":i,"aria-controls":e.ariaControls||null,"aria-disabled":p?"true":null},on:p?{}:{"!click":function(t){e.onClick(t,s)},keydown:z}},[f]);return t("li",{key:u,staticClass:"page-item",class:[{disabled:p,"flex-fill":m,"d-flex":m&&!r&&!p},c],attrs:{role:r?null:"presentation","aria-hidden":p?"true":null}},[y])},x=function(a){return t("li",{staticClass:"page-item",class:["disabled","bv-d-xs-down-none",m?"flex-fill":"",e.ellipsisClass],attrs:{role:"separator"},key:"ellipsis-".concat(a?"last":"first")},[t("span",{staticClass:"page-link"},[e.normalizeSlot(f["j"])||Object(_["g"])(e.ellipsisText)||t()])])},j=function(i,o){var l=i.number,c=v(l)&&!g,u=a?null:c||g&&0===o?"0":"-1",p={role:r?null:"menuitemradio",type:r||a?null:"button","aria-disabled":a?"true":null,"aria-controls":e.ariaControls||null,"aria-label":Object(b["b"])(s)?s(l):"".concat(Object(d["f"])(s)?s():s," ").concat(l),"aria-checked":r?null:c?"true":"false","aria-current":r&&c?"page":null,"aria-posinset":r?null:l,"aria-setsize":r?null:n,tabindex:r?null:u},h=Object(_["g"])(e.makePage(l)),y={page:l,index:l-1,content:h,active:c,disabled:a},x=t(a?"span":r?$["a"]:"button",{props:a||!r?{}:e.linkProps(l),staticClass:"page-link",class:{"flex-grow-1":!r&&!a&&m},attrs:p,on:a?{}:{"!click":function(t){e.onClick(t,l)},keydown:z}},[e.normalizeSlot(f["I"],y)||h]);return t("li",{staticClass:"page-item",class:[{disabled:a,active:c,"flex-fill":m,"d-flex":m&&!r&&!a},i.classes,e.pageClass],attrs:{role:r?null:"presentation"},key:"page-".concat(l)},[x])},C=t();this.firstNumber||this.hideGotoEndButtons||(C=y(1,this.labelFirstPage,f["o"],this.firstText,this.firstClass,1,"pagination-goto-first")),h.push(C),h.push(y(o-1,this.labelPrevPage,f["L"],this.prevText,this.prevClass,1,"pagination-goto-prev")),h.push(this.firstNumber&&1!==l[0]?j({number:1},0):t()),h.push(u?x(!1):t()),this.pageList.forEach((function(t,a){var s=u&&e.firstNumber&&1!==l[0]?1:0;h.push(j(t,a+s))})),h.push(p?x(!0):t()),h.push(this.lastNumber&&l[l.length-1]!==n?j({number:n},-1):t()),h.push(y(o+1,this.labelNextPage,f["G"],this.nextText,this.nextClass,n,"pagination-goto-next"));var O=t();this.lastNumber||this.hideGotoEndButtons||(O=y(n,this.labelLastPage,f["y"],this.lastText,this.lastClass,n,"pagination-goto-last")),h.push(O);var w=t("ul",{staticClass:"pagination",class:["b-pagination",this.btnSize,this.alignment,this.styleClass],attrs:{role:r?null:"menubar","aria-disabled":a?"true":"false","aria-label":r?null:i||null},on:r?{}:{keydown:this.handleKeyNav},ref:"ul"},h);return r?t("nav",{attrs:{"aria-disabled":a?"true":null,"aria-hidden":a?"true":"false","aria-label":r&&i||null}},[w]):w}});function M(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function U(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?M(Object(a),!0).forEach((function(e){A(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function A(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var q=20,H=0,W=function(t){return Object(u["c"])(Object(p["b"])(t)||q,1)},V=function(t){return Object(u["c"])(Object(p["b"])(t)||H,0)},G=Object(b["d"])(Object(m["m"])(U(U({},R),{},{ariaControls:Object(b["c"])(o["t"]),perPage:Object(b["c"])(o["o"],q),totalRows:Object(b["c"])(o["o"],H)})),r["db"]),X=i["default"].extend({name:r["db"],mixins:[T],props:G,computed:{numberOfPages:function(){var t=Object(u["a"])(V(this.totalRows)/W(this.perPage));return t<1?1:t},pageSizeNumberOfPages:function(){return{perPage:W(this.perPage),totalRows:V(this.totalRows),numberOfPages:this.numberOfPages}}},watch:{pageSizeNumberOfPages:function(t,e){Object(d["p"])(e)||(t.perPage!==e.perPage&&t.totalRows===e.totalRows||t.numberOfPages!==e.numberOfPages&&this.currentPage>t.numberOfPages)&&(this.currentPage=1),this.localNumberOfPages=t.numberOfPages}},created:function(){var t=this;this.localNumberOfPages=this.numberOfPages;var e=Object(p["b"])(this[P],0);e>0?this.currentPage=e:this.$nextTick((function(){t.currentPage=0}))},methods:{onClick:function(t,e){var a=this;if(e!==this.currentPage){var s=t.target,i=new l["a"](n["C"],{cancelable:!0,vueTarget:this,target:s});this.$emit(i.type,i,e),i.defaultPrevented||(this.currentPage=e,this.$emit(n["d"],this.currentPage),this.$nextTick((function(){Object(c["u"])(s)&&a.$el.contains(s)?Object(c["d"])(s):a.focusCurrent()})))}},makePage:function(t){return t},linkProps:function(){return{}}}})},"2bcd":function(t,e,a){"use strict";a("b0bc")},"45fa":function(t,e,a){},"46bc":function(t,e,a){"use strict";a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return d}));var s=a("2b0e"),i=a("b42e"),r=a("c637"),n=a("a723"),o=a("cf75"),l=a("d190"),c=Object(o["d"])({append:Object(o["c"])(n["g"],!1),id:Object(o["c"])(n["t"]),isText:Object(o["c"])(n["g"],!1),tag:Object(o["c"])(n["t"],"div")},r["T"]),d=s["default"].extend({name:r["T"],functional:!0,props:c,render:function(t,e){var a=e.props,s=e.data,r=e.children,n=a.append;return t(a.tag,Object(i["a"])(s,{class:{"input-group-append":n,"input-group-prepend":!n},attrs:{id:a.id}}),a.isText?[t(l["a"],r)]:r)}})},"4c62":function(t,e,a){"use strict";a("a99b")},"5e12":function(t,e,a){"use strict";a.d(e,"a",(function(){return j}));var s=a("2b0e"),i=a("b42e"),r=a("c637"),n=a("a723"),o=a("9b76"),l=a("8690"),c=a("365c"),d=a("cf75"),u=a("ccc0"),p=a("d82f"),m=a("46bc");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v=Object(d["d"])(Object(p["j"])(m["b"],["append"]),r["V"]),g=s["default"].extend({name:r["V"],functional:!0,props:v,render:function(t,e){var a=e.props,s=e.data,r=e.children;return t(m["a"],Object(i["a"])(s,{props:h(h({},a),{},{append:!1})}),r)}}),y=a("d190");function _(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var x=Object(d["d"])({append:Object(d["c"])(n["t"]),appendHtml:Object(d["c"])(n["t"]),id:Object(d["c"])(n["t"]),prepend:Object(d["c"])(n["t"]),prependHtml:Object(d["c"])(n["t"]),size:Object(d["c"])(n["t"]),tag:Object(d["c"])(n["t"],"div")},r["S"]),j=s["default"].extend({name:r["S"],functional:!0,props:x,render:function(t,e){var a=e.props,s=e.data,r=e.slots,n=e.scopedSlots,d=a.prepend,p=a.prependHtml,m=a.append,b=a.appendHtml,h=a.size,f=n||{},v=r(),x={},j=t(),$=Object(c["a"])(o["K"],f,v);($||d||p)&&(j=t(g,[$?Object(c["b"])(o["K"],x,f,v):t(y["a"],{domProps:Object(l["a"])(p,d)})]));var C=t(),O=Object(c["a"])(o["a"],f,v);return(O||m||b)&&(C=t(u["a"],[O?Object(c["b"])(o["a"],x,f,v):t(y["a"],{domProps:Object(l["a"])(b,m)})])),t(a.tag,Object(i["a"])(s,{staticClass:"input-group",class:_({},"input-group-".concat(h),h),attrs:{id:a.id||null,role:"group"}}),[j,Object(c["b"])(o["g"],x,f,v),C])}})},"6a32":function(t,e,a){"use strict";a("a578")},"83d6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-1 modalScroll",staticStyle:{width:"auto",height:"auto"}},[a("div",{staticClass:"saj-title d-flex justify-content-start mb-1",staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(t.$t("Work Location Info"))+" ")]),a("validation-observer",{ref:"simpleRules"},[a("b-form",[a("b-form-group",{staticClass:"saj-text",attrs:{label:t.$t("Work Location Name")}},[a("validation-provider",{attrs:{name:t.$t("Work Location Name"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-form-text",attrs:{readonly:t.roles.isHR,placeholder:t.$t("Enter Work Location's Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)],1),a("b-form",{staticClass:"mt-2"},[a("b-form-group",{staticClass:"saj-text",attrs:{label:t.$t("Description")}},[a("b-form-textarea",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Description"),readonly:t.roles.isHR,rows:"6"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}})],1)],1)],1),a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn btn-close mt-1 ml-1 mb-1 saj-button",staticStyle:{color:"white",background:"#ff0000"},attrs:{"aria-label":"Close modal"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("Back"))+" ")]),a("button",{staticClass:"btn mt-1 ml-1 mb-1 saj-button",staticStyle:{color:"white",background:"#0b103c !important","border-color":"#0b103c !important"},style:t.roles.isHR?"display: none;":"",attrs:{"aria-label":"submit modal"},on:{click:function(e){t.isUpdate?t.updateBranch():t.createBranch()}}},[t._v(" "+t._s(t.$t("Save"))+" ")])])],1)},i=[],r=a("11de"),n=a("4797"),o=a("8226"),l=a("9c7d"),c=a("7bb1"),d=a("8f03"),u=a("206d"),p=a("2f62"),m={components:{BForm:r["a"],BFormInput:n["a"],BFormGroup:o["a"],BFormTextarea:l["a"],ValidationProvider:c["b"],ValidationObserver:c["a"]},props:{branchData:{type:Object,default:()=>{}},isUpdate:{type:Boolean,default:!1},branchId:{type:Number,default:null}},data(){return{name:void 0!==this.branchData?this.branchData.name:null,details:void 0!==this.branchData?"null"!==this.branchData.details?this.branchData.details:"-":null,required:d["b"]}},computed:{...Object(p["c"])(["roles"])},beforeMount(){this.id=this.$route.params.id},mounted(){},methods:{close(){this.$emit("close")},createBranch(){this.$refs.simpleRules.validate().then(t=>{if(t){const t=new FormData;t.append("company_id",this.id),t.append("name",this.name),t.append("details",this.details),this.$axios.post(this.$baseUrl+"/branch/store_branch",t).then(()=>{this.$emit("close"),this.$emit("add-worklocation"),setTimeout(()=>{this.$toast({component:u["a"],props:{title:this.$i18n.t("Work Location successfully added")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},1e3)})}})},updateBranch(){const t=new FormData;t.append("company_id",this.id),t.append("branch_id",this.branchData.id),t.append("name",this.name),t.append("details",""===this.details?"-":this.details),this.$axios.post(this.$baseUrl+"/branch/update_branch",t).then(()=>{this.$emit("close"),this.$emit("update-worklocation"),setTimeout(()=>{this.$toast({component:u["a"],props:{title:this.$t("Work location info successfully updated")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},1e3)})}}},b=m,h=(a("4c62"),a("2877")),f=Object(h["a"])(b,s,i,!1,null,null,null);e["default"]=f.exports},"8db9":function(t,e,a){},"9b03":function(t,e,a){"use strict";a.d(e,"a",(function(){return g}));var s=a("2b0e"),i=a("c637"),r=a("0056"),n=a("a723"),o=a("9b76"),l=a("3a58"),c=a("8c18"),d=a("cf75"),u=a("01e3"),p=a("ce2a");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={top:0,left:0,bottom:0,right:0},v=Object(d["d"])({bgColor:Object(d["c"])(n["t"]),blur:Object(d["c"])(n["t"],"2px"),fixed:Object(d["c"])(n["g"],!1),noCenter:Object(d["c"])(n["g"],!1),noFade:Object(d["c"])(n["g"],!1),noWrap:Object(d["c"])(n["g"],!1),opacity:Object(d["c"])(n["o"],.85,(function(t){var e=Object(l["a"])(t,0);return e>=0&&e<=1})),overlayTag:Object(d["c"])(n["t"],"div"),rounded:Object(d["c"])(n["j"],!1),show:Object(d["c"])(n["g"],!1),spinnerSmall:Object(d["c"])(n["g"],!1),spinnerType:Object(d["c"])(n["t"],"border"),spinnerVariant:Object(d["c"])(n["t"]),variant:Object(d["c"])(n["t"],"light"),wrapTag:Object(d["c"])(n["t"],"div"),zIndex:Object(d["c"])(n["o"],10)},i["cb"]),g=s["default"].extend({name:i["cb"],mixins:[c["a"]],props:v,computed:{computedRounded:function(){var t=this.rounded;return!0===t||""===t?"rounded":t?"rounded-".concat(t):""},computedVariant:function(){var t=this.variant;return t&&!this.bgColor?"bg-".concat(t):""},slotScope:function(){return{spinnerType:this.spinnerType||null,spinnerVariant:this.spinnerVariant||null,spinnerSmall:this.spinnerSmall}}},methods:{defaultOverlayFn:function(t){var e=t.spinnerType,a=t.spinnerVariant,s=t.spinnerSmall;return this.$createElement(u["a"],{props:{type:e,variant:a,small:s}})}},render:function(t){var e=this,a=this.show,s=this.fixed,i=this.noFade,n=this.noWrap,l=this.slotScope,c=t();if(a){var d=t("div",{staticClass:"position-absolute",class:[this.computedVariant,this.computedRounded],style:b(b({},f),{},{opacity:this.opacity,backgroundColor:this.bgColor||null,backdropFilter:this.blur?"blur(".concat(this.blur,")"):null})}),u=t("div",{staticClass:"position-absolute",style:this.noCenter?b({},f):{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}},[this.normalizeSlot(o["H"],l)||this.defaultOverlayFn(l)]);c=t(this.overlayTag,{staticClass:"b-overlay",class:{"position-absolute":!n||n&&!s,"position-fixed":n&&s},style:b(b({},f),{},{zIndex:this.zIndex||10}),on:{click:function(t){return e.$emit(r["f"],t)}},key:"overlay"},[d,u])}return c=t(p["a"],{props:{noFade:i,appear:!0},on:{"after-enter":function(){return e.$emit(r["P"])},"after-leave":function(){return e.$emit(r["s"])}}},[c]),n?c:t(this.wrapTag,{staticClass:"b-overlay-wrap position-relative",attrs:{"aria-busy":a?"true":null}},n?[c]:[this.normalizeSlot(),c])}})},"9c7d":function(t,e,a){"use strict";a.d(e,"a",(function(){return z}));var s=a("2b0e"),i=a("c637"),r=a("a723"),n=a("906c"),o=a("7b1e"),l=a("a8c8"),c=a("3a58"),d=a("d82f"),u=a("cf75"),p=a("dde7"),m=a("06d9"),b=a("ad47"),h=a("d520"),f=a("40fc"),v=a("1f1e"),g=a("90ef"),y=a("602d"),_=a("bc9a"),x=a("992e"),j=a("3c21");function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function O(t,e,a){return e&&C(t.prototype,e),a&&C(t,a),t}var w="__bv__visibility_observer",D=function(){function t(e,a,s){$(this,t),this.el=e,this.callback=a.callback,this.margin=a.margin||0,this.once=a.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver(s)}return O(t,[{key:"createObserver",value:function(t){var e=this;if(this.observer&&this.stop(),!this.doneOnce&&Object(o["f"])(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(a){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}t.context.$nextTick((function(){Object(n["B"])((function(){e.observer&&e.observer.observe(e.el)}))}))}}},{key:"handler",value:function(t){var e=t?t[0]:{},a=Boolean(e.isIntersecting||e.intersectionRatio>0);a!==this.visible&&(this.visible=a,this.callback(a),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}}]),t}(),k=function(t){var e=t[w];e&&e.stop&&e.stop(),delete t[w]},S=function(t,e,a){var s=e.value,i=e.modifiers,r={margin:"0px",once:!1,callback:s};Object(d["h"])(i).forEach((function(t){x["d"].test(t)?r.margin="".concat(t,"px"):"once"===t.toLowerCase()&&(r.once=!0)})),k(t),t[w]=new D(t,r,a),t[w]._prevModifiers=Object(d["b"])(i)},P=function(t,e,a){var s=e.value,i=e.oldValue,r=e.modifiers;r=Object(d["b"])(r),!t||s===i&&t[w]&&Object(j["a"])(r,t[w]._prevModifiers)||S(t,{value:s,modifiers:r},a)},I=function(t){k(t)},N={bind:S,componentUpdated:P,unbind:I};function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function B(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(Object(a),!0).forEach((function(e){F(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function F(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var L=Object(u["d"])(Object(d["m"])(B(B(B(B(B(B({},g["b"]),p["b"]),b["b"]),h["b"]),f["b"]),{},{maxRows:Object(u["c"])(r["o"]),noAutoShrink:Object(u["c"])(r["g"],!1),noResize:Object(u["c"])(r["g"],!1),rows:Object(u["c"])(r["o"],2),wrap:Object(u["c"])(r["t"],"soft")})),i["N"]),z=s["default"].extend({name:i["N"],directives:{"b-visible":N},mixins:[_["a"],g["a"],y["a"],p["a"],b["a"],h["a"],f["a"],m["a"],v["a"]],props:L,data:function(){return{heightInPx:null}},computed:{computedStyle:function(){var t={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(t.height=this.heightInPx,t.overflowY="scroll"),t},computedMinRows:function(){return Object(l["c"])(Object(c["b"])(this.rows,2),2)},computedMaxRows:function(){return Object(l["c"])(this.computedMinRows,Object(c["b"])(this.maxRows,0))},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null},computedAttrs:function(){var t=this.disabled,e=this.required;return{id:this.safeId(),name:this.name||null,form:this.form||null,disabled:t,placeholder:this.placeholder||null,required:e,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return B(B({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{localValue:function(){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(t){t&&this.$nextTick(this.setHeight)},setHeight:function(){var t=this;this.$nextTick((function(){Object(n["B"])((function(){t.heightInPx=t.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!Object(o["g"])(this.computedRows))return null;var t=this.$el;if(!Object(n["u"])(t))return null;var e=Object(n["k"])(t),a=Object(c["a"])(e.lineHeight,1),s=Object(c["a"])(e.borderTopWidth,0)+Object(c["a"])(e.borderBottomWidth,0),i=Object(c["a"])(e.paddingTop,0)+Object(c["a"])(e.paddingBottom,0),r=s+i,d=a*this.computedMinRows+r,u=Object(n["m"])(t,"height")||e.height;Object(n["F"])(t,"height","auto");var p=t.scrollHeight;Object(n["F"])(t,"height",u);var m=Object(l["c"])((p-i)/a,2),b=Object(l["d"])(Object(l["c"])(m,this.computedMinRows),this.computedMaxRows),h=Object(l["c"])(Object(l["a"])(b*a+r),d);return this.noAutoShrink&&Object(c["a"])(u,0)>h?u:"".concat(h,"px")}},render:function(t){return t("textarea",{class:this.computedClass,style:this.computedStyle,directives:[{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners,ref:"input"})}})},a578:function(t,e,a){},a99b:function(t,e,a){},b0bc:function(t,e,a){},c43f:function(t,e,a){"use strict";a.d(e,"a",(function(){return W}));var s,i=a("2b0e"),r=a("c637"),n=a("e863"),o=a("0056"),l=a("a723"),c=a("9b76"),d=a("992e"),u=a("ca88"),p=a("2326"),m=a("c9a9"),b=a("906c"),h=a("6b77"),f=a("6c06"),v=a("7b1e"),g=a("3c21"),y=a("58f2"),_=a("d82f"),x=a("cf75"),j=a("fa73"),$=a("686b"),C=a("493b"),O=a("dde7"),w=a("a953"),D=a("d520"),k=a("90ef"),S=a("8c18"),P=a("ad47");function I(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?I(Object(a),!0).forEach((function(e){E(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function E(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var B=Object(y["a"])("value",{type:[l["b"],u["b"]],defaultValue:null,validator:function(t){return""===t?(Object($["a"])(T,r["z"]),!0):Object(v["p"])(t)||M(t)}}),F=B.mixin,L=B.props,z=B.prop,R=B.event,T='Setting "value"/"v-model" to an empty string for reset is deprecated. Set to "null" instead.',M=function t(e){return Object(v["e"])(e)||Object(v["a"])(e)&&e.every((function(e){return t(e)}))},U=function(t){return Object(v["f"])(t.getAsEntry)?t.getAsEntry():Object(v["f"])(t.webkitGetAsEntry)?t.webkitGetAsEntry():null},A=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(Object(p["f"])(t).filter((function(t){return"file"===t.kind})).map((function(t){var a=U(t);if(a){if(a.isDirectory&&e)return q(a.createReader(),"".concat(a.name,"/"));if(a.isFile)return new Promise((function(t){a.file((function(e){e.$path="",t(e)}))}))}return null})).filter(f["a"]))},q=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(s){var i=[],r=function r(){e.readEntries((function(e){0===e.length?s(Promise.all(i).then((function(t){return Object(p["d"])(t)}))):(i.push(Promise.all(e.map((function(e){if(e){if(e.isDirectory)return t(e.createReader(),"".concat(a).concat(e.name,"/"));if(e.isFile)return new Promise((function(t){e.file((function(e){e.$path="".concat(a).concat(e.name),t(e)}))}))}return null})).filter(f["a"]))),r())}))};r()}))},H=Object(x["d"])(Object(_["m"])(N(N(N(N(N(N(N({},k["b"]),L),O["b"]),w["b"]),D["b"]),P["b"]),{},{accept:Object(x["c"])(l["t"],""),browseText:Object(x["c"])(l["t"],"Browse"),capture:Object(x["c"])(l["g"],!1),directory:Object(x["c"])(l["g"],!1),dropPlaceholder:Object(x["c"])(l["t"],"Drop files here"),fileNameFormatter:Object(x["c"])(l["k"]),multiple:Object(x["c"])(l["g"],!1),noDrop:Object(x["c"])(l["g"],!1),noDropPlaceholder:Object(x["c"])(l["t"],"Not allowed"),noTraverse:Object(x["c"])(l["g"],!1),placeholder:Object(x["c"])(l["t"],"No file chosen")})),r["z"]),W=i["default"].extend({name:r["z"],mixins:[C["a"],k["a"],F,S["a"],O["a"],D["a"],w["a"],S["a"]],inheritAttrs:!1,props:H,data:function(){return{files:[],dragging:!1,dropAllowed:!this.noDrop,hasFocus:!1}},computed:{computedAccept:function(){var t=this.accept;return t=(t||"").trim().split(/[,\s]+/).filter(f["a"]),0===t.length?null:t.map((function(t){var e="name",a="^",s="$";d["g"].test(t)?a="":(e="type",d["r"].test(t)&&(s=".+$",t=t.slice(0,-1))),t=Object(j["a"])(t);var i=new RegExp("".concat(a).concat(t).concat(s));return{rx:i,prop:e}}))},computedCapture:function(){var t=this.capture;return!0===t||""===t||(t||null)},computedAttrs:function(){var t=this.name,e=this.disabled,a=this.required,s=this.form,i=this.computedCapture,r=this.accept,n=this.multiple,o=this.directory;return N(N({},this.bvAttrs),{},{type:"file",id:this.safeId(),name:t,disabled:e,required:a,form:s||null,capture:i,accept:r||null,multiple:n,directory:o,webkitdirectory:o,"aria-required":a?"true":null})},computedFileNameFormatter:function(){var t=this.fileNameFormatter;return Object(x["b"])(t)?t:this.defaultFileNameFormatter},clonedFiles:function(){return Object(m["a"])(this.files)},flattenedFiles:function(){return Object(p["e"])(this.files)},fileNames:function(){return this.flattenedFiles.map((function(t){return t.name}))},labelContent:function(){if(this.dragging&&!this.noDrop)return this.normalizeSlot(c["i"],{allowed:this.dropAllowed})||(this.dropAllowed?this.dropPlaceholder:this.$createElement("span",{staticClass:"text-danger"},this.noDropPlaceholder));if(0===this.files.length)return this.normalizeSlot(c["J"])||this.placeholder;var t=this.flattenedFiles,e=this.clonedFiles,a=this.fileNames,s=this.computedFileNameFormatter;return this.hasNormalizedSlot(c["m"])?this.normalizeSlot(c["m"],{files:t,filesTraversed:e,names:a}):s(t,e,a)}},watch:(s={},E(s,z,(function(t){(!t||Object(v["a"])(t)&&0===t.length)&&this.reset()})),E(s,"files",(function(t,e){if(!Object(g["a"])(t,e)){var a=this.multiple,s=this.noTraverse,i=!a||s?Object(p["e"])(t):t;this.$emit(R,a?i:i[0]||null)}})),s),created:function(){this.$_form=null},mounted:function(){var t=Object(b["e"])("form",this.$el);t&&(Object(h["b"])(t,"reset",this.reset,o["U"]),this.$_form=t)},beforeDestroy:function(){var t=this.$_form;t&&Object(h["a"])(t,"reset",this.reset,o["U"])},methods:{isFileValid:function(t){if(!t)return!1;var e=this.computedAccept;return!e||e.some((function(e){return e.rx.test(t[e.prop])}))},isFilesArrayValid:function(t){var e=this;return Object(v["a"])(t)?t.every((function(t){return e.isFileValid(t)})):this.isFileValid(t)},defaultFileNameFormatter:function(t,e,a){return a.join(", ")},setFiles:function(t){this.dropAllowed=!this.noDrop,this.dragging=!1,this.files=this.multiple?this.directory?t:Object(p["e"])(t):Object(p["e"])(t).slice(0,1)},setInputFiles:function(t){try{var e=new ClipboardEvent("").clipboardData||new DataTransfer;Object(p["e"])(Object(m["a"])(t)).forEach((function(t){delete t.$path,e.items.add(t)})),this.$refs.input.files=e.files}catch(a){}},reset:function(){try{var t=this.$refs.input;t.value="",t.type="",t.type="file"}catch(e){}this.files=[]},handleFiles:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var a=t.filter(this.isFilesArrayValid);a.length>0&&(this.setFiles(a),this.setInputFiles(a))}else this.setFiles(t)},focusHandler:function(t){this.plain||"focusout"===t.type?this.hasFocus=!1:this.hasFocus=!0},onChange:function(t){var e=this,a=t.type,s=t.target,i=t.dataTransfer,r=void 0===i?{}:i,l="drop"===a;this.$emit(o["d"],t);var c=Object(p["f"])(r.items||[]);if(n["d"]&&c.length>0&&!Object(v["g"])(U(c[0])))A(c,this.directory).then((function(t){return e.handleFiles(t,l)}));else{var d=Object(p["f"])(s.files||r.files||[]).map((function(t){return t.$path=t.webkitRelativePath||"",t}));this.handleFiles(d,l)}},onDragenter:function(t){Object(h["f"])(t),this.dragging=!0;var e=t.dataTransfer,a=void 0===e?{}:e;if(this.noDrop||this.disabled||!this.dropAllowed)return a.dropEffect="none",void(this.dropAllowed=!1);a.dropEffect="copy"},onDragover:function(t){Object(h["f"])(t),this.dragging=!0;var e=t.dataTransfer,a=void 0===e?{}:e;if(this.noDrop||this.disabled||!this.dropAllowed)return a.dropEffect="none",void(this.dropAllowed=!1);a.dropEffect="copy"},onDragleave:function(t){var e=this;Object(h["f"])(t),this.$nextTick((function(){e.dragging=!1,e.dropAllowed=!e.noDrop}))},onDrop:function(t){var e=this;Object(h["f"])(t),this.dragging=!1,this.noDrop||this.disabled||!this.dropAllowed?this.$nextTick((function(){e.dropAllowed=!e.noDrop})):this.onChange(t)}},render:function(t){var e=this.custom,a=this.plain,s=this.size,i=this.dragging,r=this.stateClass,n=this.bvAttrs,o=t("input",{class:[{"form-control-file":a,"custom-file-input":e,focus:e&&this.hasFocus},r],style:e?{zIndex:-5}:{},attrs:this.computedAttrs,on:{change:this.onChange,focusin:this.focusHandler,focusout:this.focusHandler,reset:this.reset},ref:"input"});if(a)return o;var l=t("label",{staticClass:"custom-file-label",class:{dragging:i},attrs:{for:this.safeId(),"data-browse":this.browseText||null}},[t("span",{staticClass:"d-block form-file-text",style:{pointerEvents:"none"}},[this.labelContent])]);return t("div",{staticClass:"custom-file b-form-file",class:[E({},"b-custom-control-".concat(s),s),r,n.class],style:n.style,attrs:{id:this.safeId("_BV_file_outer_")},on:{dragenter:this.onDragenter,dragover:this.onDragover,dragleave:this.onDragleave,drop:this.onDrop}},[o,l])}})},ccc0:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));var s=a("2b0e"),i=a("b42e"),r=a("c637"),n=a("d82f"),o=a("cf75"),l=a("46bc");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p=Object(o["d"])(Object(n["j"])(l["b"],["append"]),r["U"]),m=s["default"].extend({name:r["U"],functional:!0,props:p,render:function(t,e){var a=e.props,s=e.data,r=e.children;return t(l["a"],Object(i["a"])(s,{props:d(d({},a),{},{append:!0})}),r)}})},cdcc:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"pt-1 pb-1"},[a("div",{staticClass:"col-lg"},[a("div",{staticClass:"card"},[t.isCreate?a("b-tabs",{staticClass:"saj-title p-1",staticStyle:{width:"100%"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:t.$t("Information"),active:""}},[a("information",{attrs:{"subs-i-d":t.id},on:{"info-required":function(e){t.isWork=!1}}})],1),a("b-tab",{attrs:{disabled:t.isWork,title:t.$t("Work Location")}},[a("workLocation",{on:{"work-location":function(e){t.isDept=!1}}})],1),a("b-tab",{attrs:{disabled:t.isDept,title:t.$t("Department")}},[a("department",{on:{"dept-info":function(e){t.isEmployee=!1}}})],1),a("b-tab",{attrs:{disabled:t.isEmployee,title:t.$t("Employee")}},[a("employee",{attrs:{"subs-i-d":t.id}})],1)],1):a("b-tabs",{staticClass:"saj-title p-1",staticStyle:{width:"100%"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:t.$t("Information"),active:""}},[a("information",{attrs:{"subsidiary-name":t.subsName,"subs-i-d":t.id}})],1),a("b-tab",{attrs:{title:t.$t("Work Location")}},[a("workLocation",{attrs:{"subsidiary-name":t.subsName}})],1),a("b-tab",{attrs:{title:t.$t("Department")}},[a("department",{attrs:{"subsidiary-name":t.subsName}})],1),a("b-tab",{attrs:{title:t.$t("Employee")}},[a("employee",{attrs:{"subs-i-d":t.id,"subsidiary-name":t.subsName}})],1)],1),a("div",{staticClass:"d-flex justify-content-end mb-1 mr-2 mt-1"},[a("b-button-group",{staticClass:"mb-1"},[0!==t.tabIndex?a("b-button",{staticStyle:{background:"#ffffff !important","border-color":"red !important",color:"red !important"},on:{click:function(e){t.tabIndex--}}},[t._v(" "+t._s(t.$t("Back"))+" ")]):t._e(),3!==t.tabIndex?a("b-button",{staticClass:"ml-1",attrs:{variant:"primary"},on:{click:function(e){return t.goToNextPage()}}},[t._v(" "+t._s(t.$t("Next Page"))+" ")]):t._e()],1)],1)],1)])])])},i=[],r=a("1947"),n=a("2b0e"),o=a("b42e"),l=a("c637"),c=a("a723"),d=a("d82f"),u=a("cf75");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var h=Object(u["d"])(Object(d["m"])(m(m({},Object(d["k"])(r["b"],["size"])),{},{ariaRole:Object(u["c"])(c["t"],"group"),size:Object(u["c"])(c["t"]),tag:Object(u["c"])(c["t"],"div"),vertical:Object(u["c"])(c["g"],!1)})),l["h"]),f=n["default"].extend({name:l["h"],functional:!0,props:h,render:function(t,e){var a=e.props,s=e.data,i=e.children;return t(a.tag,Object(o["a"])(s,{class:b({"btn-group":!a.vertical,"btn-group-vertical":a.vertical},"btn-group-".concat(a.size),a.size),attrs:{role:a.ariaRole}}),i)}}),v=a("f902"),g=a("6190"),y=a("8f03"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg"},[a("div",{staticClass:"card",staticStyle:{}},[a("div",{staticClass:"saj-header"},[t._v(" "+t._s(t.subsidiaryName)+" ")]),a("div",{staticClass:"pl-3 pr-3 pb-2 pt-2"},[a("div",{staticClass:"row pt-1 pb-2",staticStyle:{background:"none","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"10px"}},[a("div",{staticClass:"col"},[a("div",{staticClass:"row pl-1"},[a("div",{staticClass:"saj-title mb-1"},[t._v(" "+t._s(t.$t("Basic Information"))),a("br")])]),a("div",{staticClass:"mb-1 saj-title d-flex justify-content-end"},[a("b-button",{staticClass:"ml-1 saj-button",style:t.roles.isHR?"display: none;":"",attrs:{variant:"primary"},on:{click:function(e){return t.updateInformation()}}},[t._v(" "+t._s(t.$t("Add Information"))+" ")])],1),a("validation-observer",{ref:"validateInformation"},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Company Name"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Company Name"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-text",attrs:{size:"lg",placeholder:t.$t("Name"),readonly:t.roles.isHR,rows:"8"},model:{value:t.company.company_name,callback:function(e){t.$set(t.company,"company_name",e)},expression:"company.company_name"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Registration Number"))+" : ")]),a("b-form-input",{staticClass:"saj-text",attrs:{placeholder:t.$t("Registration Number"),size:"lg",readonly:t.roles.isHR,rows:"8"},model:{value:t.company.registration_number,callback:function(e){t.$set(t.company,"registration_number",e)},expression:"company.registration_number"}})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Email"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Email"),size:"lg",readonly:t.roles.isHR,rows:"8"},model:{value:t.company.email,callback:function(e){t.$set(t.company,"email",e)},expression:"company.email"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Office Contact Number"))+" : ")]),a("b-form-input",{staticClass:"saj-text",attrs:{placeholder:t.$t("Office Contact Number"),size:"lg",readonly:t.roles.isHR,rows:"8"},model:{value:t.company.ocn,callback:function(e){t.$set(t.company,"ocn",e)},expression:"company.ocn"}})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Website Link"))+" : ")]),a("b-form-input",{staticClass:"saj-text",attrs:{placeholder:t.$t("Website Link"),size:"lg",readonly:t.roles.isHR,rows:"8"},model:{value:t.company.website_link,callback:function(e){t.$set(t.company,"website_link",e)},expression:"company.website_link"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Description"))+" : ")]),a("b-form-input",{staticClass:"saj-text",attrs:{placeholder:t.$t("Description"),size:"lg",readonly:t.roles.isHR,rows:"8"},model:{value:t.company.description,callback:function(e){t.$set(t.company,"description",e)},expression:"company.description"}})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1 "},[t._v(" "+t._s(t.$t("Logo"))+" : ")]),a("b-form-file",{staticClass:"mt-1 saj-text",attrs:{type:"file",disabled:t.roles.isHR,"browse-text":t.$t("Choose File"),placeholder:t.$t("No file choosen"),plain:""},on:{change:t.onFileChange},model:{value:t.tempFile,callback:function(e){t.tempFile=e},expression:"tempFile"}})],1),a("div",{staticClass:"col-lg-6 saj-text d-flex align-items-end"}),a("div",{staticClass:"col-lg-6 saj-text d-flex align-items-end pl-1"},[null===t.company.logo?a("div",{staticClass:"saj-text col align-items-center"},[a("feather-icon",{attrs:{icon:"PaperclipIcon",size:"16"}}),t._v(" "+t._s(t.$t("No File"))+" ")],1):t._e(),null!==t.company.logo?a("div",{staticClass:"saj-text col align-items-center"},[a("feather-icon",{attrs:{icon:"PaperclipIcon",size:"16"}}),a("a",{attrs:{href:t.company.logo.url,target:"_blank"}},[t._v(" "+t._s(t.$t(t.company.logo.name))+" ")])],1):t._e()])])])],1)])])])])])])},x=[],j=a("4797"),$=a("c43f"),C=a("7bb1"),O=a("206d"),w=a("2f62"),D={components:{BFormInput:j["a"],BButton:r["a"],ValidationProvider:C["b"],ValidationObserver:C["a"],BFormFile:$["a"]},props:{subsID:{type:String,default:""},subsidiaryName:{type:String,default:""}},data(){return{subsidiaryID:null,required:y["b"],hq:{building:"",postcode:"",street:"",city:"",state:"",country:""},tempFile:null,company:{company_name:"",registration_number:"",incorporate_date:"",ocn:"",website_link:"",description:"",logo:[],email:""}}},computed:{...Object(w["c"])(["roles"])},mounted(){this.subsidiaryID=this.subsID,null!==this.subsID&&this.getInformation()},methods:{onFileChange(t){if(0!==t.target.files.length){const e=t.target.files[0].size/1e3;e>5120&&this.$toast({component:O["a"],props:{title:this.$t("File must less than 5 MB")+".",icon:"XIcon",variant:"success",titleColor:"#000",iconBg:"#e80202"}},{position:"top-right",type:"info"})}},updateInformation(){this.$refs.validateInformation.validate().then(t=>{if(t){const t=new FormData;t.append("id",this.subsidiaryID),t.append("logo",this.tempFile),t.append("subsidiary_name",this.company.company_name),t.append("email",this.company.email),t.append("website",this.company.website_link),t.append("ssm",this.company.registration_number),t.append("phone",this.company.ocn),t.append("description",this.company.description),this.$emit("info-required"),this.$axios.post(this.$baseUrl+"/subsidiary/update",t).then(()=>{setTimeout(()=>{this.$toast({component:O["a"],props:{title:""+this.$i18n.t("Information successfully updated"),icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},1e3),this.getInformation()})}})},getInformation(){const t={method:"get",url:`${this.$baseUrl}/subsidiary/getById?id=${this.subsidiaryID}`};this.$axios(t).then(t=>{this.informationList=t.data.data[0],this.company.company_name=this.informationList.subsidiary_name,this.company.registration_number="null"===this.informationList.ssm||null===this.informationList.ssm?"-":this.informationList.ssm,this.company.ocn="null"===this.informationList.phone||null===this.informationList.phone?"-":this.informationList.phone,this.company.website_link="null"===this.informationList.website||null===this.informationList.website?"-":this.informationList.website,this.company.description="null"===this.informationList.description||null===this.informationList.description?"-":this.informationList.description,this.company.logo=this.informationList.logo,this.company.email="null"===this.informationList.email||null===this.informationList.email?"-":this.informationList.email}).catch(()=>{})}}},k=D,S=a("2877"),P=Object(S["a"])(k,_,x,!1,null,null,null),I=P.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg"},[a("div",{staticClass:"card",staticStyle:{}},[a("div",{staticClass:"saj-header"},[t._v(" "+t._s(t.subsidiaryName)+" ")]),a("div",{},[a("div",{staticClass:"row pt-1 pb-2",staticStyle:{background:"none","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"10px"}},[a("div",{staticClass:"col"},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:" col-lg-6 saj-title d-flex justify-content-start"},[t._v(" "+t._s(t.$t("Work Location Info"))+" ")]),a("div",{staticClass:"col-lg-6 saj-title d-flex justify-content-end"},[a("b-form-input",{staticClass:"mr-1",staticStyle:{width:"250px"},attrs:{placeholder:t.$t("Search Work Location")},model:{value:t.searchWorkLocation,callback:function(e){t.searchWorkLocation=e},expression:"searchWorkLocation"}}),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.new-work-location",modifiers:{"new-work-location":!0}}],staticClass:"saj-button",style:t.roles.isHR?"display: none;":"",attrs:{variant:"primary"}},[t._v(" "+t._s(t.$t("Add Work Location"))+" ")])],1)]),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("b-table",{staticClass:"styleTable",staticStyle:{"font-size":"1rem"},attrs:{"show-empty":"",items:t.branchList,fields:t.fields,"label-size":"lg",bordered:"",filter:t.searchWorkLocation,"current-page":t.currentPage,"per-page":t.perPage,responsive:""},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-text d-flex justify-content-center"},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records matching your request"))+" ")])]},proxy:!0},{key:"cell(index)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(1===t.currentPage?e.index+1:e.index+1+15*(t.currentPage-1))+" ")])]}},{key:"cell(name)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start"},[t._v(" "+t._s(e.item.name)+" ")])]}},{key:"cell(details)",fn:function(e){return[a("div",{class:("null"===e.item.details||e.item.details,"saj-text d-flex justify-content-start")},[t._v(" "+t._s("null"===e.item.details||null===e.item.details?"-":e.item.details)+" ")])]}},{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t.roles.isAdmin?a("div",[a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.update-work-location",modifiers:{"update-work-location":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],staticStyle:{color:"green"},attrs:{icon:"EditIcon",size:"25"},on:{click:function(a){t.branchData=e.item}}})],1):a("div",[a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.update-work-location",modifiers:{"update-work-location":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],attrs:{icon:"EyeIcon",size:"25"},on:{click:function(a){t.branchData=e.item}}})],1),a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-branch",modifiers:{"delete-branch":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Delete"),expression:"$t('Delete')",modifiers:{hover:!0,top:!0}}],staticClass:"ml-1",staticStyle:{color:"red"},style:t.roles.isHR?"display: none;":"",attrs:{icon:"Trash2Icon",size:"25"},on:{click:function(a){t.branchId=e.item.id}}})],1)]}}])})],1)],1)])]),a("b-modal",{attrs:{id:"new-work-location","hide-header":!0,"hide-footer":!0,centered:!0,size:"lg"}},[a("work-location",{on:{close:function(e){return t.$bvModal.hide("new-work-location")},"add-worklocation":function(e){return t.getBranch()}}})],1),a("b-modal",{attrs:{id:"update-work-location","hide-header":!0,"hide-footer":!0,centered:!0,size:"lg"}},[a("work-location",{attrs:{"branch-data":t.branchData,"is-update":!0,"branch-id":t.branchId},on:{close:function(e){return t.$bvModal.hide("update-work-location")},"update-worklocation":function(e){return t.getBranch()}}})],1),a("b-modal",{attrs:{id:"delete-branch","hide-footer":!0,"hide-header":!0,centered:!0}},[a("delete-branch",{attrs:{"confirm-btn":"Yes","cancel-btn":"No",title:t.$t("Are you sure to delete this work location?")},on:{cancel:function(e){return t.$bvModal.hide("delete-branch")},confirm:function(e){return t.deleteBranch()}}})],1)],1)])]),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.rows>t.perPage*t.currentPage?t.perPage*t.currentPage:t.rows)+" "+t._s(t.$t("from"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:"","aria-controls":"employee-table"},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},E=[],B=a("29a1"),F=a("6aac"),L=a("a15b"),z=a("b28b"),R=a("26d2"),T=a("9b03"),M=a("01e3"),U=a("2616"),A=a("83d6"),q=a("16b1"),H={components:{BButton:r["a"],BTable:B["a"],BModal:F["a"],workLocation:A["default"],deleteBranch:q["a"],BRow:L["a"],BFormInput:j["a"],BCol:z["a"],BPagination:R["a"],BOverlay:T["a"],BSpinner:M["a"]},directives:{"b-tooltip":U["a"]},props:{subsidiaryName:{type:null,default:null}},data(){return{branchData:{},branchId:null,required:y["b"],currentPage:1,branchList:[],fields:[{key:"index",label:"No.",thClass:"text-center"},{key:"name",label:"Name",tdClass:"text-center"},{key:"details",label:"Description",tdClass:"text-center"}],searchWorkLocation:null,perPage:15,rows:null,show:!0}},computed:{...Object(w["c"])(["roles"]),isEnglish(){return"en"===this.$i18n.locale}},beforeMount(){this.id=this.$route.params.id},mounted(){if(this.getBranch(),6!==this.roles.selectedRole){const t={key:"action",label:"Action",tdClass:"text-center"};this.fields=this.fields.concat(t)}},methods:{onFiltered(t){this.rows=t.length},getBranch(){this.$axios.get(`${this.$baseUrl}/branch/get_branch_by_company?company_id=${this.id}`).then(t=>{0!==t.data.data.length&&(this.branchList=t.data.data,this.$emit("work-location"),this.show=!1)}).catch(()=>{this.branchList=[],this.show=!1})},deleteBranch(){const t=new FormData;t.append("branch_id",this.branchId),this.$axios.post(this.$baseUrl+"/branch/delete_branch",t).then(()=>{this.$toast({component:O["a"],props:{title:this.$t("Work location successfully deleted")+".",icon:"Trash2Icon",variant:"success",iconBg:"#e80202",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$bvModal.hide("delete-branch"),this.getBranch()}).catch(t=>{const e=t.response.data.message;this.$toast({component:O["a"],props:{title:this.isEnglish?e.English:e.Bahasa,icon:"XIcon",iconBg:"#e80202",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$bvModal.hide("delete-branch")})}}},W=H,V=Object(S["a"])(W,N,E,!1,null,null,null),G=V.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg"},[a("div",{staticClass:"card",staticStyle:{}},[a("div",{staticClass:"saj-header"},[t._v(" "+t._s(t.subsidiaryName)+" ")]),a("div",{},[a("div",{staticClass:"row pt-1 pb-2",staticStyle:{background:"none","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"10px"}},[a("div",{staticClass:"col"},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:" col-lg-6 saj-title d-flex justify-content-start"},[t._v(" "+t._s(t.$t("Department Info"))+" ")]),a("div",{staticClass:"col-lg-6 saj-title d-flex justify-content-end"},[a("b-form-input",{staticClass:"mr-1",staticStyle:{width:"250px"},attrs:{placeholder:t.$t("Search Department")},model:{value:t.searchDepartment,callback:function(e){t.searchDepartment=e},expression:"searchDepartment"}}),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.new-department",modifiers:{"new-department":!0}}],staticClass:"saj-button",style:t.roles.isHR?"display: none;":"",attrs:{variant:"primary"}},[t._v(" "+t._s(t.$t("Add Department"))+" ")])],1)]),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("b-table",{staticClass:"styleTable",staticStyle:{"font-size":"1rem"},attrs:{"show-empty":"",items:t.departmentList,fields:t.fields,"label-size":"lg",bordered:"",filter:t.searchDepartment,"current-page":t.currentPage,"per-page":t.perPage,responsive:""},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-text d-flex justify-content-center"},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records matching your request"))+" ")])]},proxy:!0},{key:"cell(index)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(1===t.currentPage?e.index+1:e.index+1+15*(t.currentPage-1))+" ")])]}},{key:"cell(name)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start"},[t._v(" "+t._s(e.item.name)+" ")])]}},{key:"cell(details)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s("null"===e.item.details||null===e.item.details?"-":e.item.details)+" ")])]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t.roles.isAdmin?a("div",[a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.update-department",modifiers:{"update-department":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],staticStyle:{color:"green"},attrs:{icon:"EditIcon",size:"25"},on:{click:function(a){t.deptData=e.item}}})],1):a("div",[a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.update-department",modifiers:{"update-department":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],attrs:{icon:"EyeIcon",size:"25"},on:{click:function(a){t.deptData=e.item}}})],1),a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-department",modifiers:{"delete-department":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Delete"),expression:"$t('Delete')",modifiers:{hover:!0,top:!0}}],staticClass:"ml-1",staticStyle:{color:"red"},style:t.roles.isHR?"display: none;":"",attrs:{icon:"Trash2Icon",size:"25"},on:{click:function(a){t.deptId=e.item.id}}})],1)]}}])})],1)],1)])])]),a("b-modal",{attrs:{id:"new-department","hide-header":!0,"hide-footer":!0,centered:!0,size:"lg"}},[a("dept-info",{attrs:{"dept-id":t.deptId},on:{close:function(e){return t.$bvModal.hide("new-department")},"add-department":function(e){t.getDept(),t.$bvModal.hide("new-department")}}})],1),a("b-modal",{attrs:{id:"update-department","hide-header":!0,"hide-footer":!0,centered:!0,size:"lg"}},[a("dept-info",{attrs:{"dept-data":t.deptData,"is-update":!0,"dept-id":t.deptId},on:{close:function(e){return t.$bvModal.hide("update-department")},"update-department":function(e){t.getDept(),t.$bvModal.hide("update-department")}}})],1),a("b-modal",{attrs:{id:"delete-department","hide-footer":!0,"hide-header":!0,centered:!0}},[a("delete-dept",{attrs:{"confirm-btn":"Yes","cancel-btn":"No",title:t.$t("Are you sure to delete this department?")},on:{cancel:function(e){return t.$bvModal.hide("delete-department")},confirm:function(e){return t.deleteDept()}}})],1)],1)]),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.rows>t.perPage*t.currentPage?t.perPage*t.currentPage:t.rows)+" "+t._s(t.$t("from"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("b-pagination",{staticClass:"saj-text mb-1 justify-content-end",attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:"","aria-controls":"employee-table"},scopedSlots:t._u([{key:"prev-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},J=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-1 modalScroll",staticStyle:{width:"auto",height:"55vh"}},[a("div",{staticClass:"mb-1 saj-title d-flex justify-content-start"},[t._v(" "+t._s(t.$t("Department Info"))+" ")]),a("validation-observer",{ref:"simpleRules"},[a("b-form",[a("b-form-group",{staticClass:"saj-text",attrs:{label:t.$t("Department Name")}},[a("validation-provider",{attrs:{name:t.$t("Department Name"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-form-text",attrs:{readonly:t.roles.isHR,placeholder:t.$t("Enter department")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)],1)],1),a("b-form",{staticClass:"mt-2"},[a("b-form-group",{staticClass:"saj-text",attrs:{label:t.$t("Description")}},[a("b-form-textarea",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Description"),readonly:t.roles.isHR,rows:"6"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}})],1)],1),a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn btn-close mt-1 ml-1 mb-1 saj-button",staticStyle:{color:"white",background:"#ff0000"},attrs:{"aria-label":"Close modal"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("Back"))+" ")]),a("button",{staticClass:"btn mt-1 ml-1 mb-1 saj-button",staticStyle:{color:"white",background:"#0b103c !important","border-color":"#0b103c !important"},style:t.roles.isHR?"display: none;":"",attrs:{"aria-label":"submit modal"},on:{click:function(e){t.isUpdate?t.updateDept():t.createDept()}}},[t._v(" "+t._s(t.$t("Save"))+" ")])])],1)},Y=[],Q=a("11de"),Z=a("8226"),tt=a("9c7d"),et={components:{BForm:Q["a"],BFormInput:j["a"],BFormGroup:Z["a"],BFormTextarea:tt["a"],ValidationProvider:C["b"],ValidationObserver:C["a"]},props:{deptData:{type:Object,default:()=>{}},isUpdate:{type:Boolean,default:!1},deptId:{type:Number,default:null}},data(){return{name:void 0!==this.deptData?this.deptData.name:null,details:void 0!==this.deptData?"null"!==this.deptData.details?this.deptData.details:"-":null,required:y["b"]}},computed:{...Object(w["c"])(["roles"])},beforeMount(){this.id=this.$route.params.id},mounted(){},methods:{close(){this.$emit("close")},createDept(){this.$refs.simpleRules.validate().then(t=>{if(t){const t=new FormData;t.append("subsidiary_id",this.id),t.append("name",this.name),t.append("details",this.details),this.$axios.post(this.$baseUrl+"/departments/store_department",t).then(()=>{this.$emit("close"),this.$emit("add-department"),setTimeout(()=>{this.$toast({component:O["a"],props:{title:this.$t("Department successfully added")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},500)})}})},updateDept(){const t=new FormData;t.append("department_id",this.deptData.id),t.append("name",this.name),t.append("details",""===this.details?"-":this.details),this.$axios.post(this.$baseUrl+"/departments/update_department",t).then(()=>{this.$emit("close"),this.$emit("update-department"),setTimeout(()=>{this.$toast({component:O["a"],props:{title:this.$t("Department info successfully updated")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},500)})}}},at=et,st=(a("6a32"),Object(S["a"])(at,K,Y,!1,null,null,null)),it=st.exports,rt={components:{BButton:r["a"],BTable:B["a"],BModal:F["a"],deptInfo:it,deleteDept:q["a"],BRow:L["a"],BFormInput:j["a"],BCol:z["a"],BPagination:R["a"],BOverlay:T["a"],BSpinner:M["a"]},directives:{"b-tooltip":U["a"]},props:{subsidiaryName:{type:String,default:""}},data(){return{show:!0,searchDepartment:null,perPage:15,rows:null,required:y["b"],deptData:{},deptId:null,currentPage:1,departmentList:[],fields:[{key:"index",label:"No.",thClass:"text-center"},{key:"name",label:"Name",tdClass:"text-center"},{key:"details",label:"Description",tdClass:"text-center"}]}},computed:{...Object(w["c"])(["roles"]),isEnglish(){return"en"===this.$i18n.locale}},beforeMount(){this.id=this.$route.params.id},mounted(){if(this.getDept(),6!==this.roles.selectedRole){const t={key:"actions",label:"Action",tdClass:"text-center"};this.fields=this.fields.concat(t)}},methods:{onFiltered(t){this.rows=t.length},getDept(){this.$axios.get(`${this.$baseUrl}/departments/get_departments_by_subsidiary?subsidiary_id=${this.id}`).then(t=>{0!==t.data.data.length&&(this.departmentList=t.data.data,this.$emit("dept-info"),this.show=!1,this.rows=this.departmentList.length)}).catch(t=>{t&&(this.departmentList=[],this.show=!1)})},deleteDept(){const t=new FormData;t.append("department_id",this.deptId),this.$axios.post(this.$baseUrl+"/departments/delete_department",t).then(()=>{this.$toast({component:O["a"],props:{title:this.$t("Department successfully deleted")+".",icon:"Trash2Icon",variant:"success",iconBg:"#e80202",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$bvModal.hide("delete-department"),this.getDept()}).catch(t=>{const e=t.response.data.message;this.$toast({component:O["a"],props:{title:this.isEnglish?e.English:e.Bahasa,icon:"XIcon",iconBg:"#e80202",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$bvModal.hide("delete-department")})}}},nt=rt,ot=Object(S["a"])(nt,X,J,!1,null,null,null),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{},[a("div",{staticClass:"saj-header mb-1"},[t._v(" "+t._s(t.subsidiaryName)+" ")]),a("div",[a("div",{staticClass:"d-flex flex-column mb-1"},[a("div",{staticClass:"saj-title mb-1 "},[t._v(" "+t._s(t.$t("Employee Info"))+" ")]),a("div",{staticClass:"saj-title d-flex align-items-end justify-content-end"},[a("input",{staticStyle:{visibility:"hidden"},attrs:{id:"csvImport",type:"file"},on:{input:function(e){return t.uploadCSV()}}}),a("b-input-group",{staticClass:"mr-1",scopedSlots:t._u([{key:"prepend",fn:function(){return[a("b-form-select",{staticStyle:{"border-radius":"0",width:"190px"},attrs:{options:t.selectItem,value:t.selectItem},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}})]},proxy:!0}])},[a("b-form-input",{staticStyle:{width:"100px"},style:t.clearSearch?"border-right: none":"",attrs:{placeholder:t.$t("Search Employee"),disabled:null===t.selectedItem},model:{value:t.searchEmployee,callback:function(e){t.searchEmployee=e},expression:"searchEmployee"}}),a("b-input-group-append",[t.clearSearch?a("b-input-group-text",{staticStyle:{"border-right":"solid 2px #d8d6de","border-left":"none"}},[a("i",{staticClass:"fa-solid fa-x pointer onHover",on:{click:function(e){t.clearSearch=!1,t.searchEmployee=null,t.getSubsidiaryStaff(),t.currentPage=1}}})]):t._e(),a("b-input-group-text",[a("i",{staticClass:"fa-solid fa-magnifying-glass pointer onHover",on:{click:function(e){t.clearSearch=!0,t.currentPage=1,t.getSubsidiaryStaff()}}})])],1)],1),a("b-button",{staticClass:"mr-1 d-flex align-items-center justify-content-center saj-button",staticStyle:{width:"200px"},attrs:{variant:"primary",href:t.publicPath+"assets/excel_upload_template.xlsx",download:""}},[t._v(" "+t._s(t.$t("Template"))),a("span",{staticStyle:{"margin-left":"3px"}},[t._v("CSV")])]),a("b-button",{staticClass:"mr-1",staticStyle:{width:"180px"},attrs:{variant:"primary"},on:{click:function(e){return t.triggerImportCSV()}}},[t._v(" "+t._s(t.$t("Import CSV"))+" ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.new-employee",modifiers:{"new-employee":!0}}],staticStyle:{width:"200px"},attrs:{variant:"primary"}},[t._v(" "+t._s(t.$t("Add Employee"))+" ")])],1)])]),a("b-overlay",{attrs:{show:t.show,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Fetching Data"))+"... ")])],1)]},proxy:!0}])},[a("b-table",{staticClass:"styleTable",staticStyle:{"font-size":"1rem"},attrs:{responsive:"","show-empty":"",items:t.subsidiaryStaffList,fields:t.fields,"per-page":t.perPage,"label-size":"lg",bordered:""},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-text d-flex justify-content-center"},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"emptyfiltered",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records matching your request"))+" ")])]},proxy:!0},{key:"cell(index)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(1===t.currIdx?e.index+1:e.index+1+(t.currIdx-1)*t.perPage)+" ")])]}},{key:"cell(employeeNo)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(e.item.employee_number)+" ")])]}},{key:"cell(name)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-start"},[t._v(" "+t._s(e.item.full_name)+" ")])]}},{key:"cell(position)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(e.item.position)+" ")])]}},{key:"cell(department)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(e.item.department)+" ")])]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center align-items-center"},[a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",staticStyle:{color:"green",cursor:"pointer"},attrs:{icon:"EditIcon",size:"25"},on:{click:function(a){return t.getEmployee(e.item)}}}),a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.deactivate-employee",modifiers:{"deactivate-employee":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Deactivate Employee"),expression:"$t('Deactivate Employee')",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",staticStyle:{color:"red"},attrs:{icon:"UserXIcon",size:"25"},on:{click:function(a){t.employeeNum=e.item.employee_number}}}),a("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Email Invitation"),expression:"$t('Email Invitation')",modifiers:{hover:!0,top:!0}}],staticStyle:{cursor:"pointer"},style:1===e.item.invitation?"color: grey":"color: black",attrs:{icon:"MailIcon",size:"25",disabled:1===e.item.invitation},on:{click:function(a){return t.sendInvitationEmail(e.item.email)}}}),t.roles.isHR||t.roles.isAdmin?a("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.reset-password",modifiers:{"reset-password":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Reset Password"),expression:"$t('Reset Password')",modifiers:{hover:!0,top:!0}}],staticClass:"ml-1",staticStyle:{color:"blue",cursor:"pointer"},attrs:{icon:"UnlockIcon",size:"25"},on:{click:function(a){t.email=e.item.email}}}):t._e()],1)]}},{key:"cell(roles)",fn:function(e){return[a("div",{staticClass:"saj-text",staticStyle:{width:"100%"}},t._l(e.item.role,(function(e){return a("b-badge",{key:e.a,staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{variant:"light-primary",pill:""}},[t._v(" "+t._s(t.$t(e.role_name))+" ")])})),1)]}}])}),a("b-row",[a("b-col",[a("span",{staticClass:"saj-text",attrs:{align:"start"}},[t._v(" "+t._s(t.$t("Showing"))+" "+t._s(t.from)+" "+t._s(t.$t("to"))+" "+t._s(t.to)+" "+t._s(t.$t("of"))+" "+t._s(t.rows)+" "+t._s(t.$t("entries"))+" ")])]),a("b-col",[a("div",{staticClass:"d-flex align-items-center justify-content-end"},[a("i",{staticClass:"fa-solid fa-angles-left saj-page",staticStyle:{"margin-right":"5px"},on:{click:function(e){t.currentPage=1,t.getSubsidiaryStaff()}}}),a("i",{staticClass:"fa-solid fa-angle-left saj-page",on:{click:function(e){1!==t.currentPage?t.currentPage--:t.currentPage,t.getSubsidiaryStaff()}}}),a("validation-provider",{attrs:{name:t.$t("Page"),rules:{required:t.required,max_value:t.lastPage,min_value:1}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"p-0 text-center",staticStyle:{width:"35px",height:"35px","background-color":"red",color:"white","border-radius":"20px","margin-right":"5px","margin-left":"5px"},attrs:{type:"number"},on:{change:function(e){t.currentPage>0&&t.currentPage<t.lastPage+1&&t.getSubsidiaryStaff()}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("small",{staticClass:"text-danger",staticStyle:{color:"#EA5455 !important",position:"absolute","white-space":"nowrap",right:"25px"}},[t._v(t._s(s[0]))])]}}])}),a("i",{staticClass:"fa-solid fa-angle-right saj-page",on:{click:function(e){t.currentPage<t.lastPage?t.currentPage++:(t.currentPage,t.rows),t.getSubsidiaryStaff()}}}),a("i",{staticClass:"fa-solid fa-angles-right saj-page",staticStyle:{"margin-left":"5px"},on:{click:function(e){t.currentPage=t.lastPage,t.getSubsidiaryStaff()}}})],1)])],1)],1),a("b-modal",{attrs:{id:"new-employee","hide-header":!0,"hide-footer":!0,centered:!0,size:"lg"}},[a("emp-info",{attrs:{"emp-info":{},"subs-i-d":t.subsidiaryID,"is-update":!1},on:{close:function(e){return t.$bvModal.hide("new-employee")},"add-employee":function(e){t.getSubsidiaryStaff(),t.$bvModal.hide("new-employee")}}})],1),a("b-modal",{attrs:{id:"update-employee","hide-header":!0,"hide-footer":!0,centered:!0,size:"lg"}},[a("emp-info",{attrs:{"emp-info":t.empData,"is-update":!0,"subs-i-d":t.subsidiaryID},on:{close:function(e){return t.$bvModal.hide("update-employee")},"update-employee":function(e){t.getSubsidiaryStaff(),t.$bvModal.hide("update-employee"),t.show=!0}}})],1),a("b-modal",{attrs:{id:"deactivate-employee","hide-footer":!0,"hide-header":!0,centered:!0}},[a("AlertModal",{attrs:{title:t.$t("Are you sure to deactivate this employee?"),"confirm-btn":t.$t("Yes")},on:{cancel:function(e){return t.$bvModal.hide("deactivate-employee")},confirm:function(e){t.deactivateEmployee(),t.$bvModal.hide("deactivate-employee")}}})],1),a("b-modal",{attrs:{id:"reset-password","hide-footer":!0,"hide-header":!0,centered:!0}},[a("AlertModal",{attrs:{title:t.$t("Are you sure to reset password ?")},on:{cancel:function(e){return t.$bvModal.hide("reset-password")},confirm:function(e){t.resetUserEmail(t.email),t.$bvModal.hide("reset-password")}}})],1),a("b-modal",{attrs:{id:"errMsg","ok-only":!0,"hide-header":!0,centered:!0,"no-close-on-backdrop":!0,"no-close-on-esc":!0,"footer-class":"d-flex justify-content-center",size:"lg"},on:{ok:function(e){t.errorMsg=[]}}},[a("div",{staticClass:"p-1"},[a("h4",{staticClass:"mb-1"},[t._v(" "+t._s(t.$t("Your Excel file failed to upload. Please fix according to the error(s) listed in the table below"))+". ")]),a("b-table",{staticClass:"mt-1 mb-1 saj-subtitle",attrs:{"show-empty":"",items:t.errorMsg,fields:t.errFields,responsive:"",bordered:""},scopedSlots:t._u([{key:"head()",fn:function(e){return[a("span",{staticClass:"saj-title"},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[a("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(line)",fn:function(e){return[a("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(e.item.line)+" ")])]}},{key:"cell(errors)",fn:function(e){return[Array.isArray("en"===t.lang?e.item.errors_bi:e.item.errors_bm)?a("div",t._l("en"===t.lang?e.item.errors_bi:e.item.errors_bm,(function(e,s){return a("div",{key:s,staticClass:"saj-text d-flex justify-content-start"},[t._v(" "+t._s(s+1)+". "+t._s(e)+" ")])})),0):a("div",{staticClass:"saj-text"},[t._v(" "+t._s("en"===t.lang?e.item.errors_bi:e.item.errors_bm)+" "),t._l(e.item.data,(function(e,s){return a("div",{key:s,staticClass:"saj-text d-flex justify-content-start"},[t._v(" "+t._s(s+1)+". "+t._s(e)+" ")])}))],2)]}}])})],1)])],1)])},dt=[],ut=a("e98b"),pt=a("5e12"),mt=a("ccc0"),bt=a("d190"),ht=a("8361"),ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-1",staticStyle:{width:"auto",height:"80vh","overflow-y":"scroll"}},[a("div",{staticClass:"mb-1 saj-title d-flex justify-content-start"},[t._v(" "+t._s(t.$t("Employee Info"))+" ")]),a("validation-observer",{ref:"validateEmployee"},[a("div",{staticClass:"row mb-2"},[t.isUpdate?a("div",{staticClass:"col-lg saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Employee Name"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",placeholder:t.$t("Name"),rows:"8",disabled:""},model:{value:t.empData.full_name,callback:function(e){t.$set(t.empData,"full_name",e)},expression:"empData.full_name"}})],1):t._e()]),a("b-form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 saj-text"},[a("b-form-group",{staticClass:"saj-text",attrs:{label:t.$t("First Name")}},[a("validation-provider",{attrs:{name:t.$t("First Name"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Enter First Name")},model:{value:t.empData.first_name,callback:function(e){t.$set(t.empData,"first_name",e)},expression:"empData.first_name"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)],1),a("div",{staticClass:"col-lg-4 saj-text"},[a("b-form-group",{staticClass:"saj-text",attrs:{label:t.$t("Middle Name")}},[a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Enter Middle Name")},model:{value:t.empData.middle_name,callback:function(e){t.$set(t.empData,"middle_name",e)},expression:"empData.middle_name"}})],1)],1),a("div",{staticClass:"col-lg-4 saj-text"},[a("b-form-group",{staticClass:"saj-text",attrs:{label:t.$t("Last Name")}},[a("validation-provider",{attrs:{name:t.$t("Last Name"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Enter Last Name")},model:{value:t.empData.last_name,callback:function(e){t.$set(t.empData,"last_name",e)},expression:"empData.last_name"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)],1)])]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-4 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Ethnicity"))+" : ")]),a("b-form-select",{staticClass:"saj-form-text",attrs:{options:t.isEnglish?t.raceoptions_bi:t.raceoptions,placeholder:t.$t("Select Ethnicity"),size:"lg",rows:"8"},model:{value:t.empData.race,callback:function(e){t.$set(t.empData,"race",e)},expression:"empData.race"}})],1),a("div",{staticClass:"col-lg-4 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Religion"))+" : ")]),a("b-form-select",{staticClass:"saj-form-text",attrs:{options:t.isEnglish?t.religionoptions_bi:t.religionoptions,placeholder:t.$t("Select Religion"),size:"lg",rows:"8"},model:{value:t.empData.religion,callback:function(e){t.$set(t.empData,"religion",e)},expression:"empData.religion"}})],1),a("div",{staticClass:"col-lg-4 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Citizenship"))+" : ")]),a("b-form-select",{staticClass:"saj-form-text",attrs:{options:t.citizenshipoptions,placeholder:t.$t("Select Citizenship"),size:"lg",rows:"8"},model:{value:t.empData.citizenship,callback:function(e){t.$set(t.empData,"citizenship",e)},expression:"empData.citizenship"}})],1)]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Identification Number"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Identification Number"),rules:{required:t.required,regex:/^\d{6}\d{2}\d{4}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Eg: xxxxxxxxxxxx"),type:"number",size:"lg",rows:"8"},model:{value:t.empData.ic,callback:function(e){t.$set(t.empData,"ic",e)},expression:"empData.ic"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Date of Birth"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Date of Birth"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.empData.dob,expression:"empData.dob"}],staticClass:"form-control",staticStyle:{background:"#fff",height:"3.25rem"},attrs:{type:"date"},domProps:{value:t.empData.dob},on:{input:function(e){e.target.composing||t.$set(t.empData,"dob",e.target.value)}}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Gender"))+" : ")]),a("b-form-select",{staticClass:"saj-form-text",attrs:{options:t.isEnglish?t.genderoptions_bi:t.genderoptions,placeholder:t.$t("Select Gender"),size:"lg",rows:"8"},model:{value:t.empData.gender,callback:function(e){t.$set(t.empData,"gender",e)},expression:"empData.gender"}})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Maritial Status"))+" : ")]),a("b-form-select",{staticClass:"saj-form-text",attrs:{options:t.isEnglish?t.marital_statusoptions_bi:t.marital_statusoptions,placeholder:t.$t("Select Status"),size:"lg",rows:"8"},model:{value:t.empData.marital_status,callback:function(e){t.$set(t.empData,"marital_status",e)},expression:"empData.marital_status"}})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Address 1"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",rows:"8"},model:{value:t.empData.address_line1,callback:function(e){t.$set(t.empData,"address_line1",e)},expression:"empData.address_line1"}}),a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Address 2"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",rows:"8"},model:{value:t.empData.address_line2,callback:function(e){t.$set(t.empData,"address_line2",e)},expression:"empData.address_line2"}}),a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Address 3"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",rows:"8"},model:{value:t.empData.address_line3,callback:function(e){t.$set(t.empData,"address_line3",e)},expression:"empData.address_line3"}}),a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Postal Code"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",type:"number",rows:"8"},model:{value:t.empData.postal_code,callback:function(e){t.$set(t.empData,"postal_code",e)},expression:"empData.postal_code"}}),a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("City"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",rows:"8"},model:{value:t.empData.city,callback:function(e){t.$set(t.empData,"city",e)},expression:"empData.city"}})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("State"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",rows:"8"},model:{value:t.empData.state,callback:function(e){t.$set(t.empData,"state",e)},expression:"empData.state"}}),a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Country"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{size:"lg",rows:"8"},model:{value:t.empData.country,callback:function(e){t.$set(t.empData,"country",e)},expression:"empData.country"}}),a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Address"))+" : ")]),a("b-form-textarea",{staticClass:"saj-form-text",attrs:{disabled:"",size:"lg",rows:"8"},model:{value:t.empData.address,callback:function(e){t.$set(t.empData,"address",e)},expression:"empData.address"}})],1)]),a("div",{staticClass:"row pt-1 pb-2",staticStyle:{background:"none","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"10px"}},[a("div",{staticClass:"col"},[a("div",{staticClass:"row pl-1"},[a("div",{staticClass:"saj-title mb-1"},[t._v(" "+t._s(t.$t("Work Info"))+" ")])]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Subsidiary"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Employee Subsidiary"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-form-text select-size-lg",attrs:{placeholder:t.$t("Select Subsidiary"),rows:"8",options:t.businessUnitList,reduce:function(t){return t.value},clearable:!1,label:"text"},model:{value:t.empData.business_unit,callback:function(e){t.$set(t.empData,"business_unit",e)},expression:"empData.business_unit"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Position"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Position"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-form-text select-size-lg",attrs:{placeholder:t.$t("Select Position"),rows:"8",options:t.positionList,value:t.positionList,clearable:!1},model:{value:t.empData.position,callback:function(e){t.$set(t.empData,"position",e)},expression:"empData.position"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Role(s)"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Role(s)"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-title select-size-lg",staticStyle:{background:"white"},attrs:{label:"text",placeholder:t.$t("Select Role(s)"),multiple:"",options:t.allRoles,selectable:function(e){return!t.allRoles.includes(e.value)},value:t.allRoles,clearable:!1},on:{input:function(e){return t.updateRole(t.userRoles)}},model:{value:t.userRoles,callback:function(e){t.userRoles=e},expression:"userRoles"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"})]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Department"))+": ")]),a("validation-provider",{attrs:{name:t.$t("Department"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-form-text select-size-lg",attrs:{placeholder:t.$t("Select Department"),rows:"8",options:t.departmentList,reduce:function(t){return t.value},clearable:!1,label:"text"},model:{value:t.empData.department_id,callback:function(e){t.$set(t.empData,"department_id",e)},expression:"empData.department_id"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Work Location"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Work Location"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-form-text select-size-lg",attrs:{placeholder:t.$t("Select Work Location"),rows:"8",options:t.branchList,reduce:function(t){return t.value},clearable:!1,label:"text"},model:{value:t.empData.branch_id,callback:function(e){t.$set(t.empData,"branch_id",e)},expression:"empData.branch_id"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Grade"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Grade"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-form-text select-size-lg",attrs:{placeholder:t.$t("Select Grade"),rows:"8",options:t.gradeList,clearable:!1,label:"text"},on:{input:function(e){t.getGradeSet(),t.getAllRoles()}},model:{value:t.empData.grade,callback:function(e){t.$set(t.empData,"grade",e)},expression:"empData.grade"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Grade set"))+" : ")]),a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Select Grade Set"),disabled:null===t.empData.grade||""===t.empData.grade,size:"lg",readonly:!0,rows:"8"},model:{value:t.profile.grade_set,callback:function(e){t.$set(t.profile,"grade_set",e)},expression:"profile.grade_set"}})],1)]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Employee Number"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Employee Number"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Enter Employee Number"),size:"lg",rows:"8"},model:{value:t.empData.employee_number,callback:function(e){t.$set(t.empData,"employee_number",e)},expression:"empData.employee_number"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Date of Joined"))+" : ")]),a("b-form-group",[a("validation-provider",{attrs:{name:t.$t("Date of Joined"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.empData.hire_date,expression:"empData.hire_date"}],staticClass:"form-control",staticStyle:{background:"#fff",height:"3.25rem"},attrs:{type:"date"},domProps:{value:t.empData.hire_date},on:{input:function(e){e.target.composing||t.$set(t.empData,"hire_date",e.target.value)}}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)],1)]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Email"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Email"),rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("b-form-input",{staticClass:"saj-form-text",attrs:{placeholder:t.$t("Enter Email"),size:"lg",rows:"8"},model:{value:t.empData.email,callback:function(e){t.$set(t.empData,"email",e)},expression:"empData.email"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Profile Picture"))+" : ")]),a("b-form-file",{staticClass:"saj-text",attrs:{type:"file",size:"lg","browse-text":t.$t("Choose File"),placeholder:t.$t("No file choosen")},on:{change:t.onFileChange},model:{value:t.profile.profile_picture,callback:function(e){t.$set(t.profile,"profile_picture",e)},expression:"profile.profile_picture"}})],1)])])]),a("div",{staticClass:"row pt-1 pb-2",staticStyle:{background:"none","box-shadow":"0px 4px 4px rgba(0, 0, 0, 0.25),","border-radius":"10px"}},[a("div",{staticClass:"col"},[a("div",{staticClass:"row pl-1"},[a("div",{staticClass:"saj-title mb-1"},[t._v(" "+t._s(t.$t("Supervisor Info"))+" ")])]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Subsidiary"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Subsidiary"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-form-text select-size-lg",attrs:{placeholder:t.$t("Select Subsidiary"),rows:"8",options:t.subList,reduce:function(t){return t.value},clearable:!1,label:"text"},on:{input:function(e){return t.getSvName("update")}},model:{value:t.selectedSub,callback:function(e){t.selectedSub=e},expression:"selectedSub"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Supervisor Id"))+" : ")]),a("validation-provider",{attrs:{name:t.$t("Supervisor Id"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{staticClass:"saj-form-text select-size-lg",attrs:{placeholder:t.$t("Supervisor Id"),rows:"8",options:t.svNameList,clearable:!1,label:"empNo"},on:{input:function(e){return t.showValue(t.empData.sv_employee_number)}},model:{value:t.empData.sv_employee_number,callback:function(e){t.$set(t.empData,"sv_employee_number",e)},expression:"empData.sv_employee_number"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"col-lg-6 saj-text"},[a("div",{staticClass:"m-0 mt-1 mb-1"},[t._v(" "+t._s(t.$t("Supervisor Name"))+" : ")]),a("b-form-input",{staticClass:"saj-text m-0",attrs:{size:"lg",disabled:"",placeholder:t.$t("Supervisor Name")},model:{value:t.supervisorName,callback:function(e){t.supervisorName=e},expression:"supervisorName"}})],1)])])]),a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn btn-close m-1 saj-button",staticStyle:{color:"white",background:"#ff0000"},attrs:{"aria-label":"Close modal"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("Back"))+" ")]),a("button",{staticClass:"btn m-1 saj-button",staticStyle:{color:"white",background:"#0b103c !important","border-color":"#0b103c !important"},attrs:{"aria-label":"submit modal"},on:{click:function(e){t.isUpdate?t.updateEmployee():t.addEmployee()}}},[t._v(" "+t._s(t.$t("Save"))+" ")])])],1)],1)},vt=[],gt=a("4a7a"),yt=a.n(gt),_t={components:{BForm:Q["a"],BFormInput:j["a"],BFormGroup:Z["a"],BFormTextarea:tt["a"],ValidationProvider:C["b"],ValidationObserver:C["a"],BFormSelect:ht["a"],BFormFile:$["a"],vSelect:yt.a},props:{empInfo:{type:Object,default:()=>{}},isUpdate:{type:Boolean,default:!1},subsID:{type:null,default:null}},data(){return{empData:this.isUpdate?this.empInfo:{race:null,religion:null,citizenship:null,gender:null,marital_status:null,grade:null,middle_name:"",business_unit:[]},supervisor:[],supervisorName:null,required:y["b"],fullName:"",userRoles:[],subsidiaryID:null,businessUnitList:[],allbusinessUnit:[],departmentList:[],alldepartment:[],allBranch:[],allRoles:[],branchList:[],positionList:[],allPosition:[],gradeList:[],allGrade:[],subsidiaryStaffList:[],profile:{employee_name:void 0!==this.empData?this.empData.full_name:"",first_name:void 0!==this.empData?this.empData.first_name:"",middle_name:"",last_name:"",ethnicity:"",religion:"",citizenship:"",ic:"",dob:"",gender:"",marital_status:"",business_unit:"",position:"",department:"",work_location:"",grade:"",grade_set:"",employee_number:"",doj:"",email:"",profile_picture:[]},genderoptions_bi:[{value:null,text:"Choose Gender",disabled:!0},{value:"Male",text:"Male"},{value:"Female",text:"Female"}],genderoptions:[{value:null,text:"Pilih Jantina",disabled:!0},{value:"Male",text:"Lelaki"},{value:"Female",text:"Perempuan"}],marital_statusoptions_bi:[{value:null,text:"Choose Marital status",disabled:!0},{value:"Single",text:"Single"},{value:"Married",text:"Married"},{value:"Divorced",text:"Divorced"},{value:"Widowed",text:"Widowed"}],marital_statusoptions:[{value:null,text:"Pilih Status Perkahwinan",disabled:!0},{value:"Single",text:"Bujang"},{value:"Married",text:"Berkahwin"},{value:"Divorced",text:"Bercerai"},{value:"Widowed",text:"Balu/Janda/Duda"}],raceoptions_bi:[{value:null,text:"Choose Ethnicity",disabled:!0},{value:"Malay",text:"Malay"},{value:"Chinese",text:"Chinese"},{value:"Indian",text:"Indian"},{value:"Others",text:"Others"}],raceoptions:[{value:null,text:"Pilih Kaum",disabled:!0},{value:"Malay",text:"Melayu"},{value:"Chinese",text:"Cina"},{value:"Indian",text:"India"},{value:"Others",text:"Lain-lain"}],religionoptions_bi:[{value:null,text:"Choose Religion status",disabled:!0},{value:"Islam",text:"Islam"},{value:"Hinduism",text:"Hinduism"},{value:"Buddhism",text:"Buddhaism"},{value:"Christianity",text:"Christianity"},{value:"Others",text:"Others"}],religionoptions:[{value:null,text:"Pilih Agama",disabled:!0},{value:"Islam",text:"Islam"},{value:"Hinduism",text:"Hinduism"},{value:"Buddhism",text:"Buddhism"},{value:"Christianity",text:"Kristianiti"},{value:"Others",text:"Lain-lain"}],citizenshipoptions:[{value:null,text:""+this.$i18n.t("Choose citizenship"),disabled:!0},{value:"Malaysia",text:"Malaysia"},{value:"Others",text:"Others"}],svNameList:[],supervisorListName:[],subList:[],selectedSub:null}},computed:{isEnglish(){return"en"===this.$i18n.locale}},beforeMount(){this.id=this.$route.params.id},mounted(){this.subsidiaryID=this.subsID,this.getSubsidiary(),this.getDepartment(),this.getWorkLocation(),this.getPosition(),this.getGrade(),this.getAllRoles(),this.isUpdate&&(this.getUserRole(),this.getGradeSet(),this.showValue(null!==this.empData.sv_employee_number?this.empData.sv_employee_number:"Please choose Supervisor")),this.getSubsidiaryList()},methods:{onFileChange(t){if(0!==t.target.files.length){const e=t.target.files[0].size/1e3;e>5120&&this.$toast({component:O["a"],props:{title:this.$t("File must less than 5 MB")+".",icon:"XIcon",variant:"success",titleColor:"#000",iconBg:"#e80202"}},{position:"top-right",type:"info"})}},close(){this.$emit("close")},showValue(t){this.$axios.get(`${this.$baseUrl}/employees/getAllEmployeesNameWithoutPerformance?employee_number=${void 0!==t.empNo?t.empNo:t}`).then(t=>{const e=t.data.data;this.supervisorName=void 0!==e[0].full_name?e[0].full_name:"Please choose Supervisor",void 0!==e[0].full_name&&(this.selectedSub=e[0].business_unit),void 0!==e[0].full_name&&this.getSvName()}).catch(()=>{this.supervisorName="Please choose Supervisor"})},getSvName(t){this.$axios.get(`${this.$baseUrl}/employees/getAllEmployeesNameWithoutPerformance?subsidiary_id=${this.selectedSub}&status=active`).then(e=>{this.supervisorListName=e.data.data,"update"===t&&(this.supervisorName="Please choose Supervisor",this.empData.sv_employee_number=""),this.svNameList=this.supervisorListName.map(t=>({empNo:t.employee_number}))})},getAllRoles(){this.allRoles=[];const t=new URLSearchParams;this.$axios.get(this.$baseUrl+"/roles/getAllRoles",{params:t}).then(t=>{const e=t.data.data;e.forEach(t=>{this.allRoles.push({text:t.name,value:t.id})})})},getUserRole(){this.$axios.get(`${this.$baseUrl}/roles/getUserRole?user_id=${this.empData.user_id}`).then(t=>{const e=t.data.data.role;e.forEach(t=>{this.userRoles.push({text:t.role_name,value:t.role_id})})})},updateRole(){},getSubsidiary(){this.$axios.get(`${this.$baseUrl}/subsidiary/getById?id=${this.subsidiaryID}`).then(t=>{this.allbusinessUnit=t.data.data,this.allbusinessUnit.forEach(t=>{this.businessUnitList.push({text:t.subsidiary_name,value:t.id})})})},getSubsidiaryList(){this.$axios.get(this.$baseUrl+"/subsidiary/getAll").then(t=>{const e=t.data.data.subsidiaries;this.subList=e.map(t=>({text:t.subsidiary_name,value:t.id}))})},getDepartment(){this.$axios.get(`${this.$baseUrl}/departments/get_departments_by_subsidiary?subsidiary_id=${this.subsidiaryID}`).then(t=>{const e=t.data;e.success&&(this.alldepartment=t.data.data,this.alldepartment.forEach(t=>{this.departmentList.push({text:t.name,value:t.id})}))})},getWorkLocation(){this.$axios.get(`${this.$baseUrl}/branch/get_branch_by_company?company_id=${this.subsidiaryID}`).then(t=>{this.allBranch=t.data.data,this.allBranch.forEach(t=>{this.branchList.push({text:t.name,value:t.id})})})},getPosition(){this.$axios.get(this.$baseUrl+"/position/get_position_all").then(t=>{this.allPosition=t.data.data,this.allPosition.forEach(t=>{this.positionList.push(t.name)})})},getGrade(){this.$axios.get(this.$baseUrl+"/grades/").then(t=>{this.allGrade=t.data.data,this.gradeList=this.allGrade.map(t=>t.grade)})},getGradeSet(){null!==this.empData.grade?this.$axios.get(`${this.$baseUrl}/grades/get_grade_set?grade=${this.empData.grade}`).then(t=>{this.profile.grade_set=t.data.data.grade_set}):this.profile.grade_set=null},addEmployee(){this.$refs.validateEmployee.validate().then(t=>{if(t){const t=new FormData;this.fullName=`${this.empData.first_name} ${this.empData.middle_name} ${this.empData.last_name}`,t.append("business_unit",this.empData.business_unit),t.append("employee_number",this.empData.employee_number),t.append("full_name",this.fullName),t.append("first_name",this.empData.first_name),t.append("middle_name",this.empData.middle_name),t.append("last_name",this.empData.last_name),t.append("email",this.empData.email),t.append("ic",this.empData.ic),t.append("department_id",this.empData.department_id),t.append("branch_id",this.empData.branch_id),t.append("grade",this.empData.grade),t.append("position",this.empData.position),t.append("race",this.empData.race),t.append("religion",this.empData.religion),t.append("citizenship",this.empData.citizenship),t.append("dob",this.empData.dob),t.append("gender",this.empData.gender),t.append("marital_status",this.empData.marital_status),t.append("hire_date",this.empData.hire_date),t.append("file",this.profile.profile_picture),t.append("supervisor_number",void 0===this.empData.sv_employee_number?"":this.empData.sv_employee_number.empNo),t.append("address_line1",void 0===this.empData.address_line1?"":this.empData.address_line1),t.append("address_line2",void 0===this.empData.address_line2?"":this.empData.address_line2),t.append("address_line3",void 0===this.empData.address_line3?"":this.empData.address_line3),t.append("postal_code",void 0===this.empData.postal_code?"":this.empData.postal_code),t.append("city",void 0===this.empData.city?"":this.empData.city),t.append("state",void 0===this.empData.state?"":this.empData.state),t.append("country",void 0===this.empData.country?"":this.empData.country),this.$axios.post(this.$baseUrl+"/employees/register_employee",t).then(t=>{this.$emit("close"),this.$emit("add-employee"),this.addUserRole(t.data.data.user_id),setTimeout(()=>{this.$toast({component:O["a"],props:{title:this.$t("Employee successfully added")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},1e3)}).catch(t=>{this.$toast({component:O["a"],props:{title:`${void 0!==t.response.data.data.email?""+t.response.data.data.email:""}  ${void 0!==t.response.data.data.employee_number?t.response.data.data.employee_number:""}`,icon:"AlertTriangleIcon",iconColor:"white",iconBg:"#FF000F",titleColor:"#000"}},{position:"top-right",type:"error"})})}})},addUserRole(t){const e=new FormData;e.append("user_id",t),this.userRoles.forEach(t=>{e.append("role_id[]",t.value)}),this.$axios.post(this.$baseUrl+"/roles/updateUserRole",e).then(()=>{})},updateUserRole(){const t=new FormData;t.append("user_id",this.empData.user_id),this.userRoles.forEach(e=>{t.append("role_id[]",e.value)}),this.$axios.post(this.$baseUrl+"/roles/updateUserRole",t).then(()=>{this.$emit("close"),this.$emit("update-employee")}).catch(t=>{this.$emit("close"),this.$emit("update-employee"),this.$toast({component:O["a"],props:{title:this.$t("Roles failed to update")+".",text:t.response.data.message,icon:"XIcon",iconBg:"#e80202",titleColor:"#000"}},{position:"top-right",type:"error"})})},updateEmployee(){this.$refs.validateEmployee.validate().then(t=>{if(t){const t=new FormData;this.fullName=`${this.empData.first_name} ${null===this.empData.middle_name?"":this.empData.middle_name} ${this.empData.last_name}`,t.append("user_id",this.empData.user_id),t.append("business_unit",this.empData.business_unit),t.append("employee_number",this.empData.employee_number),t.append("full_name",this.fullName),t.append("first_name",this.empData.first_name),t.append("middle_name",null===this.empData.middle_name||""===this.empData.middle_name?"":this.empData.middle_name),t.append("last_name",this.empData.last_name),t.append("email",this.empData.email),t.append("ic",this.empData.ic),t.append("department_id",this.empData.department_id),t.append("branch_id",this.empData.branch_id),t.append("grade",this.empData.grade),t.append("position",this.empData.position),t.append("race",this.empData.race),t.append("religion",this.empData.religion),t.append("citizenship",this.empData.citizenship),t.append("dob",this.empData.dob),t.append("gender",this.empData.gender),t.append("marital_status",this.empData.marital_status),t.append("hire_date",this.empData.hire_date),t.append("file",this.profile.profile_picture),t.append("address_line1",void 0===this.empData.address_line1||null===this.empData.address_line1?"":this.empData.address_line1),t.append("address_line2",void 0===this.empData.address_line2||null===this.empData.address_line2?"":this.empData.address_line2),t.append("address_line3",void 0===this.empData.address_line3||null===this.empData.address_line3?"":this.empData.address_line3),t.append("postal_code",void 0===this.empData.postal_code||null===this.empData.postal_code?"":this.empData.postal_code),t.append("city",void 0===this.empData.city||null===this.empData.city?"":this.empData.city),t.append("state",void 0===this.empData.state||null===this.empData.state?"":this.empData.state),t.append("country",void 0===this.empData.country||null===this.empData.country?"":this.empData.country),null!==this.empData.sv_employee_number&&t.append("supervisor_number",void 0!==this.empData.sv_employee_number.empNo?this.empData.sv_employee_number.empNo:this.empData.sv_employee_number),this.$axios.post(this.$baseUrl+"/employees/updateEmployee",t).then(()=>{this.updateUserRole(),setTimeout(()=>{this.$toast({component:O["a"],props:{title:this.$t("Employee info successfully updated")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},1e3)})}})}}},xt=_t,jt=(a("1dfe"),a("2bcd"),Object(S["a"])(xt,ft,vt,!1,null,null,null)),$t=jt.exports,Ct=a("4c93");Object(C["c"])("max_value",Ct["k"]),Object(C["c"])("min_value",Ct["m"]);var Ot={components:{BOverlay:T["a"],BSpinner:M["a"],BButton:r["a"],BTable:B["a"],empInfo:$t,BBadge:ut["a"],BFormInput:j["a"],BRow:L["a"],BCol:z["a"],ValidationProvider:C["b"],BInputGroup:pt["a"],BInputGroupAppend:mt["a"],BInputGroupText:bt["a"],BFormSelect:ht["a"],AlertModal:q["a"]},directives:{"b-tooltip":U["a"]},props:{subsID:{type:String,default:"0"},subsidiaryName:{type:String,default:""}},data(){return{lang:null,clearSearch:!1,errorMsg:[],email:null,show:!0,searchEmployee:null,publicPath:"/",emailList:[],userId:null,subsidiaryID:null,subsidiaryStaffList:[],empData:{},employeeList:[],required:y["b"],currentPage:1,perPage:null,to:null,from:null,rows:null,lastPage:null,currIdx:null,selectedItem:null,employeeNum:null,fields:[{key:"index",label:"No.",thClass:"text-center"},{key:"employeeNo",label:"Employee No.",thClass:"text-center"},{key:"name",label:"Name",tdClass:"text-center"},{key:"position",label:"Position",tdClass:"text-center"},{key:"department",label:"Department",tdClass:"text-center"},{key:"actions",label:"Action",tdClass:"text-center"},{key:"roles",label:"Role(s)",tdClass:"text-center"}],errFields:[{key:"line",label:"Excel Row No",tdClass:"text-center"},{key:"errors",label:"Error List",tdClass:"text-left"}],selectItem:[{value:null,text:""+this.$t("Search by")},{value:"Id",text:""+this.$t("Employee Number")},{value:"Name",text:""+this.$t("Employee Name")}]}},computed:{...Object(w["c"])(["roles"])},watch:{"$i18n.locale":function(){this.lang=this.$i18n.locale,this.selectItem=this.selectItem.map(t=>null===t.value?{...t,text:this.$t("Search by")}:t)}},mounted(){this.subsidiaryID=this.subsID,this.lang=this.$i18n.locale,this.onInitial()},methods:{onFiltered(t){this.rows=t.length},onInitial(){this.getSubsidiaryStaff()},onHideModal(){this.empData={}},triggerImportCSV(){document.getElementById("csvImport").value=null,document.getElementById("csvImport").click()},getSubsidiaryStaff(){const t=new URLSearchParams;t.append("subsidiary_id",this.subsidiaryID),t.append("page",this.currentPage),null!==this.searchEmployee&&("Name"===this.selectedItem?t.append("employee_name",this.searchEmployee):t.append("employee_number",this.searchEmployee)),t.append("status","active"),this.show=!0,this.subsidiaryStaffList=[],this.$axios.get(this.$baseUrl+"/subsidiary/get_subsidiary_staff",{params:t}).then(async t=>{const e=t.data;if(void 0!==e&&!1!==e.success){let t=e.data;this.from=e.from,this.to=e.to,this.rows=e.total,this.perPage=e.per_page,this.lastPage=e.last_page,this.currIdx=this.currentPage,t=await Promise.all(t.map(t=>this.$axios({method:"get",url:`${this.$baseUrl}/roles/getUserRole?user_id=${t.user_id}`}).then(async e=>({...t,role:e.data.data.role})).catch(()=>{}))),this.subsidiaryStaffList=t}else this.to=0,this.from=0,this.rows=0;this.show=!1}).catch(()=>{})},uploadCSV(){const t=document.getElementById("csvImport").files[0],e=new FormData;e.append("file",t);const a={method:"post",url:this.$baseUrl+"/hr/getFile",data:e};this.$axios(a).then(t=>{if(!0===t.data.success)this.getSubsidiaryStaff(),this.$toast({component:O["a"],props:{title:t.data.message,icon:"InfoIcon",iconColor:"white",iconBg:"#53b7db",titleColor:"#000"}},{position:"top-right",type:"info"});else{const e=t.data.data;e.forEach(t=>{this.errorMsg.push({line:void 0!==t.line?t.line:"-",errors_bm:t.error_bm,errors_bi:t.error_bi,data:void 0!==t.data?t.data:null})}),this.$bvModal.show("errMsg")}}).catch(()=>{})},getEmployee(t){this.$axios.get(`${this.$baseUrl}/employees/getEmployeeByUserId?user_id=${t.user_id}&status=active`).then(t=>{const e=t.data;e.success&&(this.empData=t.data.data,this.$bvModal.show("update-employee"))})},deactivateEmployee(){const t=new FormData;t.append("employee_number",this.employeeNum),t.append("status","inactive"),this.$axios.post(this.$baseUrl+"/employees/setActiveInactiveEmployee",t).then(()=>{this.$bvModal.hide("delete-employee"),this.currentPage=1,this.searchEmployee=null,this.$toast({component:O["a"],props:{title:this.$t("Successfully Deactivate Employee")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.getSubsidiaryStaff()})},sendInvitationEmail(t){const e=new FormData;e.append("email",t);const a={method:"post",url:this.$baseUrl+"/users/send_invitation",data:e};this.$axios(a).then(()=>{setTimeout(()=>{this.$toast({component:O["a"],props:{title:this.$t("Successfully send Invitation Email")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},1e3)}).catch(()=>{})},resetUserEmail(t){const e=new FormData;e.append("email",t);const a={method:"post",url:this.$baseUrl+"/password/change/random",data:e};this.$axios(a).then(()=>{setTimeout(()=>{this.$toast({component:O["a"],props:{title:this.$t("Successfully reset user Email")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})},1e3),this.$bvModal.hide("reset-password")}).catch(()=>{})}}},wt=Ot,Dt=(a("d457"),a("227c"),Object(S["a"])(wt,ct,dt,!1,null,null,null)),kt=Dt.exports,St={components:{BButton:r["a"],BButtonGroup:f,BTabs:v["a"],BTab:g["a"],information:I,workLocation:G,department:lt,employee:kt},props:{},data(){return{required:y["b"],tabIndex:1,id:null,isWork:!0,isDept:!0,isPosition:!0,isEmployee:!0,isCreate:!1,subsName:""}},mounted(){},beforeMount(){this.id=this.$route.params.id.toString(),this.isCreate=this.$route.params.isCreate,this.subsName=this.$route.params.subsidiaryname},methods:{goToNextPage(){const t=0==this.tabIndex?this.isWork:1==this.tabIndex?this.isDept:this.isEmployee;t&&this.$toast({component:O["a"],props:{title:this.$t("Please add information first")+".",icon:"XIcon",iconBg:"#e80202",variant:"danger",titleColor:"#000"}},{position:"top-right",type:"error"}),this.tabIndex++}}},Pt=St,It=Object(S["a"])(Pt,s,i,!1,null,null,null);e["default"]=It.exports},d190:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("2b0e"),i=a("b42e"),r=a("c637"),n=a("a723"),o=a("cf75"),l=Object(o["d"])({tag:Object(o["c"])(n["t"],"div")},r["W"]),c=s["default"].extend({name:r["W"],functional:!0,props:l,render:function(t,e){var a=e.props,s=e.data,r=e.children;return t(a.tag,Object(i["a"])(s,{staticClass:"input-group-text"}),r)}})},d457:function(t,e,a){"use strict";a("13a8")},ed47:function(t,e,a){},fb41:function(t,e,a){"use strict";a("8db9")}}]);
//# sourceMappingURL=chunk-1a415839.d94d270e.js.map