(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c1d3210","chunk-3b00b17d"],{"16b1":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex flex-column justify-content-center align-items-center p-1"},[i("div",{staticClass:"d-flex flex-column align-items-center"},[i("feather-icon",{style:"color: "+t.iconColor,attrs:{icon:t.icon,size:"56"}}),i("h2",{staticClass:"mt-1",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.$t(t.title))+" ")]),i("p",{staticStyle:{"font-size":"1rem"}},[t._v(" "+t._s(t.subtitle)+" ")])],1),i("div",{staticClass:"mt-1"},[t.showConfirm?i("b-button",{staticClass:"mr-1 saj-button",staticStyle:{"background-color":"rgb(11, 16, 60) !important"},on:{click:function(e){return t.confirm()}}},[t._v(" "+t._s(t.$t(t.confirmBtn))+" ")]):t._e(),t.showCancel?i("b-button",{staticClass:"confirmButton saj-button",on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t(t.cancelBtn))+" ")]):t._e()],1)])},a=[],n=i("1947"),o={components:{BButton:n["a"]},props:{title:{type:String,default:"Are you sure to delete?"},subtitle:{type:String,default:null},icon:{type:String,default:"AlertCircleIcon"},iconColor:{type:String,default:"#FF9F43"},confirmBtn:{type:String,default:"Submit"},cancelBtn:{type:String,default:"Cancel"},showConfirm:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0}},data(){return{}},mounted(){},methods:{cancel(){this.$emit("cancel")},confirm(){this.$emit("confirm")}}},r=o,c=(i("fb41"),i("2877")),l=Object(c["a"])(r,s,a,!1,null,"476a0589",null);e["a"]=l.exports},"205f":function(t,e,i){"use strict";i.d(e,"a",(function(){return B}));var s=i("2b0e"),a=i("b42e"),n=i("c637"),o=i("a723"),r=i("9b76"),c=i("8690"),l=i("365c"),d=i("d82f"),u=i("cf75"),b=i("d580"),p=i("6197"),f=i("b885");function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y=Object(u["d"])(Object(d["m"])(h(h({},Object(u["a"])(b["a"],u["f"].bind(null,"footer"))),{},{footer:Object(u["c"])(o["t"]),footerClass:Object(u["c"])(o["e"]),footerHtml:Object(u["c"])(o["t"])})),n["k"]),g=s["default"].extend({name:n["k"],functional:!0,props:y,render:function(t,e){var i,s=e.props,n=e.data,o=e.children,r=s.footerBgVariant,l=s.footerBorderVariant,d=s.footerTextVariant;return t(s.footerTag,Object(a["a"])(n,{staticClass:"card-footer",class:[s.footerClass,(i={},m(i,"bg-".concat(r),r),m(i,"border-".concat(l),l),m(i,"text-".concat(d),d),i)],domProps:o?{}:Object(c["a"])(s.footerHtml,s.footer)}),o)}}),O=i("4918");function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){D(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function D(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var x=Object(u["d"])(Object(d["m"])(_(_({},Object(d["k"])(O["b"],["src","alt","width","height","left","right"])),{},{bottom:Object(u["c"])(o["g"],!1),end:Object(u["c"])(o["g"],!1),start:Object(u["c"])(o["g"],!1),top:Object(u["c"])(o["g"],!1)})),n["m"]),C=s["default"].extend({name:n["m"],functional:!0,props:x,render:function(t,e){var i=e.props,s=e.data,n=i.src,o=i.alt,r=i.width,c=i.height,l="card-img";return i.top?l+="-top":i.right||i.end?l+="-right":i.bottom?l+="-bottom":(i.left||i.start)&&(l+="-left"),t("img",Object(a["a"])(s,{class:l,attrs:{src:n,alt:o,width:r,height:c}}))}});function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){S(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function S(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var P=Object(u["a"])(x,u["f"].bind(null,"img"));P.imgSrc.required=!1;var k=Object(u["d"])(Object(d["m"])(w(w(w(w(w(w({},p["b"]),f["b"]),y),P),b["a"]),{},{align:Object(u["c"])(o["t"]),noBody:Object(u["c"])(o["g"],!1)})),n["i"]),B=s["default"].extend({name:n["i"],functional:!0,props:k,render:function(t,e){var i,s=e.props,n=e.data,o=e.slots,d=e.scopedSlots,b=s.imgSrc,v=s.imgLeft,h=s.imgRight,m=s.imgStart,O=s.imgEnd,j=s.imgBottom,_=s.header,D=s.headerHtml,x=s.footer,$=s.footerHtml,w=s.align,k=s.textVariant,B=s.bgVariant,L=s.borderVariant,T=d||{},E=o(),I={},V=t(),U=t();if(b){var A=t(C,{props:Object(u["e"])(P,s,u["h"].bind(null,"img"))});j?U=A:V=A}var N=t(),z=Object(l["a"])(r["q"],T,E);(z||_||D)&&(N=t(f["a"],{props:Object(u["e"])(f["b"],s),domProps:z?{}:Object(c["a"])(D,_)},Object(l["b"])(r["q"],I,T,E)));var F=Object(l["b"])(r["g"],I,T,E);s.noBody||(F=t(p["a"],{props:Object(u["e"])(p["b"],s)},F),s.overlay&&b&&(F=t("div",{staticClass:"position-relative"},[V,F,U]),V=t(),U=t()));var H=t(),q=Object(l["a"])(r["p"],T,E);return(q||x||$)&&(H=t(g,{props:Object(u["e"])(y,s),domProps:z?{}:Object(c["a"])($,x)},Object(l["b"])(r["p"],I,T,E))),t(s.tag,Object(a["a"])(n,{staticClass:"card",class:(i={"flex-row":v||m,"flex-row-reverse":(h||O)&&!(v||m)},S(i,"text-".concat(w),w),S(i,"bg-".concat(B),B),S(i,"border-".concat(L),L),S(i,"text-".concat(k),k),i)}),[V,N,F,H,U])}})},4968:function(t,e,i){"use strict";i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return d}));var s=i("2b0e"),a=i("b42e"),n=i("c637"),o=i("a723"),r=i("cf75"),c=i("fa73"),l=Object(r["d"])({title:Object(r["c"])(o["t"]),titleTag:Object(r["c"])(o["t"],"h4")},n["p"]),d=s["default"].extend({name:n["p"],functional:!0,props:l,render:function(t,e){var i=e.props,s=e.data,n=e.children;return t(i.titleTag,Object(a["a"])(s,{staticClass:"card-title"}),n||Object(c["g"])(i.title))}})},6197:function(t,e,i){"use strict";i.d(e,"b",(function(){return m})),i.d(e,"a",(function(){return y}));var s=i("2b0e"),a=i("b42e"),n=i("c637"),o=i("a723"),r=i("d82f"),c=i("cf75"),l=i("d580"),d=i("4968"),u=i("fa73"),b=Object(c["d"])({subTitle:Object(c["c"])(o["t"]),subTitleTag:Object(c["c"])(o["t"],"h6"),subTitleTextVariant:Object(c["c"])(o["t"],"muted")},n["n"]),p=s["default"].extend({name:n["n"],functional:!0,props:b,render:function(t,e){var i=e.props,s=e.data,n=e.children;return t(i.subTitleTag,Object(a["a"])(s,{staticClass:"card-subtitle",class:[i.subTitleTextVariant?"text-".concat(i.subTitleTextVariant):null]}),n||Object(u["g"])(i.subTitle))}});function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var m=Object(c["d"])(Object(r["m"])(v(v(v(v({},d["b"]),b),Object(c["a"])(l["a"],c["f"].bind(null,"body"))),{},{bodyClass:Object(c["c"])(o["e"]),overlay:Object(c["c"])(o["g"],!1)})),n["j"]),y=s["default"].extend({name:n["j"],functional:!0,props:m,render:function(t,e){var i,s=e.props,n=e.data,o=e.children,r=s.bodyBgVariant,l=s.bodyBorderVariant,u=s.bodyTextVariant,f=t();s.title&&(f=t(d["a"],{props:Object(c["e"])(d["b"],s)}));var v=t();return s.subTitle&&(v=t(p,{props:Object(c["e"])(b,s),class:["mb-2"]})),t(s.bodyTag,Object(a["a"])(n,{staticClass:"card-body",class:[(i={"card-img-overlay":s.overlay},h(i,"bg-".concat(r),r),h(i,"border-".concat(l),l),h(i,"text-".concat(u),u),i),s.bodyClass]}),[f,v,o])}})},"8bfa":function(t,e,i){},"8db9":function(t,e,i){},b885:function(t,e,i){"use strict";i.d(e,"b",(function(){return f})),i.d(e,"a",(function(){return v}));var s=i("2b0e"),a=i("b42e"),n=i("c637"),o=i("a723"),r=i("8690"),c=i("d82f"),l=i("cf75"),d=i("d580");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){p(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f=Object(l["d"])(Object(c["m"])(b(b({},Object(l["a"])(d["a"],l["f"].bind(null,"header"))),{},{header:Object(l["c"])(o["t"]),headerClass:Object(l["c"])(o["e"]),headerHtml:Object(l["c"])(o["t"])})),n["l"]),v=s["default"].extend({name:n["l"],functional:!0,props:f,render:function(t,e){var i,s=e.props,n=e.data,o=e.children,c=s.headerBgVariant,l=s.headerBorderVariant,d=s.headerTextVariant;return t(s.headerTag,Object(a["a"])(n,{staticClass:"card-header",class:[s.headerClass,(i={},p(i,"bg-".concat(c),c),p(i,"border-".concat(l),l),p(i,"text-".concat(d),d),i)],domProps:o?{}:Object(r["a"])(s.headerHtml,s.header)}),o)}})},b956:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("b-card",{staticClass:"saj-title mr-1 pb-2",attrs:{"no-body":""}},[i("b-card-body",[i("b-row",[i("b-col",{staticClass:"mb-md-0",attrs:{cols:"12",md:"4"}},[i("label",{staticClass:"saj-text"},[t._v(t._s(t.$t("Subsidiary"))+":")]),i("b-form-select",{staticClass:"saj-text",attrs:{size:"md",options:t.subsidiaryList},model:{value:t.selectedSub,callback:function(e){t.selectedSub=e},expression:"selectedSub"}})],1),i("b-col",{staticClass:"mt-2 justify-content-center",attrs:{cols:"2"}},[i("b-button",{staticStyle:{"margin-top":"7px"},attrs:{variant:"primary",block:"",disabled:null===t.selectedSub},on:{click:function(e){t.getDivision(),t.show=!0}}},[i("span",{staticClass:"saj-button d-md-none d-lg-block"},[t._v(" "+t._s(t.$t("Search"))+" ")])])],1),i("b-col",{staticClass:"mt-2",attrs:{cols:"2"}},[i("b-button",{staticStyle:{"margin-top":"7px"},attrs:{variant:"primary",block:""},on:{click:function(e){return t.clearSearch()}}},[i("span",{staticClass:"saj-button d-md-none d-lg-block"},[t._v(" "+t._s(t.$t("Clear")))])])],1)],1)],1)],1),t.show?i("div",[i("b-card",{staticClass:"saj-text mr-1 p-1",attrs:{"no-body":""}},[i("div",{staticClass:"d-flex justify-content-end"},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.create-division",modifiers:{"create-division":!0}}],staticClass:"saj-button",attrs:{variant:"primary"}},[t._v(" "+t._s(t.$t("Add New Division"))+" ")])],1),i("b-modal",{attrs:{id:"create-division","hide-footer":!0,"hide-header":!0,centered:!0,size:"lg"}},[i("CreateDivision",{attrs:{"is-update":!1,subsidiary:t.selectedSub,division:{}},on:{close:function(e){return t.$bvModal.hide("create-division")},"reload-division":function(e){return t.getDivision()}}})],1),i("b-modal",{attrs:{id:"edit-division","hide-footer":!0,"hide-header":!0,centered:!0,size:"lg"}},[i("CreateDivision",{attrs:{division:t.divisionData},on:{close:function(e){return t.$bvModal.hide("edit-division")},"reload-division":function(e){return t.getDivision()}}})],1),i("b-modal",{attrs:{id:"delete-division","hide-footer":!0,"hide-header":!0,centered:!0}},[i("deleteDiv",{attrs:{"confirm-btn":"Yes","cancel-btn":"No",title:t.$t("Are you sure to delete this Division?")},on:{cancel:function(e){return t.$bvModal.hide("delete-division")},confirm:function(e){t.deleteDivision(),t.$bvModal.hide("delete-division")}}})],1),i("div",[i("b-table",{staticClass:"mt-1 mb-1 saj-subtitle",attrs:{"show-empty":"",items:t.DivisionList,fields:t.fields,responsive:"",bordered:""},scopedSlots:t._u([{key:"head()",fn:function(e){return[i("span",{staticClass:"saj-title"},[t._v(t._s(t.$t(e.label)))])]}},{key:"empty",fn:function(){return[i("h4",{staticStyle:{"text-align":"center","font-style":"italic"}},[t._v(" "+t._s(t.$t("There are no records to show"))+" ")])]},proxy:!0},{key:"cell(index)",fn:function(e){return[i("div",{staticClass:"saj-text d-flex justify-content-center"},[t._v(" "+t._s(e.index+1)+" ")])]}},{key:"cell(division)",fn:function(e){return[t._v(" "+t._s(e.item.name)+" ")]}},{key:"cell(person)",fn:function(e){return[t._v(" "+t._s(null===e.item.head_of_division_id?t.$t("No Person Assign"):e.item.head_of_division_id.full_name)+" ")]}},{key:"cell(action)",fn:function(e){return[i("div",{staticClass:"d-flex justify-content-center"},[i("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Edit"),expression:"$t('Edit')",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",staticStyle:{color:"green"},attrs:{icon:"EditIcon",size:"25"},on:{click:function(i){t.$bvModal.show("edit-division"),t.divisionData=e}}}),i("feather-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-division",modifiers:{"delete-division":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.$t("Delete"),expression:"$t('Delete')",modifiers:{hover:!0,top:!0}}],staticStyle:{color:"red"},attrs:{icon:"Trash2Icon",size:"25"},on:{click:function(i){t.divisionId=e.item.id}}})],1)]}}],null,!1,1502191447)})],1)],1)],1):t._e()],1)},a=[],n=i("a15b"),o=i("b28b"),r=i("1947"),c=i("8361"),l=i("205f"),d=i("6197"),u=i("29a1"),b=i("6aac"),p=i("2616"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"saj-title m-0 mt-1 mb-1",attrs:{"no-body":""}},[i("validation-observer",{ref:"validateDivision"},[i("div",{staticClass:"p-1 d-flex justify-content-center"},[i("p",{staticClass:"saj-header"},[t._v(" "+t._s(t.isUpdate?t.$t("Edit Division"):t.$t("Add New Division"))+" ")])]),i("b-row",{staticClass:"col-12 saj-text m-0"},[i("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"3"}},[t._v(" "+t._s(t.$t("Division Name"))+": ")]),i("b-col",{staticClass:"p-1",attrs:{cols:"9"}},[i("validation-provider",{attrs:{name:t.$t("Division Name"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[i("b-form-input",{staticClass:"saj-text",attrs:{type:"text",placeholder:""},model:{value:t.division_name,callback:function(e){t.division_name=e},expression:"division_name"}}),i("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),t.isUpdate?i("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"3"}},[t._v(" "+t._s(t.$t("Assigned To"))+": ")]):t._e(),t.isUpdate?i("b-col",{staticClass:"p-1 ",attrs:{cols:"9"}},[i("v-select",{staticClass:"saj-text select-size-md",staticStyle:{background:"white"},attrs:{label:"text",placeholder:t.$t("Choose Employee"),reduce:function(t){return t.value},options:t.empList,value:t.empList},model:{value:t.assigned_to,callback:function(e){t.assigned_to=e},expression:"assigned_to"}})],1):t._e(),i("b-col",{staticClass:"p-1 d-flex align-items-start",attrs:{cols:"3"}},[t._v(" "+t._s(t.$t("Description"))+": ")]),i("b-col",{staticClass:"p-1 ",attrs:{cols:"9"}},[i("validation-provider",{attrs:{name:t.$t("Description"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"saj-text form-control flex-grow-1",staticStyle:{height:"120px"},attrs:{name:"textarea",rows:"5"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),i("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1),i("b-col",{staticClass:"p-1 d-flex align-items-center",attrs:{cols:"3"}},[t._v(" "+t._s(t.$t("Department"))+": ")]),i("b-col",{staticClass:"p-1 ",attrs:{cols:"9"}},[t.isUpdate?i("v-select",{staticClass:"saj-text select-size-md",staticStyle:{background:"white"},attrs:{label:"text",placeholder:t.$t("Select Department"),multiple:"",reduce:function(t){return t.value},options:t.deptList,value:t.deptList},model:{value:t.selectDepartment,callback:function(e){t.selectDepartment=e},expression:"selectDepartment"}}):i("validation-provider",{attrs:{name:t.$t("Department"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[i("v-select",{staticClass:"saj-text select-size-md",staticStyle:{background:"white"},attrs:{label:"text",placeholder:t.$t("Select Department"),multiple:"",reduce:function(t){return t.value},options:t.deptList,value:t.deptList},model:{value:t.selectDepartment,callback:function(e){t.selectDepartment=e},expression:"selectDepartment"}}),i("small",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)],1),i("div",{staticClass:"justify-content-center mt-3"},[i("div",{staticClass:"d-flex justify-content-center"},[i("button",{staticClass:"btn btn-close m-1 saj-button",staticStyle:{color:"white",background:"#ff0000"},attrs:{"aria-label":"Close modal"},on:{click:function(e){return t.close()}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),i("button",{staticClass:"btn m-1 saj-button",staticStyle:{color:"white",background:"#0b103c !important","border-color":"#0b103c !important"},attrs:{"aria-label":"submit modal"},on:{click:function(e){t.isUpdate?t.editDivision():t.addDivision()}}},[t._v(" "+t._s(t.$t("Save"))+" ")])])])],1)],1)])},v=[],h=i("4797"),m=i("4a7a"),y=i.n(m),g=i("7bb1"),O=i("8f03"),j=i("206d"),_={components:{BRow:n["a"],BCol:o["a"],BFormInput:h["a"],vSelect:y.a,ValidationProvider:g["b"],ValidationObserver:g["a"]},props:{isUpdate:{type:Boolean,default:!0},division:{type:null,default:null},subsidiary:{type:null,default:null}},data(){return{required:O["b"],division_name:void 0!==this.division.item?this.division.item.name:"",assigned_to:void 0===this.division.item||null===this.division.item.head_of_division_id?[]:this.division.item.head_of_division_id.full_name,description:void 0!==this.division.item?this.division.item.details:"",selectDepartment:[],division_id:void 0!==this.division.item?this.division.item.id:"",deptList:[],deptDivList:[],empList:[],divisionData:this.division,subsidiaryID:null,empListA:[],hod:null}},computed:{isEnglish(){return"en"===this.$i18n.locale}},mounted(){this.getDepartmentBySub(),this.isUpdate&&(this.getEmployeeDivision(),setTimeout(()=>{this.getHeadOfDivision(),this.getDepartmentDivision()},500))},methods:{close(){this.$emit("close")},getEmployeeDivision(){this.isUpdate?this.subsidiaryID=this.division.item.subsidiary_id:this.subsidiaryID=this.subsidiary,this.$axios.get(`${this.$baseUrl}/divisions/get_employee_by_grade_set?subsidiary_id=${this.subsidiaryID}&grade_set_id=1&status=active`).then(t=>{const e=t.data.data,i=e.map(t=>({value:t.id,text:t.full_name}));this.$axios.get(`${this.$baseUrl}/divisions/get_employee_by_grade_set?subsidiary_id=${this.subsidiaryID}&grade_set_id=2&status=active`).then(t=>{const e=t.data.data,s=e.map(t=>({value:t.id,text:t.full_name}));this.empList=i.concat(s)})})},getHeadOfDivision(){this.$axios.get(`${this.$baseUrl}/divisions/get_head_of_division?division_id=${this.division_id}`).then(t=>{this.hod=t.data.data,this.hod=new Array(this.hod),this.empListA=this.hod.map(t=>t.id?t.id:"No People Assign"),this.assigned_to=this.empListA})},getDepartmentBySub(){this.isUpdate?this.subsidiaryID=this.division.item.subsidiary_id:this.subsidiaryID=this.subsidiary,this.$axios.get(`${this.$baseUrl}/departments/get_departments_by_subsidiary?subsidiary_id=${this.subsidiaryID}`).then(t=>{this.allDeptName=t.data.data,this.deptList=this.allDeptName.map(t=>({value:t.id,text:t.name}))})},getDepartmentDivision(){this.$axios.get(`${this.$baseUrl}/divisions/get_all_divisions?division_id=${this.division_id}`).then(t=>{this.allDeptDiv=t.data.data.departments,this.deptDivList=this.allDeptDiv.map(t=>t.id),this.selectDepartment=this.deptDivList})},addDivision(){this.$refs.validateDivision.validate().then(t=>{if(t){const t=new FormData;t.append("subsidiary_id",this.subsidiary),t.append("name",this.division_name),t.append("details",this.description),this.selectDepartment.forEach(e=>{t.append("department_id[]",e)}),this.$axios.post(this.$baseUrl+"/divisions/store_divisions",t).then(()=>{setTimeout(()=>{this.$toast({component:j["a"],props:{title:this.$t("Division successfully added")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$emit("reload-division"),this.$emit("close")},1e3)}).catch(t=>{const e=t.response.data.data;this.$toast({component:j["a"],props:{title:this.isEnglish?e.bi_msg:e.bm_msg,icon:"XIcon",iconBg:"#e80202",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})})}})},editDivision(){this.$refs.validateDivision.validate().then(t=>{if(t){const t=new FormData;t.append("division_id",this.division_id),t.append("name",this.division_name),t.append("details",this.description),t.append("employee_id",this.assigned_to),this.selectDepartment.forEach(e=>{t.append("department_id[]",e)}),this.$axios.post(this.$baseUrl+"/divisions/update_divisions",t).then(t=>{const e=t.data;e.success&&setTimeout(()=>{this.$toast({component:j["a"],props:{title:this.$t("Division successfully updated")+".",icon:"CheckCircleIcon",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"}),this.$emit("reload-division"),this.$emit("close")},1e3)}).catch(t=>{const e=t.response.data.data;this.$toast({component:j["a"],props:{title:this.isEnglish?e.bi_msg:e.bm_msg,icon:"XIcon",iconBg:"#e80202",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})})}})}}},D=_,x=i("2877"),C=Object(x["a"])(D,f,v,!1,null,null,null),$=C.exports,w=i("16b1"),S={components:{BRow:n["a"],BCol:o["a"],BButton:r["a"],BFormSelect:c["a"],BCard:l["a"],BCardBody:d["a"],BTable:u["a"],CreateDivision:$,BModal:b["a"],deleteDiv:w["a"]},directives:{"b-tooltip":p["a"]},props:{},data(){return{subsidiaryID:"",selectedSub:null,subsidiaryList:[{text:""+this.$i18n.t("Choose Subsidiary"),value:null,disabled:!0}],show:!1,DivisionList:[],fields:[{key:"index",label:"No.",thClass:"text-center"},{key:"division",label:"Division",thClass:"text-center",tdClass:"text-center"},{key:"person",label:"Person Assigned",thClass:"text-center"},{key:"action",label:"Action",thClass:"text-center"}],divisionData:null,divisionId:null}},computed:{isEnglish(){return"en"===this.$i18n.locale}},watch:{"$i18n.locale":function(){this.subsidiaryList=this.subsidiaryList.map(t=>null===t.value?{...t,text:this.$t("Choose Subsidiary")}:t)}},mounted(){this.getSubsidiaryList()},methods:{getDivision(){this.$axios.get(`${this.$baseUrl}/divisions/get_all_head_of_division?subsidiary_id=${this.selectedSub}`).then(t=>{t.data.success?this.DivisionList=t.data.data:this.DivisionList=[]}).catch(()=>{this.DivisionList=[]})},getSubsidiaryList(){this.$axios.get(this.$baseUrl+"/subsidiary/getAll").then(t=>{const e=t.data.data.subsidiaries;e.forEach(t=>{this.subsidiaryList.push({text:t.subsidiary_name,value:t.id})})})},clearSearch(){this.selectedSub=null,this.show=!1},deleteDivision(){const t=new FormData;t.append("division_id",this.divisionId),this.$axios.post(this.$baseUrl+"/divisions/delete_divisions",t).then(()=>{this.$toast({component:j["a"],props:{title:this.$t("Successfully deleted")+".",icon:"Trash2Icon",variant:"success",titleColor:"#000",iconBg:"#e80202"}},{position:"top-right",type:"info"}),this.$emit("close"),this.getDivision()}).catch(()=>{this.$toast({component:j["a"],props:{title:this.$t("Division cannot be deleted because there are departments that still exist in that division")+".",icon:"XIcon",iconBg:"#e80202",variant:"success",titleColor:"#000"}},{position:"top-right",type:"info"})})}}},P=S,k=(i("cc00"),Object(x["a"])(P,s,a,!1,null,"ed9dfcd2",null));e["default"]=k.exports},cc00:function(t,e,i){"use strict";i("8bfa")},d580:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("2b0e"),a=i("c637"),n=i("a723"),o=i("cf75"),r=Object(o["d"])({bgVariant:Object(o["c"])(n["t"]),borderVariant:Object(o["c"])(n["t"]),tag:Object(o["c"])(n["t"],"div"),textVariant:Object(o["c"])(n["t"])},a["i"]);s["default"].extend({props:r})},fb41:function(t,e,i){"use strict";i("8db9")}}]);
//# sourceMappingURL=chunk-4c1d3210.9fa961f2.js.map